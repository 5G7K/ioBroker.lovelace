(self["webpackJsonp"] = self["webpackJsonp"] || []).push([["thingtalk-dialog"],{

/***/ "./node_modules/@polymer/paper-dialog-scrollable/paper-dialog-scrollable.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@polymer/paper-dialog-scrollable/paper-dialog-scrollable.js ***!
  \**********************************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _polymer_polymer_polymer_legacy_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @polymer/polymer/polymer-legacy.js */ \"./node_modules/@polymer/polymer/polymer-legacy.js\");\n/* harmony import */ var _polymer_iron_flex_layout_iron_flex_layout_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @polymer/iron-flex-layout/iron-flex-layout.js */ \"./node_modules/@polymer/iron-flex-layout/iron-flex-layout.js\");\n/* harmony import */ var _polymer_paper_styles_default_theme_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @polymer/paper-styles/default-theme.js */ \"./node_modules/@polymer/paper-styles/default-theme.js\");\n/* harmony import */ var _polymer_paper_dialog_behavior_paper_dialog_behavior_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @polymer/paper-dialog-behavior/paper-dialog-behavior.js */ \"./node_modules/@polymer/paper-dialog-behavior/paper-dialog-behavior.js\");\n/* harmony import */ var _polymer_polymer_lib_legacy_polymer_fn_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @polymer/polymer/lib/legacy/polymer-fn.js */ \"./node_modules/@polymer/polymer/lib/legacy/polymer-fn.js\");\n/* harmony import */ var _polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @polymer/polymer/lib/utils/html-tag.js */ \"./node_modules/@polymer/polymer/lib/utils/html-tag.js\");\n/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\n\n\n\n\n\n\n/**\nMaterial design:\n[Dialogs](https://www.google.com/design/spec/components/dialogs.html)\n\n`paper-dialog-scrollable` implements a scrolling area used in a Material Design\ndialog. It shows a divider at the top and/or bottom indicating more content,\ndepending on scroll position. Use this together with elements implementing\n`Polymer.PaperDialogBehavior`.\n\n    <paper-dialog-impl>\n      <h2>Header</h2>\n      <paper-dialog-scrollable>\n        Lorem ipsum...\n      </paper-dialog-scrollable>\n      <div class=\"buttons\">\n        <paper-button>OK</paper-button>\n      </div>\n    </paper-dialog-impl>\n\nIt shows a top divider after scrolling if it is not the first child in its\nparent container, indicating there is more content above. It shows a bottom\ndivider if it is scrollable and it is not the last child in its parent\ncontainer, indicating there is more content below. The bottom divider is hidden\nif it is scrolled to the bottom.\n\nIf `paper-dialog-scrollable` is not a direct child of the element implementing\n`Polymer.PaperDialogBehavior`, remember to set the `dialogElement`:\n\n    <paper-dialog-impl id=\"myDialog\">\n      <h2>Header</h2>\n      <div class=\"my-content-wrapper\">\n        <h4>Sub-header</h4>\n        <paper-dialog-scrollable>\n          Lorem ipsum...\n        </paper-dialog-scrollable>\n      </div>\n      <div class=\"buttons\">\n        <paper-button>OK</paper-button>\n      </div>\n    </paper-dialog-impl>\n\n    <script>\n      var scrollable =\nPolymer.dom(myDialog).querySelector('paper-dialog-scrollable');\n      scrollable.dialogElement = myDialog;\n    </script>\n\n### Styling\nThe following custom properties and mixins are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-dialog-scrollable` | Mixin for the scrollable content | {}\n\n@group Paper Elements\n@element paper-dialog-scrollable\n@demo demo/index.html\n@hero hero.svg\n*/\n\nObject(_polymer_polymer_lib_legacy_polymer_fn_js__WEBPACK_IMPORTED_MODULE_4__[\"Polymer\"])({\n  _template: _polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_5__[\"html\"]`\n    <style>\n\n      :host {\n        display: block;\n        @apply --layout-relative;\n      }\n\n      :host(.is-scrolled:not(:first-child))::before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        height: 1px;\n        background: var(--divider-color);\n      }\n\n      :host(.can-scroll:not(.scrolled-to-bottom):not(:last-child))::after {\n        content: '';\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        height: 1px;\n        background: var(--divider-color);\n      }\n\n      .scrollable {\n        padding: 0 24px;\n\n        @apply --layout-scroll;\n        @apply --paper-dialog-scrollable;\n      }\n\n      .fit {\n        @apply --layout-fit;\n      }\n    </style>\n\n    <div id=\"scrollable\" class=\"scrollable\" on-scroll=\"updateScrollState\">\n      <slot></slot>\n    </div>\n`,\n  is: 'paper-dialog-scrollable',\n  properties: {\n    /**\n     * The dialog element that implements `Polymer.PaperDialogBehavior`\n     * containing this element.\n     * @type {?Node}\n     */\n    dialogElement: {\n      type: Object\n    }\n  },\n\n  /**\n   * Returns the scrolling element.\n   */\n  get scrollTarget() {\n    return this.$.scrollable;\n  },\n\n  ready: function () {\n    this._ensureTarget();\n\n    this.classList.add('no-padding');\n  },\n  attached: function () {\n    this._ensureTarget();\n\n    requestAnimationFrame(this.updateScrollState.bind(this));\n  },\n  updateScrollState: function () {\n    this.toggleClass('is-scrolled', this.scrollTarget.scrollTop > 0);\n    this.toggleClass('can-scroll', this.scrollTarget.offsetHeight < this.scrollTarget.scrollHeight);\n    this.toggleClass('scrolled-to-bottom', this.scrollTarget.scrollTop + this.scrollTarget.offsetHeight >= this.scrollTarget.scrollHeight);\n  },\n  _ensureTarget: function () {\n    // Read parentElement instead of parentNode in order to skip shadowRoots.\n    this.dialogElement = this.dialogElement || this.parentElement; // Check if dialog implements paper-dialog-behavior. If not, fit\n    // scrollTarget to host.\n\n    if (this.dialogElement && this.dialogElement.behaviors && this.dialogElement.behaviors.indexOf(_polymer_paper_dialog_behavior_paper_dialog_behavior_js__WEBPACK_IMPORTED_MODULE_3__[\"PaperDialogBehaviorImpl\"]) >= 0) {\n      this.dialogElement.sizingTarget = this.scrollTarget;\n      this.scrollTarget.classList.remove('fit');\n    } else if (this.dialogElement) {\n      this.scrollTarget.classList.add('fit');\n    }\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcGFwZXItZGlhbG9nLXNjcm9sbGFibGUvcGFwZXItZGlhbG9nLXNjcm9sbGFibGUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcGFwZXItZGlhbG9nLXNjcm9sbGFibGUvcGFwZXItZGlhbG9nLXNjcm9sbGFibGUuanM/ZjQ0OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTUgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZVxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQgQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXNcbnBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnRcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnQHBvbHltZXIvcG9seW1lci9wb2x5bWVyLWxlZ2FjeS5qcyc7XG5pbXBvcnQgJ0Bwb2x5bWVyL2lyb24tZmxleC1sYXlvdXQvaXJvbi1mbGV4LWxheW91dC5qcyc7XG5pbXBvcnQgJ0Bwb2x5bWVyL3BhcGVyLXN0eWxlcy9kZWZhdWx0LXRoZW1lLmpzJztcblxuaW1wb3J0IHtQYXBlckRpYWxvZ0JlaGF2aW9ySW1wbH0gZnJvbSAnQHBvbHltZXIvcGFwZXItZGlhbG9nLWJlaGF2aW9yL3BhcGVyLWRpYWxvZy1iZWhhdmlvci5qcyc7XG5pbXBvcnQge1BvbHltZXJ9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL2xlZ2FjeS9wb2x5bWVyLWZuLmpzJztcbmltcG9ydCB7aHRtbH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvaHRtbC10YWcuanMnO1xuXG4vKipcbk1hdGVyaWFsIGRlc2lnbjpcbltEaWFsb2dzXShodHRwczovL3d3dy5nb29nbGUuY29tL2Rlc2lnbi9zcGVjL2NvbXBvbmVudHMvZGlhbG9ncy5odG1sKVxuXG5gcGFwZXItZGlhbG9nLXNjcm9sbGFibGVgIGltcGxlbWVudHMgYSBzY3JvbGxpbmcgYXJlYSB1c2VkIGluIGEgTWF0ZXJpYWwgRGVzaWduXG5kaWFsb2cuIEl0IHNob3dzIGEgZGl2aWRlciBhdCB0aGUgdG9wIGFuZC9vciBib3R0b20gaW5kaWNhdGluZyBtb3JlIGNvbnRlbnQsXG5kZXBlbmRpbmcgb24gc2Nyb2xsIHBvc2l0aW9uLiBVc2UgdGhpcyB0b2dldGhlciB3aXRoIGVsZW1lbnRzIGltcGxlbWVudGluZ1xuYFBvbHltZXIuUGFwZXJEaWFsb2dCZWhhdmlvcmAuXG5cbiAgICA8cGFwZXItZGlhbG9nLWltcGw+XG4gICAgICA8aDI+SGVhZGVyPC9oMj5cbiAgICAgIDxwYXBlci1kaWFsb2ctc2Nyb2xsYWJsZT5cbiAgICAgICAgTG9yZW0gaXBzdW0uLi5cbiAgICAgIDwvcGFwZXItZGlhbG9nLXNjcm9sbGFibGU+XG4gICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uc1wiPlxuICAgICAgICA8cGFwZXItYnV0dG9uPk9LPC9wYXBlci1idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L3BhcGVyLWRpYWxvZy1pbXBsPlxuXG5JdCBzaG93cyBhIHRvcCBkaXZpZGVyIGFmdGVyIHNjcm9sbGluZyBpZiBpdCBpcyBub3QgdGhlIGZpcnN0IGNoaWxkIGluIGl0c1xucGFyZW50IGNvbnRhaW5lciwgaW5kaWNhdGluZyB0aGVyZSBpcyBtb3JlIGNvbnRlbnQgYWJvdmUuIEl0IHNob3dzIGEgYm90dG9tXG5kaXZpZGVyIGlmIGl0IGlzIHNjcm9sbGFibGUgYW5kIGl0IGlzIG5vdCB0aGUgbGFzdCBjaGlsZCBpbiBpdHMgcGFyZW50XG5jb250YWluZXIsIGluZGljYXRpbmcgdGhlcmUgaXMgbW9yZSBjb250ZW50IGJlbG93LiBUaGUgYm90dG9tIGRpdmlkZXIgaXMgaGlkZGVuXG5pZiBpdCBpcyBzY3JvbGxlZCB0byB0aGUgYm90dG9tLlxuXG5JZiBgcGFwZXItZGlhbG9nLXNjcm9sbGFibGVgIGlzIG5vdCBhIGRpcmVjdCBjaGlsZCBvZiB0aGUgZWxlbWVudCBpbXBsZW1lbnRpbmdcbmBQb2x5bWVyLlBhcGVyRGlhbG9nQmVoYXZpb3JgLCByZW1lbWJlciB0byBzZXQgdGhlIGBkaWFsb2dFbGVtZW50YDpcblxuICAgIDxwYXBlci1kaWFsb2ctaW1wbCBpZD1cIm15RGlhbG9nXCI+XG4gICAgICA8aDI+SGVhZGVyPC9oMj5cbiAgICAgIDxkaXYgY2xhc3M9XCJteS1jb250ZW50LXdyYXBwZXJcIj5cbiAgICAgICAgPGg0PlN1Yi1oZWFkZXI8L2g0PlxuICAgICAgICA8cGFwZXItZGlhbG9nLXNjcm9sbGFibGU+XG4gICAgICAgICAgTG9yZW0gaXBzdW0uLi5cbiAgICAgICAgPC9wYXBlci1kaWFsb2ctc2Nyb2xsYWJsZT5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbnNcIj5cbiAgICAgICAgPHBhcGVyLWJ1dHRvbj5PSzwvcGFwZXItYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9wYXBlci1kaWFsb2ctaW1wbD5cblxuICAgIDxzY3JpcHQ+XG4gICAgICB2YXIgc2Nyb2xsYWJsZSA9XG5Qb2x5bWVyLmRvbShteURpYWxvZykucXVlcnlTZWxlY3RvcigncGFwZXItZGlhbG9nLXNjcm9sbGFibGUnKTtcbiAgICAgIHNjcm9sbGFibGUuZGlhbG9nRWxlbWVudCA9IG15RGlhbG9nO1xuICAgIDwvc2NyaXB0PlxuXG4jIyMgU3R5bGluZ1xuVGhlIGZvbGxvd2luZyBjdXN0b20gcHJvcGVydGllcyBhbmQgbWl4aW5zIGFyZSBhdmFpbGFibGUgZm9yIHN0eWxpbmc6XG5cbkN1c3RvbSBwcm9wZXJ0eSB8IERlc2NyaXB0aW9uIHwgRGVmYXVsdFxuLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS1cbmAtLXBhcGVyLWRpYWxvZy1zY3JvbGxhYmxlYCB8IE1peGluIGZvciB0aGUgc2Nyb2xsYWJsZSBjb250ZW50IHwge31cblxuQGdyb3VwIFBhcGVyIEVsZW1lbnRzXG5AZWxlbWVudCBwYXBlci1kaWFsb2ctc2Nyb2xsYWJsZVxuQGRlbW8gZGVtby9pbmRleC5odG1sXG5AaGVybyBoZXJvLnN2Z1xuKi9cblBvbHltZXIoe1xuICBfdGVtcGxhdGU6IGh0bWxgXG4gICAgPHN0eWxlPlxuXG4gICAgICA6aG9zdCB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICBAYXBwbHkgLS1sYXlvdXQtcmVsYXRpdmU7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KC5pcy1zY3JvbGxlZDpub3QoOmZpcnN0LWNoaWxkKSk6OmJlZm9yZSB7XG4gICAgICAgIGNvbnRlbnQ6ICcnO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIGhlaWdodDogMXB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoLmNhbi1zY3JvbGw6bm90KC5zY3JvbGxlZC10by1ib3R0b20pOm5vdCg6bGFzdC1jaGlsZCkpOjphZnRlciB7XG4gICAgICAgIGNvbnRlbnQ6ICcnO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIGhlaWdodDogMXB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgLnNjcm9sbGFibGUge1xuICAgICAgICBwYWRkaW5nOiAwIDI0cHg7XG5cbiAgICAgICAgQGFwcGx5IC0tbGF5b3V0LXNjcm9sbDtcbiAgICAgICAgQGFwcGx5IC0tcGFwZXItZGlhbG9nLXNjcm9sbGFibGU7XG4gICAgICB9XG5cbiAgICAgIC5maXQge1xuICAgICAgICBAYXBwbHkgLS1sYXlvdXQtZml0O1xuICAgICAgfVxuICAgIDwvc3R5bGU+XG5cbiAgICA8ZGl2IGlkPVwic2Nyb2xsYWJsZVwiIGNsYXNzPVwic2Nyb2xsYWJsZVwiIG9uLXNjcm9sbD1cInVwZGF0ZVNjcm9sbFN0YXRlXCI+XG4gICAgICA8c2xvdD48L3Nsb3Q+XG4gICAgPC9kaXY+XG5gLFxuXG4gIGlzOiAncGFwZXItZGlhbG9nLXNjcm9sbGFibGUnLFxuXG4gIHByb3BlcnRpZXM6IHtcblxuICAgIC8qKlxuICAgICAqIFRoZSBkaWFsb2cgZWxlbWVudCB0aGF0IGltcGxlbWVudHMgYFBvbHltZXIuUGFwZXJEaWFsb2dCZWhhdmlvcmBcbiAgICAgKiBjb250YWluaW5nIHRoaXMgZWxlbWVudC5cbiAgICAgKiBAdHlwZSB7P05vZGV9XG4gICAgICovXG4gICAgZGlhbG9nRWxlbWVudDoge3R5cGU6IE9iamVjdH1cblxuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBzY3JvbGxpbmcgZWxlbWVudC5cbiAgICovXG4gIGdldCBzY3JvbGxUYXJnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuJC5zY3JvbGxhYmxlO1xuICB9LFxuXG4gIHJlYWR5OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9lbnN1cmVUYXJnZXQoKTtcbiAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ25vLXBhZGRpbmcnKTtcbiAgfSxcblxuICBhdHRhY2hlZDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fZW5zdXJlVGFyZ2V0KCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlU2Nyb2xsU3RhdGUuYmluZCh0aGlzKSk7XG4gIH0sXG5cbiAgdXBkYXRlU2Nyb2xsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudG9nZ2xlQ2xhc3MoJ2lzLXNjcm9sbGVkJywgdGhpcy5zY3JvbGxUYXJnZXQuc2Nyb2xsVG9wID4gMCk7XG4gICAgdGhpcy50b2dnbGVDbGFzcyhcbiAgICAgICAgJ2Nhbi1zY3JvbGwnLFxuICAgICAgICB0aGlzLnNjcm9sbFRhcmdldC5vZmZzZXRIZWlnaHQgPCB0aGlzLnNjcm9sbFRhcmdldC5zY3JvbGxIZWlnaHQpO1xuICAgIHRoaXMudG9nZ2xlQ2xhc3MoXG4gICAgICAgICdzY3JvbGxlZC10by1ib3R0b20nLFxuICAgICAgICB0aGlzLnNjcm9sbFRhcmdldC5zY3JvbGxUb3AgKyB0aGlzLnNjcm9sbFRhcmdldC5vZmZzZXRIZWlnaHQgPj1cbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVGFyZ2V0LnNjcm9sbEhlaWdodCk7XG4gIH0sXG5cbiAgX2Vuc3VyZVRhcmdldDogZnVuY3Rpb24oKSB7XG4gICAgLy8gUmVhZCBwYXJlbnRFbGVtZW50IGluc3RlYWQgb2YgcGFyZW50Tm9kZSBpbiBvcmRlciB0byBza2lwIHNoYWRvd1Jvb3RzLlxuICAgIHRoaXMuZGlhbG9nRWxlbWVudCA9IHRoaXMuZGlhbG9nRWxlbWVudCB8fCB0aGlzLnBhcmVudEVsZW1lbnQ7XG4gICAgLy8gQ2hlY2sgaWYgZGlhbG9nIGltcGxlbWVudHMgcGFwZXItZGlhbG9nLWJlaGF2aW9yLiBJZiBub3QsIGZpdFxuICAgIC8vIHNjcm9sbFRhcmdldCB0byBob3N0LlxuICAgIGlmICh0aGlzLmRpYWxvZ0VsZW1lbnQgJiYgdGhpcy5kaWFsb2dFbGVtZW50LmJlaGF2aW9ycyAmJlxuICAgICAgICB0aGlzLmRpYWxvZ0VsZW1lbnQuYmVoYXZpb3JzLmluZGV4T2YoUGFwZXJEaWFsb2dCZWhhdmlvckltcGwpID49IDApIHtcbiAgICAgIHRoaXMuZGlhbG9nRWxlbWVudC5zaXppbmdUYXJnZXQgPSB0aGlzLnNjcm9sbFRhcmdldDtcbiAgICAgIHRoaXMuc2Nyb2xsVGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2ZpdCcpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5kaWFsb2dFbGVtZW50KSB7XG4gICAgICB0aGlzLnNjcm9sbFRhcmdldC5jbGFzc0xpc3QuYWRkKCdmaXQnKTtcbiAgICB9XG4gIH1cbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7O0FBVUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTJEQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBREE7QUE4Q0E7QUFFQTtBQUVBOzs7OztBQUtBO0FBQUE7QUFBQTtBQVBBO0FBQ0E7QUFVQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFuR0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@polymer/paper-dialog-scrollable/paper-dialog-scrollable.js\n");

/***/ }),

/***/ "./node_modules/@polymer/paper-spinner/paper-spinner.js":
/*!**************************************************************!*\
  !*** ./node_modules/@polymer/paper-spinner/paper-spinner.js ***!
  \**************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _polymer_polymer_polymer_legacy_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @polymer/polymer/polymer-legacy.js */ \"./node_modules/@polymer/polymer/polymer-legacy.js\");\n/* harmony import */ var _polymer_paper_styles_color_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @polymer/paper-styles/color.js */ \"./node_modules/@polymer/paper-styles/color.js\");\n/* harmony import */ var _paper_spinner_styles_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./paper-spinner-styles.js */ \"./node_modules/@polymer/paper-spinner/paper-spinner-styles.js\");\n/* harmony import */ var _polymer_polymer_lib_legacy_polymer_fn_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @polymer/polymer/lib/legacy/polymer-fn.js */ \"./node_modules/@polymer/polymer/lib/legacy/polymer-fn.js\");\n/* harmony import */ var _polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @polymer/polymer/lib/utils/html-tag.js */ \"./node_modules/@polymer/polymer/lib/utils/html-tag.js\");\n/* harmony import */ var _paper_spinner_behavior_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./paper-spinner-behavior.js */ \"./node_modules/@polymer/paper-spinner/paper-spinner-behavior.js\");\n/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\n\n\n\n\n\n\nconst template = _polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_4__[\"html\"]`\n  <style include=\"paper-spinner-styles\"></style>\n\n  <div id=\"spinnerContainer\" class-name=\"[[__computeContainerClasses(active, __coolingDown)]]\" on-animationend=\"__reset\" on-webkit-animation-end=\"__reset\">\n    <div class=\"spinner-layer layer-1\">\n      <div class=\"circle-clipper left\">\n        <div class=\"circle\"></div>\n      </div>\n      <div class=\"circle-clipper right\">\n        <div class=\"circle\"></div>\n      </div>\n    </div>\n\n    <div class=\"spinner-layer layer-2\">\n      <div class=\"circle-clipper left\">\n        <div class=\"circle\"></div>\n      </div>\n      <div class=\"circle-clipper right\">\n        <div class=\"circle\"></div>\n      </div>\n    </div>\n\n    <div class=\"spinner-layer layer-3\">\n      <div class=\"circle-clipper left\">\n        <div class=\"circle\"></div>\n      </div>\n      <div class=\"circle-clipper right\">\n        <div class=\"circle\"></div>\n      </div>\n    </div>\n\n    <div class=\"spinner-layer layer-4\">\n      <div class=\"circle-clipper left\">\n        <div class=\"circle\"></div>\n      </div>\n      <div class=\"circle-clipper right\">\n        <div class=\"circle\"></div>\n      </div>\n    </div>\n  </div>\n`;\ntemplate.setAttribute('strip-whitespace', '');\n/**\nMaterial design: [Progress &\nactivity](https://www.google.com/design/spec/components/progress-activity.html)\n\nElement providing a multiple color material design circular spinner.\n\n    <paper-spinner active></paper-spinner>\n\nThe default spinner cycles between four layers of colors; by default they are\nblue, red, yellow and green. It can be customized to cycle between four\ndifferent colors. Use <paper-spinner-lite> for single color spinners.\n\n### Accessibility\n\nAlt attribute should be set to provide adequate context for accessibility. If\nnot provided, it defaults to 'loading'. Empty alt can be provided to mark the\nelement as decorative if alternative content is provided in another form (e.g. a\ntext block following the spinner).\n\n    <paper-spinner alt=\"Loading contacts list\" active></paper-spinner>\n\n### Styling\n\nThe following custom properties and mixins are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-spinner-layer-1-color` | Color of the first spinner rotation | `--google-blue-500`\n`--paper-spinner-layer-2-color` | Color of the second spinner rotation | `--google-red-500`\n`--paper-spinner-layer-3-color` | Color of the third spinner rotation | `--google-yellow-500`\n`--paper-spinner-layer-4-color` | Color of the fourth spinner rotation | `--google-green-500`\n`--paper-spinner-stroke-width` | The width of the spinner stroke | 3px\n\n@group Paper Elements\n@element paper-spinner\n@hero hero.svg\n@demo demo/index.html\n*/\n\nObject(_polymer_polymer_lib_legacy_polymer_fn_js__WEBPACK_IMPORTED_MODULE_3__[\"Polymer\"])({\n  _template: template,\n  is: 'paper-spinner',\n  behaviors: [_paper_spinner_behavior_js__WEBPACK_IMPORTED_MODULE_5__[\"PaperSpinnerBehavior\"]]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcGFwZXItc3Bpbm5lci9wYXBlci1zcGlubmVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BhcGVyLXNwaW5uZXIvcGFwZXItc3Bpbm5lci5qcz85NTEyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNSBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlXG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dCBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhc1xucGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc28gc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudFxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICdAcG9seW1lci9wb2x5bWVyL3BvbHltZXItbGVnYWN5LmpzJztcbmltcG9ydCAnQHBvbHltZXIvcGFwZXItc3R5bGVzL2NvbG9yLmpzJztcbmltcG9ydCAnLi9wYXBlci1zcGlubmVyLXN0eWxlcy5qcyc7XG5cbmltcG9ydCB7UG9seW1lcn0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvbGVnYWN5L3BvbHltZXItZm4uanMnO1xuaW1wb3J0IHtodG1sfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9odG1sLXRhZy5qcyc7XG5cbmltcG9ydCB7UGFwZXJTcGlubmVyQmVoYXZpb3J9IGZyb20gJy4vcGFwZXItc3Bpbm5lci1iZWhhdmlvci5qcyc7XG5cbmNvbnN0IHRlbXBsYXRlID0gaHRtbGBcbiAgPHN0eWxlIGluY2x1ZGU9XCJwYXBlci1zcGlubmVyLXN0eWxlc1wiPjwvc3R5bGU+XG5cbiAgPGRpdiBpZD1cInNwaW5uZXJDb250YWluZXJcIiBjbGFzcy1uYW1lPVwiW1tfX2NvbXB1dGVDb250YWluZXJDbGFzc2VzKGFjdGl2ZSwgX19jb29saW5nRG93bildXVwiIG9uLWFuaW1hdGlvbmVuZD1cIl9fcmVzZXRcIiBvbi13ZWJraXQtYW5pbWF0aW9uLWVuZD1cIl9fcmVzZXRcIj5cbiAgICA8ZGl2IGNsYXNzPVwic3Bpbm5lci1sYXllciBsYXllci0xXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiY2lyY2xlLWNsaXBwZXIgbGVmdFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2lyY2xlXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjaXJjbGUtY2xpcHBlciByaWdodFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2lyY2xlXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDxkaXYgY2xhc3M9XCJzcGlubmVyLWxheWVyIGxheWVyLTJcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjaXJjbGUtY2xpcHBlciBsZWZ0XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjaXJjbGVcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImNpcmNsZS1jbGlwcGVyIHJpZ2h0XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjaXJjbGVcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBjbGFzcz1cInNwaW5uZXItbGF5ZXIgbGF5ZXItM1wiPlxuICAgICAgPGRpdiBjbGFzcz1cImNpcmNsZS1jbGlwcGVyIGxlZnRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNpcmNsZVwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiY2lyY2xlLWNsaXBwZXIgcmlnaHRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNpcmNsZVwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgICA8ZGl2IGNsYXNzPVwic3Bpbm5lci1sYXllciBsYXllci00XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiY2lyY2xlLWNsaXBwZXIgbGVmdFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2lyY2xlXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjaXJjbGUtY2xpcHBlciByaWdodFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2lyY2xlXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG5gO1xudGVtcGxhdGUuc2V0QXR0cmlidXRlKCdzdHJpcC13aGl0ZXNwYWNlJywgJycpO1xuXG4vKipcbk1hdGVyaWFsIGRlc2lnbjogW1Byb2dyZXNzICZcbmFjdGl2aXR5XShodHRwczovL3d3dy5nb29nbGUuY29tL2Rlc2lnbi9zcGVjL2NvbXBvbmVudHMvcHJvZ3Jlc3MtYWN0aXZpdHkuaHRtbClcblxuRWxlbWVudCBwcm92aWRpbmcgYSBtdWx0aXBsZSBjb2xvciBtYXRlcmlhbCBkZXNpZ24gY2lyY3VsYXIgc3Bpbm5lci5cblxuICAgIDxwYXBlci1zcGlubmVyIGFjdGl2ZT48L3BhcGVyLXNwaW5uZXI+XG5cblRoZSBkZWZhdWx0IHNwaW5uZXIgY3ljbGVzIGJldHdlZW4gZm91ciBsYXllcnMgb2YgY29sb3JzOyBieSBkZWZhdWx0IHRoZXkgYXJlXG5ibHVlLCByZWQsIHllbGxvdyBhbmQgZ3JlZW4uIEl0IGNhbiBiZSBjdXN0b21pemVkIHRvIGN5Y2xlIGJldHdlZW4gZm91clxuZGlmZmVyZW50IGNvbG9ycy4gVXNlIDxwYXBlci1zcGlubmVyLWxpdGU+IGZvciBzaW5nbGUgY29sb3Igc3Bpbm5lcnMuXG5cbiMjIyBBY2Nlc3NpYmlsaXR5XG5cbkFsdCBhdHRyaWJ1dGUgc2hvdWxkIGJlIHNldCB0byBwcm92aWRlIGFkZXF1YXRlIGNvbnRleHQgZm9yIGFjY2Vzc2liaWxpdHkuIElmXG5ub3QgcHJvdmlkZWQsIGl0IGRlZmF1bHRzIHRvICdsb2FkaW5nJy4gRW1wdHkgYWx0IGNhbiBiZSBwcm92aWRlZCB0byBtYXJrIHRoZVxuZWxlbWVudCBhcyBkZWNvcmF0aXZlIGlmIGFsdGVybmF0aXZlIGNvbnRlbnQgaXMgcHJvdmlkZWQgaW4gYW5vdGhlciBmb3JtIChlLmcuIGFcbnRleHQgYmxvY2sgZm9sbG93aW5nIHRoZSBzcGlubmVyKS5cblxuICAgIDxwYXBlci1zcGlubmVyIGFsdD1cIkxvYWRpbmcgY29udGFjdHMgbGlzdFwiIGFjdGl2ZT48L3BhcGVyLXNwaW5uZXI+XG5cbiMjIyBTdHlsaW5nXG5cblRoZSBmb2xsb3dpbmcgY3VzdG9tIHByb3BlcnRpZXMgYW5kIG1peGlucyBhcmUgYXZhaWxhYmxlIGZvciBzdHlsaW5nOlxuXG5DdXN0b20gcHJvcGVydHkgfCBEZXNjcmlwdGlvbiB8IERlZmF1bHRcbi0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tXG5gLS1wYXBlci1zcGlubmVyLWxheWVyLTEtY29sb3JgIHwgQ29sb3Igb2YgdGhlIGZpcnN0IHNwaW5uZXIgcm90YXRpb24gfCBgLS1nb29nbGUtYmx1ZS01MDBgXG5gLS1wYXBlci1zcGlubmVyLWxheWVyLTItY29sb3JgIHwgQ29sb3Igb2YgdGhlIHNlY29uZCBzcGlubmVyIHJvdGF0aW9uIHwgYC0tZ29vZ2xlLXJlZC01MDBgXG5gLS1wYXBlci1zcGlubmVyLWxheWVyLTMtY29sb3JgIHwgQ29sb3Igb2YgdGhlIHRoaXJkIHNwaW5uZXIgcm90YXRpb24gfCBgLS1nb29nbGUteWVsbG93LTUwMGBcbmAtLXBhcGVyLXNwaW5uZXItbGF5ZXItNC1jb2xvcmAgfCBDb2xvciBvZiB0aGUgZm91cnRoIHNwaW5uZXIgcm90YXRpb24gfCBgLS1nb29nbGUtZ3JlZW4tNTAwYFxuYC0tcGFwZXItc3Bpbm5lci1zdHJva2Utd2lkdGhgIHwgVGhlIHdpZHRoIG9mIHRoZSBzcGlubmVyIHN0cm9rZSB8IDNweFxuXG5AZ3JvdXAgUGFwZXIgRWxlbWVudHNcbkBlbGVtZW50IHBhcGVyLXNwaW5uZXJcbkBoZXJvIGhlcm8uc3ZnXG5AZGVtbyBkZW1vL2luZGV4Lmh0bWxcbiovXG5Qb2x5bWVyKHtcbiAgX3RlbXBsYXRlOiB0ZW1wbGF0ZSxcblxuICBpczogJ3BhcGVyLXNwaW5uZXInLFxuXG4gIGJlaGF2aW9yczogW1BhcGVyU3Bpbm5lckJlaGF2aW9yXVxufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7QUFVQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBeUNBO0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXNDQTtBQUNBO0FBRUE7QUFFQTtBQUxBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@polymer/paper-spinner/paper-spinner.js\n");

/***/ }),

/***/ "./src/common/util/patch.ts":
/*!**********************************!*\
  !*** ./src/common/util/patch.ts ***!
  \**********************************/
/*! exports provided: applyPatch, getPath */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"applyPatch\", function() { return applyPatch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPath\", function() { return getPath; });\nconst applyPatch = (data, path, value) => {\n  if (path.length === 1) {\n    data[path[0]] = value;\n    return;\n  }\n\n  if (!data[path[0]]) {\n    data[path[0]] = {};\n  } // eslint-disable-next-line consistent-return\n\n\n  return applyPatch(data[path[0]], path.slice(1), value);\n};\nconst getPath = (data, path) => {\n  if (path.length === 1) {\n    return data[path[0]];\n  }\n\n  if (data[path[0]] === undefined) {\n    return undefined;\n  }\n\n  return getPath(data[path[0]], path.slice(1));\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL3V0aWwvcGF0Y2gudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL3V0aWwvcGF0Y2gudHM/ZjYzMSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgYXBwbHlQYXRjaCA9IChkYXRhLCBwYXRoLCB2YWx1ZSk6IHZvaWQgPT4ge1xuICBpZiAocGF0aC5sZW5ndGggPT09IDEpIHtcbiAgICBkYXRhW3BhdGhbMF1dID0gdmFsdWU7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghZGF0YVtwYXRoWzBdXSkge1xuICAgIGRhdGFbcGF0aFswXV0gPSB7fTtcbiAgfVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgcmV0dXJuIGFwcGx5UGF0Y2goZGF0YVtwYXRoWzBdXSwgcGF0aC5zbGljZSgxKSwgdmFsdWUpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFBhdGggPSAoZGF0YSwgcGF0aCk6IGFueSB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmIChwYXRoLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBkYXRhW3BhdGhbMF1dO1xuICB9XG4gIGlmIChkYXRhW3BhdGhbMF1dID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiBnZXRQYXRoKGRhdGFbcGF0aFswXV0sIHBhdGguc2xpY2UoMSkpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/util/patch.ts\n");

/***/ }),

/***/ "./src/components/device/ha-area-devices-picker.ts":
/*!*********************************************************!*\
  !*** ./src/components/device/ha-area-devices-picker.ts ***!
  \*********************************************************/
/*! exports provided: HaAreaDevicesPicker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HaAreaDevicesPicker\", function() { return HaAreaDevicesPicker; });\n/* harmony import */ var _material_mwc_button_mwc_button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material/mwc-button/mwc-button */ \"./node_modules/@material/mwc-button/mwc-button.js\");\n/* harmony import */ var _ha_icon_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n/* harmony import */ var _polymer_paper_input_paper_input__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @polymer/paper-input/paper-input */ \"./node_modules/@polymer/paper-input/paper-input.js\");\n/* harmony import */ var _polymer_paper_item_paper_item__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @polymer/paper-item/paper-item */ \"./node_modules/@polymer/paper-item/paper-item.js\");\n/* harmony import */ var _polymer_paper_item_paper_item_body__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @polymer/paper-item/paper-item-body */ \"./node_modules/@polymer/paper-item/paper-item-body.js\");\n/* harmony import */ var _polymer_paper_listbox_paper_listbox__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @polymer/paper-listbox/paper-listbox */ \"./node_modules/@polymer/paper-listbox/paper-listbox.js\");\n/* harmony import */ var _vaadin_vaadin_combo_box_theme_material_vaadin_combo_box_light__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @vaadin/vaadin-combo-box/theme/material/vaadin-combo-box-light */ \"./node_modules/@vaadin/vaadin-combo-box/theme/material/vaadin-combo-box-light.js\");\n/* harmony import */ var lit_element__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lit-element */ \"./node_modules/lit-element/lit-element.js\");\n/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! memoize-one */ \"./node_modules/memoize-one/dist/memoize-one.esm.js\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../common/entity/compute_domain */ \"./src/common/entity/compute_domain.ts\");\n/* harmony import */ var _common_string_compare__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../common/string/compare */ \"./src/common/string/compare.ts\");\n/* harmony import */ var _data_area_registry__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../data/area_registry */ \"./src/data/area_registry.ts\");\n/* harmony import */ var _data_device_registry__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../data/device_registry */ \"./src/data/device_registry.ts\");\n/* harmony import */ var _data_entity_registry__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../data/entity_registry */ \"./src/data/entity_registry.ts\");\n/* harmony import */ var _mixins_subscribe_mixin__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../mixins/subscribe-mixin */ \"./src/mixins/subscribe-mixin.ts\");\n/* harmony import */ var _ha_devices_picker__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./ha-devices-picker */ \"./src/components/device/ha-devices-picker.ts\");\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function () { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function (O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function (F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function (receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function (elements, decorators) { var newElements = []; var finishers = []; var placements = { static: [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function (element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function (element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function (elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function (element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function (elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function (elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function (elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function (elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function (obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function (constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function (obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def.static ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function (other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst rowRenderer = (root, _owner, model) => {\n  if (!root.firstElementChild) {\n    root.innerHTML = `\n    <style>\n      paper-item {\n        width: 100%;\n        margin: -10px 0;\n        padding: 0;\n      }\n      ha-icon-button {\n        float: right;\n      }\n      .devices {\n        display: none;\n      }\n      .devices.visible {\n        display: block;\n      }\n    </style>\n    <paper-item>\n      <paper-item-body two-line=\"\">\n        <div class='name'>[[item.name]]</div>\n        <div secondary>[[item.devices.length]] devices</div>\n      </paper-item-body>\n    </paper-item>\n    `;\n  }\n\n  root.querySelector(\".name\").textContent = model.item.name;\n  root.querySelector(\"[secondary]\").textContent = `${model.item.devices.length.toString()} devices`;\n};\n\nlet HaAreaDevicesPicker = _decorate([Object(lit_element__WEBPACK_IMPORTED_MODULE_7__[\"customElement\"])(\"ha-area-devices-picker\")], function (_initialize, _SubscribeMixin) {\n  class HaAreaDevicesPicker extends _SubscribeMixin {\n    constructor(...args) {\n      super(...args);\n\n      _initialize(this);\n    }\n\n  }\n\n  return {\n    F: HaAreaDevicesPicker,\n    d: [{\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_7__[\"property\"])()],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_7__[\"property\"])()],\n      key: \"label\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_7__[\"property\"])()],\n      key: \"value\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_7__[\"property\"])()],\n      key: \"area\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_7__[\"property\"])()],\n      key: \"devices\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_7__[\"property\"])({\n        type: Array,\n        attribute: \"include-domains\"\n      })],\n      key: \"includeDomains\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_7__[\"property\"])({\n        type: Array,\n        attribute: \"exclude-domains\"\n      })],\n      key: \"excludeDomains\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_7__[\"property\"])({\n        type: Array,\n        attribute: \"include-device-classes\"\n      })],\n      key: \"includeDeviceClasses\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_7__[\"property\"])({\n        type: Boolean\n      })],\n      key: \"_opened\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_7__[\"property\"])()],\n      key: \"_areaPicker\",\n\n      value() {\n        return true;\n      }\n\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_7__[\"property\"])()],\n      key: \"_devices\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_7__[\"property\"])()],\n      key: \"_areas\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_7__[\"property\"])()],\n      key: \"_entities\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_selectedDevices\",\n\n      value() {\n        return [];\n      }\n\n    }, {\n      kind: \"field\",\n      key: \"_filteredDevices\",\n\n      value() {\n        return [];\n      }\n\n    }, {\n      kind: \"field\",\n      key: \"_getDevices\",\n\n      value() {\n        return Object(memoize_one__WEBPACK_IMPORTED_MODULE_8__[\"default\"])((devices, areas, entities, includeDomains, excludeDomains, includeDeviceClasses) => {\n          if (!devices.length) {\n            return [];\n          }\n\n          const deviceEntityLookup = {};\n\n          for (const entity of entities) {\n            if (!entity.device_id) {\n              continue;\n            }\n\n            if (!(entity.device_id in deviceEntityLookup)) {\n              deviceEntityLookup[entity.device_id] = [];\n            }\n\n            deviceEntityLookup[entity.device_id].push(entity);\n          }\n\n          let inputDevices = [...devices];\n\n          if (includeDomains) {\n            inputDevices = inputDevices.filter(device => {\n              const devEntities = deviceEntityLookup[device.id];\n\n              if (!devEntities || !devEntities.length) {\n                return false;\n              }\n\n              return deviceEntityLookup[device.id].some(entity => includeDomains.includes(Object(_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_10__[\"computeDomain\"])(entity.entity_id)));\n            });\n          }\n\n          if (excludeDomains) {\n            inputDevices = inputDevices.filter(device => {\n              const devEntities = deviceEntityLookup[device.id];\n\n              if (!devEntities || !devEntities.length) {\n                return true;\n              }\n\n              return entities.every(entity => !excludeDomains.includes(Object(_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_10__[\"computeDomain\"])(entity.entity_id)));\n            });\n          }\n\n          if (includeDeviceClasses) {\n            inputDevices = inputDevices.filter(device => {\n              const devEntities = deviceEntityLookup[device.id];\n\n              if (!devEntities || !devEntities.length) {\n                return false;\n              }\n\n              return deviceEntityLookup[device.id].some(entity => {\n                const stateObj = this.hass.states[entity.entity_id];\n\n                if (!stateObj) {\n                  return false;\n                }\n\n                return stateObj.attributes.device_class && includeDeviceClasses.includes(stateObj.attributes.device_class);\n              });\n            });\n          }\n\n          this._filteredDevices = inputDevices;\n          const areaLookup = {};\n\n          for (const area of areas) {\n            areaLookup[area.area_id] = area;\n          }\n\n          const devicesByArea = {};\n\n          for (const device of inputDevices) {\n            const areaId = device.area_id;\n\n            if (areaId) {\n              if (!(areaId in devicesByArea)) {\n                devicesByArea[areaId] = {\n                  id: areaId,\n                  name: areaLookup[areaId].name,\n                  devices: []\n                };\n              }\n\n              devicesByArea[areaId].devices.push(device.id);\n            }\n          }\n\n          const sorted = Object.keys(devicesByArea).sort((a, b) => Object(_common_string_compare__WEBPACK_IMPORTED_MODULE_11__[\"compare\"])(devicesByArea[a].name || \"\", devicesByArea[b].name || \"\")).map(key => devicesByArea[key]);\n          return sorted;\n        });\n      }\n\n    }, {\n      kind: \"method\",\n      key: \"hassSubscribe\",\n      value:\n      /**\n       * Show only devices with entities from specific domains.\n       * @type {Array}\n       * @attr include-domains\n       */\n\n      /**\n       * Show no devices with entities of these domains.\n       * @type {Array}\n       * @attr exclude-domains\n       */\n\n      /**\n       * Show only deviced with entities of these device classes.\n       * @type {Array}\n       * @attr include-device-classes\n       */\n      function hassSubscribe() {\n        return [Object(_data_device_registry__WEBPACK_IMPORTED_MODULE_13__[\"subscribeDeviceRegistry\"])(this.hass.connection, devices => {\n          this._devices = devices;\n        }), Object(_data_area_registry__WEBPACK_IMPORTED_MODULE_12__[\"subscribeAreaRegistry\"])(this.hass.connection, areas => {\n          this._areas = areas;\n        }), Object(_data_entity_registry__WEBPACK_IMPORTED_MODULE_14__[\"subscribeEntityRegistry\"])(this.hass.connection, entities => {\n          this._entities = entities;\n        })];\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProps) {\n        _get(_getPrototypeOf(HaAreaDevicesPicker.prototype), \"updated\", this).call(this, changedProps);\n\n        if (changedProps.has(\"area\") && this.area) {\n          this._areaPicker = true;\n          this.value = this.area;\n        } else if (changedProps.has(\"devices\") && this.devices) {\n          this._areaPicker = false;\n\n          const filteredDeviceIds = this._filteredDevices.map(device => device.id);\n\n          const selectedDevices = this.devices.filter(device => filteredDeviceIds.includes(device));\n\n          this._setValue(selectedDevices);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        if (!this._devices || !this._areas || !this._entities) {\n          return lit_element__WEBPACK_IMPORTED_MODULE_7__[\"html\"]``;\n        }\n\n        const areas = this._getDevices(this._devices, this._areas, this._entities, this.includeDomains, this.excludeDomains, this.includeDeviceClasses);\n\n        if (!this._areaPicker || areas.length === 0) {\n          return lit_element__WEBPACK_IMPORTED_MODULE_7__[\"html\"]`\n        <ha-devices-picker\n          @value-changed=${this._devicesPicked}\n          .hass=${this.hass}\n          .includeDomains=${this.includeDomains}\n          .includeDeviceClasses=${this.includeDeviceClasses}\n          .value=${this._selectedDevices}\n          .pickDeviceLabel=${`Add ${this.label} device`}\n          .pickedDeviceLabel=${`${this.label} device`}\n        ></ha-devices-picker>\n        ${areas.length > 0 ? lit_element__WEBPACK_IMPORTED_MODULE_7__[\"html\"]`\n              <mwc-button @click=${this._switchPicker}\n                >Choose an area</mwc-button\n              >\n            ` : \"\"}\n      `;\n        }\n\n        return lit_element__WEBPACK_IMPORTED_MODULE_7__[\"html\"]`\n      <vaadin-combo-box-light\n        item-value-path=\"id\"\n        item-id-path=\"id\"\n        item-label-path=\"name\"\n        .items=${areas}\n        .value=${this._value}\n        .renderer=${rowRenderer}\n        @opened-changed=${this._openedChanged}\n        @value-changed=${this._areaPicked}\n      >\n        <paper-input\n          .label=${this.label === undefined && this.hass ? this.hass.localize(\"ui.components.device-picker.device\") : `${this.label} in area`}\n          class=\"input\"\n          autocapitalize=\"none\"\n          autocomplete=\"off\"\n          autocorrect=\"off\"\n          spellcheck=\"false\"\n        >\n          ${this.value ? lit_element__WEBPACK_IMPORTED_MODULE_7__[\"html\"]`\n                <ha-icon-button\n                  aria-label=${this.hass.localize(\"ui.components.device-picker.clear\")}\n                  slot=\"suffix\"\n                  class=\"clear-button\"\n                  icon=\"hass:close\"\n                  @click=${this._clearValue}\n                  no-ripple\n                >\n                  Clear\n                </ha-icon-button>\n              ` : \"\"}\n          ${areas.length > 0 ? lit_element__WEBPACK_IMPORTED_MODULE_7__[\"html\"]`\n                <ha-icon-button\n                  aria-label=${this.hass.localize(\"ui.components.device-picker.show_devices\")}\n                  slot=\"suffix\"\n                  class=\"toggle-button\"\n                  .icon=${this._opened ? \"hass:menu-up\" : \"hass:menu-down\"}\n                >\n                  Toggle\n                </ha-icon-button>\n              ` : \"\"}\n        </paper-input>\n      </vaadin-combo-box-light>\n      <mwc-button @click=${this._switchPicker}\n        >Choose individual devices</mwc-button\n      >\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_clearValue\",\n      value: function _clearValue(ev) {\n        ev.stopPropagation();\n\n        this._setValue([]);\n      }\n    }, {\n      kind: \"get\",\n      key: \"_value\",\n      value: function _value() {\n        return this.value || [];\n      }\n    }, {\n      kind: \"method\",\n      key: \"_openedChanged\",\n      value: function _openedChanged(ev) {\n        this._opened = ev.detail.value;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_switchPicker\",\n      value: async function _switchPicker() {\n        this._areaPicker = !this._areaPicker;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_areaPicked\",\n      value: async function _areaPicked(ev) {\n        const value = ev.detail.value;\n        let selectedDevices = [];\n        const target = ev.target;\n\n        if (target.selectedItem) {\n          selectedDevices = target.selectedItem.devices;\n        }\n\n        if (value !== this._value || this._selectedDevices !== selectedDevices) {\n          this._setValue(selectedDevices, value);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_devicesPicked\",\n      value: function _devicesPicked(ev) {\n        ev.stopPropagation();\n        const selectedDevices = ev.detail.value;\n\n        this._setValue(selectedDevices);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_setValue\",\n      value: function _setValue(selectedDevices, value = \"\") {\n        this.value = value;\n        this._selectedDevices = selectedDevices;\n        setTimeout(() => {\n          Object(_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_9__[\"fireEvent\"])(this, \"value-changed\", {\n            value: selectedDevices\n          });\n          Object(_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_9__[\"fireEvent\"])(this, \"change\");\n        }, 0);\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return lit_element__WEBPACK_IMPORTED_MODULE_7__[\"css\"]`\n      paper-input > ha-icon-button {\n        width: 24px;\n        height: 24px;\n        padding: 2px;\n        color: var(--secondary-text-color);\n      }\n      [hidden] {\n        display: none;\n      }\n    `;\n      }\n    }]\n  };\n}, Object(_mixins_subscribe_mixin__WEBPACK_IMPORTED_MODULE_15__[\"SubscribeMixin\"])(lit_element__WEBPACK_IMPORTED_MODULE_7__[\"LitElement\"]));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9kZXZpY2UvaGEtYXJlYS1kZXZpY2VzLXBpY2tlci50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2RldmljZS9oYS1hcmVhLWRldmljZXMtcGlja2VyLnRzP2I4NDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwiQG1hdGVyaWFsL213Yy1idXR0b24vbXdjLWJ1dHRvblwiO1xuaW1wb3J0IFwiLi4vaGEtaWNvbi1idXR0b25cIjtcbmltcG9ydCBcIkBwb2x5bWVyL3BhcGVyLWlucHV0L3BhcGVyLWlucHV0XCI7XG5pbXBvcnQgXCJAcG9seW1lci9wYXBlci1pdGVtL3BhcGVyLWl0ZW1cIjtcbmltcG9ydCBcIkBwb2x5bWVyL3BhcGVyLWl0ZW0vcGFwZXItaXRlbS1ib2R5XCI7XG5pbXBvcnQgXCJAcG9seW1lci9wYXBlci1saXN0Ym94L3BhcGVyLWxpc3Rib3hcIjtcbmltcG9ydCBcIkB2YWFkaW4vdmFhZGluLWNvbWJvLWJveC90aGVtZS9tYXRlcmlhbC92YWFkaW4tY29tYm8tYm94LWxpZ2h0XCI7XG5pbXBvcnQgeyBVbnN1YnNjcmliZUZ1bmMgfSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQge1xuICBjc3MsXG4gIENTU1Jlc3VsdCxcbiAgY3VzdG9tRWxlbWVudCxcbiAgaHRtbCxcbiAgTGl0RWxlbWVudCxcbiAgcHJvcGVydHksXG4gIFByb3BlcnR5VmFsdWVzLFxuICBUZW1wbGF0ZVJlc3VsdCxcbn0gZnJvbSBcImxpdC1lbGVtZW50XCI7XG5pbXBvcnQgbWVtb2l6ZU9uZSBmcm9tIFwibWVtb2l6ZS1vbmVcIjtcbmltcG9ydCB7IGZpcmVFdmVudCB9IGZyb20gXCIuLi8uLi9jb21tb24vZG9tL2ZpcmVfZXZlbnRcIjtcbmltcG9ydCB7IGNvbXB1dGVEb21haW4gfSBmcm9tIFwiLi4vLi4vY29tbW9uL2VudGl0eS9jb21wdXRlX2RvbWFpblwiO1xuaW1wb3J0IHsgY29tcGFyZSB9IGZyb20gXCIuLi8uLi9jb21tb24vc3RyaW5nL2NvbXBhcmVcIjtcbmltcG9ydCB7XG4gIEFyZWFSZWdpc3RyeUVudHJ5LFxuICBzdWJzY3JpYmVBcmVhUmVnaXN0cnksXG59IGZyb20gXCIuLi8uLi9kYXRhL2FyZWFfcmVnaXN0cnlcIjtcbmltcG9ydCB7XG4gIERldmljZUVudGl0eUxvb2t1cCxcbiAgRGV2aWNlUmVnaXN0cnlFbnRyeSxcbiAgc3Vic2NyaWJlRGV2aWNlUmVnaXN0cnksXG59IGZyb20gXCIuLi8uLi9kYXRhL2RldmljZV9yZWdpc3RyeVwiO1xuaW1wb3J0IHtcbiAgRW50aXR5UmVnaXN0cnlFbnRyeSxcbiAgc3Vic2NyaWJlRW50aXR5UmVnaXN0cnksXG59IGZyb20gXCIuLi8uLi9kYXRhL2VudGl0eV9yZWdpc3RyeVwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlTWl4aW4gfSBmcm9tIFwiLi4vLi4vbWl4aW5zL3N1YnNjcmliZS1taXhpblwiO1xuaW1wb3J0IHsgUG9seW1lckNoYW5nZWRFdmVudCB9IGZyb20gXCIuLi8uLi9wb2x5bWVyLXR5cGVzXCI7XG5pbXBvcnQgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgXCIuL2hhLWRldmljZXMtcGlja2VyXCI7XG5cbmludGVyZmFjZSBEZXZpY2VzQnlBcmVhIHtcbiAgW2FyZWFJZDogc3RyaW5nXTogQXJlYURldmljZXM7XG59XG5cbmludGVyZmFjZSBBcmVhRGV2aWNlcyB7XG4gIGlkPzogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGRldmljZXM6IHN0cmluZ1tdO1xufVxuXG5jb25zdCByb3dSZW5kZXJlciA9IChcbiAgcm9vdDogSFRNTEVsZW1lbnQsXG4gIF9vd25lcixcbiAgbW9kZWw6IHsgaXRlbTogQXJlYURldmljZXMgfVxuKSA9PiB7XG4gIGlmICghcm9vdC5maXJzdEVsZW1lbnRDaGlsZCkge1xuICAgIHJvb3QuaW5uZXJIVE1MID0gYFxuICAgIDxzdHlsZT5cbiAgICAgIHBhcGVyLWl0ZW0ge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgbWFyZ2luOiAtMTBweCAwO1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgfVxuICAgICAgaGEtaWNvbi1idXR0b24ge1xuICAgICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICB9XG4gICAgICAuZGV2aWNlcyB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICB9XG4gICAgICAuZGV2aWNlcy52aXNpYmxlIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICB9XG4gICAgPC9zdHlsZT5cbiAgICA8cGFwZXItaXRlbT5cbiAgICAgIDxwYXBlci1pdGVtLWJvZHkgdHdvLWxpbmU9XCJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz0nbmFtZSc+W1tpdGVtLm5hbWVdXTwvZGl2PlxuICAgICAgICA8ZGl2IHNlY29uZGFyeT5bW2l0ZW0uZGV2aWNlcy5sZW5ndGhdXSBkZXZpY2VzPC9kaXY+XG4gICAgICA8L3BhcGVyLWl0ZW0tYm9keT5cbiAgICA8L3BhcGVyLWl0ZW0+XG4gICAgYDtcbiAgfVxuICByb290LnF1ZXJ5U2VsZWN0b3IoXCIubmFtZVwiKSEudGV4dENvbnRlbnQgPSBtb2RlbC5pdGVtLm5hbWUhO1xuICByb290LnF1ZXJ5U2VsZWN0b3IoXG4gICAgXCJbc2Vjb25kYXJ5XVwiXG4gICkhLnRleHRDb250ZW50ID0gYCR7bW9kZWwuaXRlbS5kZXZpY2VzLmxlbmd0aC50b1N0cmluZygpfSBkZXZpY2VzYDtcbn07XG5cbkBjdXN0b21FbGVtZW50KFwiaGEtYXJlYS1kZXZpY2VzLXBpY2tlclwiKVxuZXhwb3J0IGNsYXNzIEhhQXJlYURldmljZXNQaWNrZXIgZXh0ZW5kcyBTdWJzY3JpYmVNaXhpbihMaXRFbGVtZW50KSB7XG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBoYXNzITogSG9tZUFzc2lzdGFudDtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgbGFiZWw/OiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIHZhbHVlPzogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBhcmVhPzogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBkZXZpY2VzPzogc3RyaW5nW107XG5cbiAgLyoqXG4gICAqIFNob3cgb25seSBkZXZpY2VzIHdpdGggZW50aXRpZXMgZnJvbSBzcGVjaWZpYyBkb21haW5zLlxuICAgKiBAdHlwZSB7QXJyYXl9XG4gICAqIEBhdHRyIGluY2x1ZGUtZG9tYWluc1xuICAgKi9cbiAgQHByb3BlcnR5KHsgdHlwZTogQXJyYXksIGF0dHJpYnV0ZTogXCJpbmNsdWRlLWRvbWFpbnNcIiB9KVxuICBwdWJsaWMgaW5jbHVkZURvbWFpbnM/OiBzdHJpbmdbXTtcblxuICAvKipcbiAgICogU2hvdyBubyBkZXZpY2VzIHdpdGggZW50aXRpZXMgb2YgdGhlc2UgZG9tYWlucy5cbiAgICogQHR5cGUge0FycmF5fVxuICAgKiBAYXR0ciBleGNsdWRlLWRvbWFpbnNcbiAgICovXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEFycmF5LCBhdHRyaWJ1dGU6IFwiZXhjbHVkZS1kb21haW5zXCIgfSlcbiAgcHVibGljIGV4Y2x1ZGVEb21haW5zPzogc3RyaW5nW107XG5cbiAgLyoqXG4gICAqIFNob3cgb25seSBkZXZpY2VkIHdpdGggZW50aXRpZXMgb2YgdGhlc2UgZGV2aWNlIGNsYXNzZXMuXG4gICAqIEB0eXBlIHtBcnJheX1cbiAgICogQGF0dHIgaW5jbHVkZS1kZXZpY2UtY2xhc3Nlc1xuICAgKi9cbiAgQHByb3BlcnR5KHsgdHlwZTogQXJyYXksIGF0dHJpYnV0ZTogXCJpbmNsdWRlLWRldmljZS1jbGFzc2VzXCIgfSlcbiAgcHVibGljIGluY2x1ZGVEZXZpY2VDbGFzc2VzPzogc3RyaW5nW107XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuICBwcml2YXRlIF9vcGVuZWQ/OiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSgpIHByaXZhdGUgX2FyZWFQaWNrZXIgPSB0cnVlO1xuXG4gIEBwcm9wZXJ0eSgpIHByaXZhdGUgX2RldmljZXM/OiBEZXZpY2VSZWdpc3RyeUVudHJ5W107XG5cbiAgQHByb3BlcnR5KCkgcHJpdmF0ZSBfYXJlYXM/OiBBcmVhUmVnaXN0cnlFbnRyeVtdO1xuXG4gIEBwcm9wZXJ0eSgpIHByaXZhdGUgX2VudGl0aWVzPzogRW50aXR5UmVnaXN0cnlFbnRyeVtdO1xuXG4gIHByaXZhdGUgX3NlbGVjdGVkRGV2aWNlczogc3RyaW5nW10gPSBbXTtcblxuICBwcml2YXRlIF9maWx0ZXJlZERldmljZXM6IERldmljZVJlZ2lzdHJ5RW50cnlbXSA9IFtdO1xuXG4gIHByaXZhdGUgX2dldERldmljZXMgPSBtZW1vaXplT25lKFxuICAgIChcbiAgICAgIGRldmljZXM6IERldmljZVJlZ2lzdHJ5RW50cnlbXSxcbiAgICAgIGFyZWFzOiBBcmVhUmVnaXN0cnlFbnRyeVtdLFxuICAgICAgZW50aXRpZXM6IEVudGl0eVJlZ2lzdHJ5RW50cnlbXSxcbiAgICAgIGluY2x1ZGVEb21haW5zOiB0aGlzW1wiaW5jbHVkZURvbWFpbnNcIl0sXG4gICAgICBleGNsdWRlRG9tYWluczogdGhpc1tcImV4Y2x1ZGVEb21haW5zXCJdLFxuICAgICAgaW5jbHVkZURldmljZUNsYXNzZXM6IHRoaXNbXCJpbmNsdWRlRGV2aWNlQ2xhc3Nlc1wiXVxuICAgICk6IEFyZWFEZXZpY2VzW10gPT4ge1xuICAgICAgaWYgKCFkZXZpY2VzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRldmljZUVudGl0eUxvb2t1cDogRGV2aWNlRW50aXR5TG9va3VwID0ge307XG4gICAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBlbnRpdGllcykge1xuICAgICAgICBpZiAoIWVudGl0eS5kZXZpY2VfaWQpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShlbnRpdHkuZGV2aWNlX2lkIGluIGRldmljZUVudGl0eUxvb2t1cCkpIHtcbiAgICAgICAgICBkZXZpY2VFbnRpdHlMb29rdXBbZW50aXR5LmRldmljZV9pZF0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBkZXZpY2VFbnRpdHlMb29rdXBbZW50aXR5LmRldmljZV9pZF0ucHVzaChlbnRpdHkpO1xuICAgICAgfVxuXG4gICAgICBsZXQgaW5wdXREZXZpY2VzID0gWy4uLmRldmljZXNdO1xuXG4gICAgICBpZiAoaW5jbHVkZURvbWFpbnMpIHtcbiAgICAgICAgaW5wdXREZXZpY2VzID0gaW5wdXREZXZpY2VzLmZpbHRlcigoZGV2aWNlKSA9PiB7XG4gICAgICAgICAgY29uc3QgZGV2RW50aXRpZXMgPSBkZXZpY2VFbnRpdHlMb29rdXBbZGV2aWNlLmlkXTtcbiAgICAgICAgICBpZiAoIWRldkVudGl0aWVzIHx8ICFkZXZFbnRpdGllcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGRldmljZUVudGl0eUxvb2t1cFtkZXZpY2UuaWRdLnNvbWUoKGVudGl0eSkgPT5cbiAgICAgICAgICAgIGluY2x1ZGVEb21haW5zLmluY2x1ZGVzKGNvbXB1dGVEb21haW4oZW50aXR5LmVudGl0eV9pZCkpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChleGNsdWRlRG9tYWlucykge1xuICAgICAgICBpbnB1dERldmljZXMgPSBpbnB1dERldmljZXMuZmlsdGVyKChkZXZpY2UpID0+IHtcbiAgICAgICAgICBjb25zdCBkZXZFbnRpdGllcyA9IGRldmljZUVudGl0eUxvb2t1cFtkZXZpY2UuaWRdO1xuICAgICAgICAgIGlmICghZGV2RW50aXRpZXMgfHwgIWRldkVudGl0aWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBlbnRpdGllcy5ldmVyeShcbiAgICAgICAgICAgIChlbnRpdHkpID0+XG4gICAgICAgICAgICAgICFleGNsdWRlRG9tYWlucy5pbmNsdWRlcyhjb21wdXRlRG9tYWluKGVudGl0eS5lbnRpdHlfaWQpKVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW5jbHVkZURldmljZUNsYXNzZXMpIHtcbiAgICAgICAgaW5wdXREZXZpY2VzID0gaW5wdXREZXZpY2VzLmZpbHRlcigoZGV2aWNlKSA9PiB7XG4gICAgICAgICAgY29uc3QgZGV2RW50aXRpZXMgPSBkZXZpY2VFbnRpdHlMb29rdXBbZGV2aWNlLmlkXTtcbiAgICAgICAgICBpZiAoIWRldkVudGl0aWVzIHx8ICFkZXZFbnRpdGllcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGRldmljZUVudGl0eUxvb2t1cFtkZXZpY2UuaWRdLnNvbWUoKGVudGl0eSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGVPYmogPSB0aGlzLmhhc3Muc3RhdGVzW2VudGl0eS5lbnRpdHlfaWRdO1xuICAgICAgICAgICAgaWYgKCFzdGF0ZU9iaikge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICBzdGF0ZU9iai5hdHRyaWJ1dGVzLmRldmljZV9jbGFzcyAmJlxuICAgICAgICAgICAgICBpbmNsdWRlRGV2aWNlQ2xhc3Nlcy5pbmNsdWRlcyhzdGF0ZU9iai5hdHRyaWJ1dGVzLmRldmljZV9jbGFzcylcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9maWx0ZXJlZERldmljZXMgPSBpbnB1dERldmljZXM7XG5cbiAgICAgIGNvbnN0IGFyZWFMb29rdXA6IHsgW2FyZWFJZDogc3RyaW5nXTogQXJlYVJlZ2lzdHJ5RW50cnkgfSA9IHt9O1xuICAgICAgZm9yIChjb25zdCBhcmVhIG9mIGFyZWFzKSB7XG4gICAgICAgIGFyZWFMb29rdXBbYXJlYS5hcmVhX2lkXSA9IGFyZWE7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRldmljZXNCeUFyZWE6IERldmljZXNCeUFyZWEgPSB7fTtcblxuICAgICAgZm9yIChjb25zdCBkZXZpY2Ugb2YgaW5wdXREZXZpY2VzKSB7XG4gICAgICAgIGNvbnN0IGFyZWFJZCA9IGRldmljZS5hcmVhX2lkO1xuICAgICAgICBpZiAoYXJlYUlkKSB7XG4gICAgICAgICAgaWYgKCEoYXJlYUlkIGluIGRldmljZXNCeUFyZWEpKSB7XG4gICAgICAgICAgICBkZXZpY2VzQnlBcmVhW2FyZWFJZF0gPSB7XG4gICAgICAgICAgICAgIGlkOiBhcmVhSWQsXG4gICAgICAgICAgICAgIG5hbWU6IGFyZWFMb29rdXBbYXJlYUlkXS5uYW1lLFxuICAgICAgICAgICAgICBkZXZpY2VzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIGRldmljZXNCeUFyZWFbYXJlYUlkXS5kZXZpY2VzLnB1c2goZGV2aWNlLmlkKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBzb3J0ZWQgPSBPYmplY3Qua2V5cyhkZXZpY2VzQnlBcmVhKVxuICAgICAgICAuc29ydCgoYSwgYikgPT5cbiAgICAgICAgICBjb21wYXJlKGRldmljZXNCeUFyZWFbYV0ubmFtZSB8fCBcIlwiLCBkZXZpY2VzQnlBcmVhW2JdLm5hbWUgfHwgXCJcIilcbiAgICAgICAgKVxuICAgICAgICAubWFwKChrZXkpID0+IGRldmljZXNCeUFyZWFba2V5XSk7XG5cbiAgICAgIHJldHVybiBzb3J0ZWQ7XG4gICAgfVxuICApO1xuXG4gIHB1YmxpYyBoYXNzU3Vic2NyaWJlKCk6IFVuc3Vic2NyaWJlRnVuY1tdIHtcbiAgICByZXR1cm4gW1xuICAgICAgc3Vic2NyaWJlRGV2aWNlUmVnaXN0cnkodGhpcy5oYXNzLmNvbm5lY3Rpb24hLCAoZGV2aWNlcykgPT4ge1xuICAgICAgICB0aGlzLl9kZXZpY2VzID0gZGV2aWNlcztcbiAgICAgIH0pLFxuICAgICAgc3Vic2NyaWJlQXJlYVJlZ2lzdHJ5KHRoaXMuaGFzcy5jb25uZWN0aW9uISwgKGFyZWFzKSA9PiB7XG4gICAgICAgIHRoaXMuX2FyZWFzID0gYXJlYXM7XG4gICAgICB9KSxcbiAgICAgIHN1YnNjcmliZUVudGl0eVJlZ2lzdHJ5KHRoaXMuaGFzcy5jb25uZWN0aW9uISwgKGVudGl0aWVzKSA9PiB7XG4gICAgICAgIHRoaXMuX2VudGl0aWVzID0gZW50aXRpZXM7XG4gICAgICB9KSxcbiAgICBdO1xuICB9XG5cbiAgcHJvdGVjdGVkIHVwZGF0ZWQoY2hhbmdlZFByb3BzOiBQcm9wZXJ0eVZhbHVlcykge1xuICAgIHN1cGVyLnVwZGF0ZWQoY2hhbmdlZFByb3BzKTtcbiAgICBpZiAoY2hhbmdlZFByb3BzLmhhcyhcImFyZWFcIikgJiYgdGhpcy5hcmVhKSB7XG4gICAgICB0aGlzLl9hcmVhUGlja2VyID0gdHJ1ZTtcbiAgICAgIHRoaXMudmFsdWUgPSB0aGlzLmFyZWE7XG4gICAgfSBlbHNlIGlmIChjaGFuZ2VkUHJvcHMuaGFzKFwiZGV2aWNlc1wiKSAmJiB0aGlzLmRldmljZXMpIHtcbiAgICAgIHRoaXMuX2FyZWFQaWNrZXIgPSBmYWxzZTtcbiAgICAgIGNvbnN0IGZpbHRlcmVkRGV2aWNlSWRzID0gdGhpcy5fZmlsdGVyZWREZXZpY2VzLm1hcChcbiAgICAgICAgKGRldmljZSkgPT4gZGV2aWNlLmlkXG4gICAgICApO1xuICAgICAgY29uc3Qgc2VsZWN0ZWREZXZpY2VzID0gdGhpcy5kZXZpY2VzLmZpbHRlcigoZGV2aWNlKSA9PlxuICAgICAgICBmaWx0ZXJlZERldmljZUlkcy5pbmNsdWRlcyhkZXZpY2UpXG4gICAgICApO1xuICAgICAgdGhpcy5fc2V0VmFsdWUoc2VsZWN0ZWREZXZpY2VzKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICBpZiAoIXRoaXMuX2RldmljZXMgfHwgIXRoaXMuX2FyZWFzIHx8ICF0aGlzLl9lbnRpdGllcykge1xuICAgICAgcmV0dXJuIGh0bWxgYDtcbiAgICB9XG4gICAgY29uc3QgYXJlYXMgPSB0aGlzLl9nZXREZXZpY2VzKFxuICAgICAgdGhpcy5fZGV2aWNlcyxcbiAgICAgIHRoaXMuX2FyZWFzLFxuICAgICAgdGhpcy5fZW50aXRpZXMsXG4gICAgICB0aGlzLmluY2x1ZGVEb21haW5zLFxuICAgICAgdGhpcy5leGNsdWRlRG9tYWlucyxcbiAgICAgIHRoaXMuaW5jbHVkZURldmljZUNsYXNzZXNcbiAgICApO1xuICAgIGlmICghdGhpcy5fYXJlYVBpY2tlciB8fCBhcmVhcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBodG1sYFxuICAgICAgICA8aGEtZGV2aWNlcy1waWNrZXJcbiAgICAgICAgICBAdmFsdWUtY2hhbmdlZD0ke3RoaXMuX2RldmljZXNQaWNrZWR9XG4gICAgICAgICAgLmhhc3M9JHt0aGlzLmhhc3N9XG4gICAgICAgICAgLmluY2x1ZGVEb21haW5zPSR7dGhpcy5pbmNsdWRlRG9tYWluc31cbiAgICAgICAgICAuaW5jbHVkZURldmljZUNsYXNzZXM9JHt0aGlzLmluY2x1ZGVEZXZpY2VDbGFzc2VzfVxuICAgICAgICAgIC52YWx1ZT0ke3RoaXMuX3NlbGVjdGVkRGV2aWNlc31cbiAgICAgICAgICAucGlja0RldmljZUxhYmVsPSR7YEFkZCAke3RoaXMubGFiZWx9IGRldmljZWB9XG4gICAgICAgICAgLnBpY2tlZERldmljZUxhYmVsPSR7YCR7dGhpcy5sYWJlbH0gZGV2aWNlYH1cbiAgICAgICAgPjwvaGEtZGV2aWNlcy1waWNrZXI+XG4gICAgICAgICR7YXJlYXMubGVuZ3RoID4gMFxuICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgPG13Yy1idXR0b24gQGNsaWNrPSR7dGhpcy5fc3dpdGNoUGlja2VyfVxuICAgICAgICAgICAgICAgID5DaG9vc2UgYW4gYXJlYTwvbXdjLWJ1dHRvblxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICBgXG4gICAgICAgICAgOiBcIlwifVxuICAgICAgYDtcbiAgICB9XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8dmFhZGluLWNvbWJvLWJveC1saWdodFxuICAgICAgICBpdGVtLXZhbHVlLXBhdGg9XCJpZFwiXG4gICAgICAgIGl0ZW0taWQtcGF0aD1cImlkXCJcbiAgICAgICAgaXRlbS1sYWJlbC1wYXRoPVwibmFtZVwiXG4gICAgICAgIC5pdGVtcz0ke2FyZWFzfVxuICAgICAgICAudmFsdWU9JHt0aGlzLl92YWx1ZX1cbiAgICAgICAgLnJlbmRlcmVyPSR7cm93UmVuZGVyZXJ9XG4gICAgICAgIEBvcGVuZWQtY2hhbmdlZD0ke3RoaXMuX29wZW5lZENoYW5nZWR9XG4gICAgICAgIEB2YWx1ZS1jaGFuZ2VkPSR7dGhpcy5fYXJlYVBpY2tlZH1cbiAgICAgID5cbiAgICAgICAgPHBhcGVyLWlucHV0XG4gICAgICAgICAgLmxhYmVsPSR7dGhpcy5sYWJlbCA9PT0gdW5kZWZpbmVkICYmIHRoaXMuaGFzc1xuICAgICAgICAgICAgPyB0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jb21wb25lbnRzLmRldmljZS1waWNrZXIuZGV2aWNlXCIpXG4gICAgICAgICAgICA6IGAke3RoaXMubGFiZWx9IGluIGFyZWFgfVxuICAgICAgICAgIGNsYXNzPVwiaW5wdXRcIlxuICAgICAgICAgIGF1dG9jYXBpdGFsaXplPVwibm9uZVwiXG4gICAgICAgICAgYXV0b2NvbXBsZXRlPVwib2ZmXCJcbiAgICAgICAgICBhdXRvY29ycmVjdD1cIm9mZlwiXG4gICAgICAgICAgc3BlbGxjaGVjaz1cImZhbHNlXCJcbiAgICAgICAgPlxuICAgICAgICAgICR7dGhpcy52YWx1ZVxuICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgIDxoYS1pY29uLWJ1dHRvblxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD0ke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgXCJ1aS5jb21wb25lbnRzLmRldmljZS1waWNrZXIuY2xlYXJcIlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIHNsb3Q9XCJzdWZmaXhcIlxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjbGVhci1idXR0b25cIlxuICAgICAgICAgICAgICAgICAgaWNvbj1cImhhc3M6Y2xvc2VcIlxuICAgICAgICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5fY2xlYXJWYWx1ZX1cbiAgICAgICAgICAgICAgICAgIG5vLXJpcHBsZVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIENsZWFyXG4gICAgICAgICAgICAgICAgPC9oYS1pY29uLWJ1dHRvbj5cbiAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICR7YXJlYXMubGVuZ3RoID4gMFxuICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgIDxoYS1pY29uLWJ1dHRvblxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD0ke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgXCJ1aS5jb21wb25lbnRzLmRldmljZS1waWNrZXIuc2hvd19kZXZpY2VzXCJcbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICBzbG90PVwic3VmZml4XCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwidG9nZ2xlLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAuaWNvbj0ke3RoaXMuX29wZW5lZCA/IFwiaGFzczptZW51LXVwXCIgOiBcImhhc3M6bWVudS1kb3duXCJ9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgVG9nZ2xlXG4gICAgICAgICAgICAgICAgPC9oYS1pY29uLWJ1dHRvbj5cbiAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICA8L3BhcGVyLWlucHV0PlxuICAgICAgPC92YWFkaW4tY29tYm8tYm94LWxpZ2h0PlxuICAgICAgPG13Yy1idXR0b24gQGNsaWNrPSR7dGhpcy5fc3dpdGNoUGlja2VyfVxuICAgICAgICA+Q2hvb3NlIGluZGl2aWR1YWwgZGV2aWNlczwvbXdjLWJ1dHRvblxuICAgICAgPlxuICAgIGA7XG4gIH1cblxuICBwcml2YXRlIF9jbGVhclZhbHVlKGV2OiBFdmVudCkge1xuICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHRoaXMuX3NldFZhbHVlKFtdKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0IF92YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZSB8fCBbXTtcbiAgfVxuXG4gIHByaXZhdGUgX29wZW5lZENoYW5nZWQoZXY6IFBvbHltZXJDaGFuZ2VkRXZlbnQ8Ym9vbGVhbj4pIHtcbiAgICB0aGlzLl9vcGVuZWQgPSBldi5kZXRhaWwudmFsdWU7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9zd2l0Y2hQaWNrZXIoKSB7XG4gICAgdGhpcy5fYXJlYVBpY2tlciA9ICF0aGlzLl9hcmVhUGlja2VyO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBfYXJlYVBpY2tlZChldjogUG9seW1lckNoYW5nZWRFdmVudDxzdHJpbmc+KSB7XG4gICAgY29uc3QgdmFsdWUgPSBldi5kZXRhaWwudmFsdWU7XG4gICAgbGV0IHNlbGVjdGVkRGV2aWNlcyA9IFtdO1xuICAgIGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldCBhcyBhbnk7XG4gICAgaWYgKHRhcmdldC5zZWxlY3RlZEl0ZW0pIHtcbiAgICAgIHNlbGVjdGVkRGV2aWNlcyA9IHRhcmdldC5zZWxlY3RlZEl0ZW0uZGV2aWNlcztcbiAgICB9XG5cbiAgICBpZiAodmFsdWUgIT09IHRoaXMuX3ZhbHVlIHx8IHRoaXMuX3NlbGVjdGVkRGV2aWNlcyAhPT0gc2VsZWN0ZWREZXZpY2VzKSB7XG4gICAgICB0aGlzLl9zZXRWYWx1ZShzZWxlY3RlZERldmljZXMsIHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9kZXZpY2VzUGlja2VkKGV2OiBDdXN0b21FdmVudCkge1xuICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGNvbnN0IHNlbGVjdGVkRGV2aWNlcyA9IGV2LmRldGFpbC52YWx1ZTtcbiAgICB0aGlzLl9zZXRWYWx1ZShzZWxlY3RlZERldmljZXMpO1xuICB9XG5cbiAgcHJpdmF0ZSBfc2V0VmFsdWUoc2VsZWN0ZWREZXZpY2VzOiBzdHJpbmdbXSwgdmFsdWUgPSBcIlwiKSB7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMuX3NlbGVjdGVkRGV2aWNlcyA9IHNlbGVjdGVkRGV2aWNlcztcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGZpcmVFdmVudCh0aGlzLCBcInZhbHVlLWNoYW5nZWRcIiwgeyB2YWx1ZTogc2VsZWN0ZWREZXZpY2VzIH0pO1xuICAgICAgZmlyZUV2ZW50KHRoaXMsIFwiY2hhbmdlXCIpO1xuICAgIH0sIDApO1xuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKTogQ1NTUmVzdWx0IHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgcGFwZXItaW5wdXQgPiBoYS1pY29uLWJ1dHRvbiB7XG4gICAgICAgIHdpZHRoOiAyNHB4O1xuICAgICAgICBoZWlnaHQ6IDI0cHg7XG4gICAgICAgIHBhZGRpbmc6IDJweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXNlY29uZGFyeS10ZXh0LWNvbG9yKTtcbiAgICAgIH1cbiAgICAgIFtoaWRkZW5dIHtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIH1cbiAgICBgO1xuICB9XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJoYS1hcmVhLWRldmljZXMtcGlja2VyXCI6IEhhQXJlYURldmljZXNQaWNrZXI7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUtBO0FBSUE7QUFHQTtBQUNBO0FBV0E7QUFLQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBd0JBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBZ0JBO0FBQUE7QUFBQTtBQWhCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBd0JBO0FBQUE7QUFBQTtBQXhCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBZ0NBO0FBQUE7QUFBQTtBQWhDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBbUNBO0FBQUE7QUFuQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBMkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUF0SkE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBV0E7Ozs7OztBQVFBOzs7Ozs7QUFRQTs7Ozs7QUE4SEE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBcktBO0FBQUE7QUFBQTtBQUFBO0FBd0tBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQXRMQTtBQUFBO0FBQUE7QUFBQTtBQXlMQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFPQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBRUE7OztBQUZBO0FBVkE7QUFrQkE7QUFDQTtBQUFBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOzs7Ozs7O0FBU0E7O0FBR0E7Ozs7QUFNQTs7Ozs7QUFUQTtBQWdCQTs7QUFHQTs7O0FBS0E7Ozs7QUFSQTs7O0FBZ0JBOzs7QUFyREE7QUF5REE7QUFqUkE7QUFBQTtBQUFBO0FBQUE7QUFvUkE7QUFDQTtBQUFBO0FBQ0E7QUF0UkE7QUFBQTtBQUFBO0FBQUE7QUF5UkE7QUFDQTtBQTFSQTtBQUFBO0FBQUE7QUFBQTtBQTZSQTtBQUNBO0FBOVJBO0FBQUE7QUFBQTtBQUFBO0FBaVNBO0FBQ0E7QUFsU0E7QUFBQTtBQUFBO0FBQUE7QUFxU0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBL1NBO0FBQUE7QUFBQTtBQUFBO0FBa1RBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFyVEE7QUFBQTtBQUFBO0FBQUE7QUF3VEE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBOVRBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFpVUE7Ozs7Ozs7Ozs7QUFBQTtBQVdBO0FBNVVBO0FBQUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/device/ha-area-devices-picker.ts\n");

/***/ }),

/***/ "./src/components/device/ha-devices-picker.ts":
/*!****************************************************!*\
  !*** ./src/components/device/ha-devices-picker.ts ***!
  \****************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var lit_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-element */ \"./node_modules/lit-element/lit-element.js\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _ha_device_picker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ha-device-picker */ \"./src/components/device/ha-device-picker.ts\");\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function () { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function (O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function (F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function (receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function (elements, decorators) { var newElements = []; var finishers = []; var placements = { static: [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function (element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function (element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function (elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function (element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function (elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function (elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function (elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function (elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function (obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function (constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function (obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def.static ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function (other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\nlet HaDevicesPicker = _decorate([Object(lit_element__WEBPACK_IMPORTED_MODULE_0__[\"customElement\"])(\"ha-devices-picker\")], function (_initialize, _LitElement) {\n  class HaDevicesPicker extends _LitElement {\n    constructor(...args) {\n      super(...args);\n\n      _initialize(this);\n    }\n\n  }\n\n  return {\n    F: HaDevicesPicker,\n    d: [{\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_0__[\"property\"])()],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_0__[\"property\"])()],\n      key: \"value\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_0__[\"property\"])({\n        type: Array,\n        attribute: \"include-domains\"\n      })],\n      key: \"includeDomains\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_0__[\"property\"])({\n        type: Array,\n        attribute: \"exclude-domains\"\n      })],\n      key: \"excludeDomains\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_0__[\"property\"])({\n        attribute: \"picked-device-label\"\n      }), Object(lit_element__WEBPACK_IMPORTED_MODULE_0__[\"property\"])({\n        type: Array,\n        attribute: \"include-device-classes\"\n      })],\n      key: \"includeDeviceClasses\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"pickedDeviceLabel\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_0__[\"property\"])({\n        attribute: \"pick-device-label\"\n      })],\n      key: \"pickDeviceLabel\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value:\n      /**\n       * Show entities from specific domains.\n       * @type {string}\n       * @attr include-domains\n       */\n\n      /**\n       * Show no entities of these domains.\n       * @type {Array}\n       * @attr exclude-domains\n       */\n      function render() {\n        if (!this.hass) {\n          return lit_element__WEBPACK_IMPORTED_MODULE_0__[\"html\"]``;\n        }\n\n        const currentDevices = this._currentDevices;\n        return lit_element__WEBPACK_IMPORTED_MODULE_0__[\"html\"]`\n      ${currentDevices.map(entityId => lit_element__WEBPACK_IMPORTED_MODULE_0__[\"html\"]`\n          <div>\n            <ha-device-picker\n              allow-custom-entity\n              .curValue=${entityId}\n              .hass=${this.hass}\n              .includeDomains=${this.includeDomains}\n              .excludeDomains=${this.excludeDomains}\n              .includeDeviceClasses=${this.includeDeviceClasses}\n              .value=${entityId}\n              .label=${this.pickedDeviceLabel}\n              @value-changed=${this._deviceChanged}\n            ></ha-device-picker>\n          </div>\n        `)}\n      <div>\n        <ha-device-picker\n          .hass=${this.hass}\n          .includeDomains=${this.includeDomains}\n          .excludeDomains=${this.excludeDomains}\n          .includeDeviceClasses=${this.includeDeviceClasses}\n          .label=${this.pickDeviceLabel}\n          @value-changed=${this._addDevice}\n        ></ha-device-picker>\n      </div>\n    `;\n      }\n    }, {\n      kind: \"get\",\n      key: \"_currentDevices\",\n      value: function _currentDevices() {\n        return this.value || [];\n      }\n    }, {\n      kind: \"method\",\n      key: \"_updateDevices\",\n      value: async function _updateDevices(devices) {\n        Object(_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_1__[\"fireEvent\"])(this, \"value-changed\", {\n          value: devices\n        });\n        this.value = devices;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_deviceChanged\",\n      value: function _deviceChanged(event) {\n        event.stopPropagation();\n        const curValue = event.currentTarget.curValue;\n        const newValue = event.detail.value;\n\n        if (newValue === curValue || newValue !== \"\") {\n          return;\n        }\n\n        if (newValue === \"\") {\n          this._updateDevices(this._currentDevices.filter(dev => dev !== curValue));\n        } else {\n          this._updateDevices(this._currentDevices.map(dev => dev === curValue ? newValue : dev));\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_addDevice\",\n      value: async function _addDevice(event) {\n        event.stopPropagation();\n        const toAdd = event.detail.value;\n        event.currentTarget.value = \"\";\n\n        if (!toAdd) {\n          return;\n        }\n\n        const currentDevices = this._currentDevices;\n\n        if (currentDevices.includes(toAdd)) {\n          return;\n        }\n\n        this._updateDevices([...currentDevices, toAdd]);\n      }\n    }]\n  };\n}, lit_element__WEBPACK_IMPORTED_MODULE_0__[\"LitElement\"]);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9kZXZpY2UvaGEtZGV2aWNlcy1waWNrZXIudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9kZXZpY2UvaGEtZGV2aWNlcy1waWNrZXIudHM/ODRhZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBjdXN0b21FbGVtZW50LFxuICBodG1sLFxuICBMaXRFbGVtZW50LFxuICBwcm9wZXJ0eSxcbiAgVGVtcGxhdGVSZXN1bHQsXG59IGZyb20gXCJsaXQtZWxlbWVudFwiO1xuaW1wb3J0IHsgZmlyZUV2ZW50IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9kb20vZmlyZV9ldmVudFwiO1xuaW1wb3J0IHsgUG9seW1lckNoYW5nZWRFdmVudCB9IGZyb20gXCIuLi8uLi9wb2x5bWVyLXR5cGVzXCI7XG5pbXBvcnQgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgXCIuL2hhLWRldmljZS1waWNrZXJcIjtcblxuQGN1c3RvbUVsZW1lbnQoXCJoYS1kZXZpY2VzLXBpY2tlclwiKVxuY2xhc3MgSGFEZXZpY2VzUGlja2VyIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBoYXNzPzogSG9tZUFzc2lzdGFudDtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgdmFsdWU/OiBzdHJpbmdbXTtcblxuICAvKipcbiAgICogU2hvdyBlbnRpdGllcyBmcm9tIHNwZWNpZmljIGRvbWFpbnMuXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBhdHRyIGluY2x1ZGUtZG9tYWluc1xuICAgKi9cbiAgQHByb3BlcnR5KHsgdHlwZTogQXJyYXksIGF0dHJpYnV0ZTogXCJpbmNsdWRlLWRvbWFpbnNcIiB9KVxuICBwdWJsaWMgaW5jbHVkZURvbWFpbnM/OiBzdHJpbmdbXTtcblxuICAvKipcbiAgICogU2hvdyBubyBlbnRpdGllcyBvZiB0aGVzZSBkb21haW5zLlxuICAgKiBAdHlwZSB7QXJyYXl9XG4gICAqIEBhdHRyIGV4Y2x1ZGUtZG9tYWluc1xuICAgKi9cbiAgQHByb3BlcnR5KHsgdHlwZTogQXJyYXksIGF0dHJpYnV0ZTogXCJleGNsdWRlLWRvbWFpbnNcIiB9KVxuICBwdWJsaWMgZXhjbHVkZURvbWFpbnM/OiBzdHJpbmdbXTtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IFwicGlja2VkLWRldmljZS1sYWJlbFwiIH0pXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEFycmF5LCBhdHRyaWJ1dGU6IFwiaW5jbHVkZS1kZXZpY2UtY2xhc3Nlc1wiIH0pXG4gIHB1YmxpYyBpbmNsdWRlRGV2aWNlQ2xhc3Nlcz86IHN0cmluZ1tdO1xuXG4gIHB1YmxpYyBwaWNrZWREZXZpY2VMYWJlbD86IHN0cmluZztcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IFwicGljay1kZXZpY2UtbGFiZWxcIiB9KSBwdWJsaWMgcGlja0RldmljZUxhYmVsPzogc3RyaW5nO1xuXG4gIHByb3RlY3RlZCByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIGlmICghdGhpcy5oYXNzKSB7XG4gICAgICByZXR1cm4gaHRtbGBgO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnREZXZpY2VzID0gdGhpcy5fY3VycmVudERldmljZXM7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICAke2N1cnJlbnREZXZpY2VzLm1hcChcbiAgICAgICAgKGVudGl0eUlkKSA9PiBodG1sYFxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aGEtZGV2aWNlLXBpY2tlclxuICAgICAgICAgICAgICBhbGxvdy1jdXN0b20tZW50aXR5XG4gICAgICAgICAgICAgIC5jdXJWYWx1ZT0ke2VudGl0eUlkfVxuICAgICAgICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgICAgICAgLmluY2x1ZGVEb21haW5zPSR7dGhpcy5pbmNsdWRlRG9tYWluc31cbiAgICAgICAgICAgICAgLmV4Y2x1ZGVEb21haW5zPSR7dGhpcy5leGNsdWRlRG9tYWluc31cbiAgICAgICAgICAgICAgLmluY2x1ZGVEZXZpY2VDbGFzc2VzPSR7dGhpcy5pbmNsdWRlRGV2aWNlQ2xhc3Nlc31cbiAgICAgICAgICAgICAgLnZhbHVlPSR7ZW50aXR5SWR9XG4gICAgICAgICAgICAgIC5sYWJlbD0ke3RoaXMucGlja2VkRGV2aWNlTGFiZWx9XG4gICAgICAgICAgICAgIEB2YWx1ZS1jaGFuZ2VkPSR7dGhpcy5fZGV2aWNlQ2hhbmdlZH1cbiAgICAgICAgICAgID48L2hhLWRldmljZS1waWNrZXI+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGBcbiAgICAgICl9XG4gICAgICA8ZGl2PlxuICAgICAgICA8aGEtZGV2aWNlLXBpY2tlclxuICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgIC5pbmNsdWRlRG9tYWlucz0ke3RoaXMuaW5jbHVkZURvbWFpbnN9XG4gICAgICAgICAgLmV4Y2x1ZGVEb21haW5zPSR7dGhpcy5leGNsdWRlRG9tYWluc31cbiAgICAgICAgICAuaW5jbHVkZURldmljZUNsYXNzZXM9JHt0aGlzLmluY2x1ZGVEZXZpY2VDbGFzc2VzfVxuICAgICAgICAgIC5sYWJlbD0ke3RoaXMucGlja0RldmljZUxhYmVsfVxuICAgICAgICAgIEB2YWx1ZS1jaGFuZ2VkPSR7dGhpcy5fYWRkRGV2aWNlfVxuICAgICAgICA+PC9oYS1kZXZpY2UtcGlja2VyPlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0IF9jdXJyZW50RGV2aWNlcygpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZSB8fCBbXTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX3VwZGF0ZURldmljZXMoZGV2aWNlcykge1xuICAgIGZpcmVFdmVudCh0aGlzLCBcInZhbHVlLWNoYW5nZWRcIiwge1xuICAgICAgdmFsdWU6IGRldmljZXMsXG4gICAgfSk7XG5cbiAgICB0aGlzLnZhbHVlID0gZGV2aWNlcztcbiAgfVxuXG4gIHByaXZhdGUgX2RldmljZUNoYW5nZWQoZXZlbnQ6IFBvbHltZXJDaGFuZ2VkRXZlbnQ8c3RyaW5nPikge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGNvbnN0IGN1clZhbHVlID0gKGV2ZW50LmN1cnJlbnRUYXJnZXQgYXMgYW55KS5jdXJWYWx1ZTtcbiAgICBjb25zdCBuZXdWYWx1ZSA9IGV2ZW50LmRldGFpbC52YWx1ZTtcbiAgICBpZiAobmV3VmFsdWUgPT09IGN1clZhbHVlIHx8IG5ld1ZhbHVlICE9PSBcIlwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChuZXdWYWx1ZSA9PT0gXCJcIikge1xuICAgICAgdGhpcy5fdXBkYXRlRGV2aWNlcyhcbiAgICAgICAgdGhpcy5fY3VycmVudERldmljZXMuZmlsdGVyKChkZXYpID0+IGRldiAhPT0gY3VyVmFsdWUpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl91cGRhdGVEZXZpY2VzKFxuICAgICAgICB0aGlzLl9jdXJyZW50RGV2aWNlcy5tYXAoKGRldikgPT4gKGRldiA9PT0gY3VyVmFsdWUgPyBuZXdWYWx1ZSA6IGRldikpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX2FkZERldmljZShldmVudDogUG9seW1lckNoYW5nZWRFdmVudDxzdHJpbmc+KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3QgdG9BZGQgPSBldmVudC5kZXRhaWwudmFsdWU7XG4gICAgKGV2ZW50LmN1cnJlbnRUYXJnZXQgYXMgYW55KS52YWx1ZSA9IFwiXCI7XG4gICAgaWYgKCF0b0FkZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjdXJyZW50RGV2aWNlcyA9IHRoaXMuX2N1cnJlbnREZXZpY2VzO1xuICAgIGlmIChjdXJyZW50RGV2aWNlcy5pbmNsdWRlcyh0b0FkZCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl91cGRhdGVEZXZpY2VzKFsuLi5jdXJyZW50RGV2aWNlcywgdG9BZGRdKTtcbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiaGEtZGV2aWNlcy1waWNrZXJcIjogSGFEZXZpY2VzUGlja2VyO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBT0E7QUFHQTtBQUNBO0FBRUE7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQ0E7O0FBREE7OztBQUNBOzs7OztBQUVBOzs7OztBQU9BO0FBQUE7QUFBQTtBQUFBOzs7OztBQVFBO0FBQUE7QUFBQTtBQUFBOzs7OztBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTs7Ozs7Ozs7O0FBS0E7QUFBQTtBQUFBOzs7Ozs7O0FBdEJBOzs7Ozs7QUFRQTs7Ozs7QUFnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQVpBOzs7QUFtQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUF6QkE7QUE2QkE7Ozs7QUFFQTtBQUNBO0FBQ0E7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUlBO0FBQ0E7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUE3R0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/device/ha-devices-picker.ts\n");

/***/ }),

/***/ "./src/components/dialog/ha-iron-focusables-helper.js":
/*!************************************************************!*\
  !*** ./src/components/dialog/ha-iron-focusables-helper.js ***!
  \************************************************************/
/*! exports provided: HaIronFocusablesHelper */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HaIronFocusablesHelper\", function() { return HaIronFocusablesHelper; });\n/* harmony import */ var _polymer_iron_overlay_behavior_iron_focusables_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @polymer/iron-overlay-behavior/iron-focusables-helper */ \"./node_modules/@polymer/iron-overlay-behavior/iron-focusables-helper.js\");\n/* harmony import */ var _polymer_polymer_lib_legacy_polymer_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @polymer/polymer/lib/legacy/polymer.dom */ \"./node_modules/@polymer/polymer/lib/legacy/polymer.dom.js\");\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\n\n/*\n  Fixes issue with not using shadow dom properly in iron-overlay-behavior/icon-focusables-helper.js\n*/\n\n\nconst HaIronFocusablesHelper = {\n  /**\n   * Returns a sorted array of tabbable nodes, including the root node.\n   * It searches the tabbable nodes in the light and shadow dom of the chidren,\n   * sorting the result by tabindex.\n   * @param {!Node} node\n   * @return {!Array<!HTMLElement>}\n   */\n  getTabbableNodes: function (node) {\n    var result = []; // If there is at least one element with tabindex > 0, we need to sort\n    // the final array by tabindex.\n\n    var needsSortByTabIndex = this._collectTabbableNodes(node, result);\n\n    if (needsSortByTabIndex) {\n      return _polymer_iron_overlay_behavior_iron_focusables_helper__WEBPACK_IMPORTED_MODULE_0__[\"IronFocusablesHelper\"]._sortByTabIndex(result);\n    }\n\n    return result;\n  },\n\n  /**\n   * Searches for nodes that are tabbable and adds them to the `result` array.\n   * Returns if the `result` array needs to be sorted by tabindex.\n   * @param {!Node} node The starting point for the search; added to `result`\n   * if tabbable.\n   * @param {!Array<!HTMLElement>} result\n   * @return {boolean}\n   * @private\n   */\n  _collectTabbableNodes: function (node, result) {\n    // If not an element or not visible, no need to explore children.\n    if (node.nodeType !== Node.ELEMENT_NODE || !_polymer_iron_overlay_behavior_iron_focusables_helper__WEBPACK_IMPORTED_MODULE_0__[\"IronFocusablesHelper\"]._isVisible(node)) {\n      return false;\n    }\n\n    var element =\n    /** @type {!HTMLElement} */\n    node;\n\n    var tabIndex = _polymer_iron_overlay_behavior_iron_focusables_helper__WEBPACK_IMPORTED_MODULE_0__[\"IronFocusablesHelper\"]._normalizedTabIndex(element);\n\n    var needsSort = tabIndex > 0;\n\n    if (tabIndex >= 0) {\n      result.push(element);\n    } // In ShadowDOM v1, tab order is affected by the order of distrubution.\n    // E.g. getTabbableNodes(#root) in ShadowDOM v1 should return [#A, #B];\n    // in ShadowDOM v0 tab order is not affected by the distrubution order,\n    // in fact getTabbableNodes(#root) returns [#B, #A].\n    //  <div id=\"root\">\n    //   <!-- shadow -->\n    //     <slot name=\"a\">\n    //     <slot name=\"b\">\n    //   <!-- /shadow -->\n    //   <input id=\"A\" slot=\"a\">\n    //   <input id=\"B\" slot=\"b\" tabindex=\"1\">\n    //  </div>\n    // TODO(valdrin) support ShadowDOM v1 when upgrading to Polymer v2.0.\n\n\n    var children;\n\n    if (element.localName === \"content\" || element.localName === \"slot\") {\n      children = Object(_polymer_polymer_lib_legacy_polymer_dom__WEBPACK_IMPORTED_MODULE_1__[\"dom\"])(element).getDistributedNodes();\n    } else {\n      // /////////////////////////\n      // Use shadow root if possible, will check for distributed nodes.\n      // THIS IS THE CHANGED LINE\n      children = Object(_polymer_polymer_lib_legacy_polymer_dom__WEBPACK_IMPORTED_MODULE_1__[\"dom\"])(element.shadowRoot || element.root || element).children; // /////////////////////////\n    }\n\n    for (var i = 0; i < children.length; i++) {\n      // Ensure method is always invoked to collect tabbable children.\n      needsSort = this._collectTabbableNodes(children[i], result) || needsSort;\n    }\n\n    return needsSort;\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9kaWFsb2cvaGEtaXJvbi1mb2N1c2FibGVzLWhlbHBlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2RpYWxvZy9oYS1pcm9uLWZvY3VzYWJsZXMtaGVscGVyLmpzP2I5MjgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE2IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG4vKlxuICBGaXhlcyBpc3N1ZSB3aXRoIG5vdCB1c2luZyBzaGFkb3cgZG9tIHByb3Blcmx5IGluIGlyb24tb3ZlcmxheS1iZWhhdmlvci9pY29uLWZvY3VzYWJsZXMtaGVscGVyLmpzXG4qL1xuaW1wb3J0IHsgSXJvbkZvY3VzYWJsZXNIZWxwZXIgfSBmcm9tIFwiQHBvbHltZXIvaXJvbi1vdmVybGF5LWJlaGF2aW9yL2lyb24tZm9jdXNhYmxlcy1oZWxwZXJcIjtcbmltcG9ydCB7IGRvbSB9IGZyb20gXCJAcG9seW1lci9wb2x5bWVyL2xpYi9sZWdhY3kvcG9seW1lci5kb21cIjtcblxuZXhwb3J0IGNvbnN0IEhhSXJvbkZvY3VzYWJsZXNIZWxwZXIgPSB7XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc29ydGVkIGFycmF5IG9mIHRhYmJhYmxlIG5vZGVzLCBpbmNsdWRpbmcgdGhlIHJvb3Qgbm9kZS5cbiAgICogSXQgc2VhcmNoZXMgdGhlIHRhYmJhYmxlIG5vZGVzIGluIHRoZSBsaWdodCBhbmQgc2hhZG93IGRvbSBvZiB0aGUgY2hpZHJlbixcbiAgICogc29ydGluZyB0aGUgcmVzdWx0IGJ5IHRhYmluZGV4LlxuICAgKiBAcGFyYW0geyFOb2RlfSBub2RlXG4gICAqIEByZXR1cm4geyFBcnJheTwhSFRNTEVsZW1lbnQ+fVxuICAgKi9cbiAgZ2V0VGFiYmFibGVOb2RlczogZnVuY3Rpb24gKG5vZGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgLy8gSWYgdGhlcmUgaXMgYXQgbGVhc3Qgb25lIGVsZW1lbnQgd2l0aCB0YWJpbmRleCA+IDAsIHdlIG5lZWQgdG8gc29ydFxuICAgIC8vIHRoZSBmaW5hbCBhcnJheSBieSB0YWJpbmRleC5cbiAgICB2YXIgbmVlZHNTb3J0QnlUYWJJbmRleCA9IHRoaXMuX2NvbGxlY3RUYWJiYWJsZU5vZGVzKG5vZGUsIHJlc3VsdCk7XG4gICAgaWYgKG5lZWRzU29ydEJ5VGFiSW5kZXgpIHtcbiAgICAgIHJldHVybiBJcm9uRm9jdXNhYmxlc0hlbHBlci5fc29ydEJ5VGFiSW5kZXgocmVzdWx0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcblxuICAvKipcbiAgICogU2VhcmNoZXMgZm9yIG5vZGVzIHRoYXQgYXJlIHRhYmJhYmxlIGFuZCBhZGRzIHRoZW0gdG8gdGhlIGByZXN1bHRgIGFycmF5LlxuICAgKiBSZXR1cm5zIGlmIHRoZSBgcmVzdWx0YCBhcnJheSBuZWVkcyB0byBiZSBzb3J0ZWQgYnkgdGFiaW5kZXguXG4gICAqIEBwYXJhbSB7IU5vZGV9IG5vZGUgVGhlIHN0YXJ0aW5nIHBvaW50IGZvciB0aGUgc2VhcmNoOyBhZGRlZCB0byBgcmVzdWx0YFxuICAgKiBpZiB0YWJiYWJsZS5cbiAgICogQHBhcmFtIHshQXJyYXk8IUhUTUxFbGVtZW50Pn0gcmVzdWx0XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY29sbGVjdFRhYmJhYmxlTm9kZXM6IGZ1bmN0aW9uIChub2RlLCByZXN1bHQpIHtcbiAgICAvLyBJZiBub3QgYW4gZWxlbWVudCBvciBub3QgdmlzaWJsZSwgbm8gbmVlZCB0byBleHBsb3JlIGNoaWxkcmVuLlxuICAgIGlmIChcbiAgICAgIG5vZGUubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFIHx8XG4gICAgICAhSXJvbkZvY3VzYWJsZXNIZWxwZXIuX2lzVmlzaWJsZShub2RlKVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgZWxlbWVudCA9IC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyAobm9kZSk7XG4gICAgdmFyIHRhYkluZGV4ID0gSXJvbkZvY3VzYWJsZXNIZWxwZXIuX25vcm1hbGl6ZWRUYWJJbmRleChlbGVtZW50KTtcbiAgICB2YXIgbmVlZHNTb3J0ID0gdGFiSW5kZXggPiAwO1xuICAgIGlmICh0YWJJbmRleCA+PSAwKSB7XG4gICAgICByZXN1bHQucHVzaChlbGVtZW50KTtcbiAgICB9XG5cbiAgICAvLyBJbiBTaGFkb3dET00gdjEsIHRhYiBvcmRlciBpcyBhZmZlY3RlZCBieSB0aGUgb3JkZXIgb2YgZGlzdHJ1YnV0aW9uLlxuICAgIC8vIEUuZy4gZ2V0VGFiYmFibGVOb2Rlcygjcm9vdCkgaW4gU2hhZG93RE9NIHYxIHNob3VsZCByZXR1cm4gWyNBLCAjQl07XG4gICAgLy8gaW4gU2hhZG93RE9NIHYwIHRhYiBvcmRlciBpcyBub3QgYWZmZWN0ZWQgYnkgdGhlIGRpc3RydWJ1dGlvbiBvcmRlcixcbiAgICAvLyBpbiBmYWN0IGdldFRhYmJhYmxlTm9kZXMoI3Jvb3QpIHJldHVybnMgWyNCLCAjQV0uXG4gICAgLy8gIDxkaXYgaWQ9XCJyb290XCI+XG4gICAgLy8gICA8IS0tIHNoYWRvdyAtLT5cbiAgICAvLyAgICAgPHNsb3QgbmFtZT1cImFcIj5cbiAgICAvLyAgICAgPHNsb3QgbmFtZT1cImJcIj5cbiAgICAvLyAgIDwhLS0gL3NoYWRvdyAtLT5cbiAgICAvLyAgIDxpbnB1dCBpZD1cIkFcIiBzbG90PVwiYVwiPlxuICAgIC8vICAgPGlucHV0IGlkPVwiQlwiIHNsb3Q9XCJiXCIgdGFiaW5kZXg9XCIxXCI+XG4gICAgLy8gIDwvZGl2PlxuICAgIC8vIFRPRE8odmFsZHJpbikgc3VwcG9ydCBTaGFkb3dET00gdjEgd2hlbiB1cGdyYWRpbmcgdG8gUG9seW1lciB2Mi4wLlxuICAgIHZhciBjaGlsZHJlbjtcbiAgICBpZiAoZWxlbWVudC5sb2NhbE5hbWUgPT09IFwiY29udGVudFwiIHx8IGVsZW1lbnQubG9jYWxOYW1lID09PSBcInNsb3RcIikge1xuICAgICAgY2hpbGRyZW4gPSBkb20oZWxlbWVudCkuZ2V0RGlzdHJpYnV0ZWROb2RlcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAvLyBVc2Ugc2hhZG93IHJvb3QgaWYgcG9zc2libGUsIHdpbGwgY2hlY2sgZm9yIGRpc3RyaWJ1dGVkIG5vZGVzLlxuICAgICAgLy8gVEhJUyBJUyBUSEUgQ0hBTkdFRCBMSU5FXG4gICAgICBjaGlsZHJlbiA9IGRvbShlbGVtZW50LnNoYWRvd1Jvb3QgfHwgZWxlbWVudC5yb290IHx8IGVsZW1lbnQpLmNoaWxkcmVuO1xuICAgICAgLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBFbnN1cmUgbWV0aG9kIGlzIGFsd2F5cyBpbnZva2VkIHRvIGNvbGxlY3QgdGFiYmFibGUgY2hpbGRyZW4uXG4gICAgICBuZWVkc1NvcnQgPSB0aGlzLl9jb2xsZWN0VGFiYmFibGVOb2RlcyhjaGlsZHJlbltpXSwgcmVzdWx0KSB8fCBuZWVkc1NvcnQ7XG4gICAgfVxuICAgIHJldHVybiBuZWVkc1NvcnQ7XG4gIH0sXG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7OztBQVVBOzs7QUFHQTtBQUNBO0FBRUE7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBdkVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/dialog/ha-iron-focusables-helper.js\n");

/***/ }),

/***/ "./src/components/dialog/ha-paper-dialog.ts":
/*!**************************************************!*\
  !*** ./src/components/dialog/ha-paper-dialog.ts ***!
  \**************************************************/
/*! exports provided: HaPaperDialog */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HaPaperDialog\", function() { return HaPaperDialog; });\n/* harmony import */ var _polymer_paper_dialog_paper_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @polymer/paper-dialog/paper-dialog */ \"./node_modules/@polymer/paper-dialog/paper-dialog.js\");\n/* harmony import */ var _polymer_polymer_lib_legacy_class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @polymer/polymer/lib/legacy/class */ \"./node_modules/@polymer/polymer/lib/legacy/class.js\");\n/* harmony import */ var _ha_iron_focusables_helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ha-iron-focusables-helper */ \"./src/components/dialog/ha-iron-focusables-helper.js\");\n\n\n\nconst paperDialogClass = customElements.get(\"paper-dialog\"); // behavior that will override existing iron-overlay-behavior and call the fixed implementation\n\nconst haTabFixBehaviorImpl = {\n  get _focusableNodes() {\n    return _ha_iron_focusables_helper__WEBPACK_IMPORTED_MODULE_2__[\"HaIronFocusablesHelper\"].getTabbableNodes(this);\n  }\n\n}; // paper-dialog that uses the haTabFixBehaviorImpl behvaior\n// export class HaPaperDialog extends paperDialogClass {}\n// @ts-ignore\n\nclass HaPaperDialog extends Object(_polymer_polymer_lib_legacy_class__WEBPACK_IMPORTED_MODULE_1__[\"mixinBehaviors\"])([haTabFixBehaviorImpl], paperDialogClass) {}\n// @ts-ignore\ncustomElements.define(\"ha-paper-dialog\", HaPaperDialog);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9kaWFsb2cvaGEtcGFwZXItZGlhbG9nLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZGlhbG9nL2hhLXBhcGVyLWRpYWxvZy50cz8xNjc1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIkBwb2x5bWVyL3BhcGVyLWRpYWxvZy9wYXBlci1kaWFsb2dcIjtcbmltcG9ydCB0eXBlIHsgUGFwZXJEaWFsb2dFbGVtZW50IH0gZnJvbSBcIkBwb2x5bWVyL3BhcGVyLWRpYWxvZy9wYXBlci1kaWFsb2dcIjtcbmltcG9ydCB7IG1peGluQmVoYXZpb3JzIH0gZnJvbSBcIkBwb2x5bWVyL3BvbHltZXIvbGliL2xlZ2FjeS9jbGFzc1wiO1xuaW1wb3J0IHR5cGUgeyBDb25zdHJ1Y3RvciB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuaW1wb3J0IHsgSGFJcm9uRm9jdXNhYmxlc0hlbHBlciB9IGZyb20gXCIuL2hhLWlyb24tZm9jdXNhYmxlcy1oZWxwZXJcIjtcblxuY29uc3QgcGFwZXJEaWFsb2dDbGFzcyA9IGN1c3RvbUVsZW1lbnRzLmdldChcInBhcGVyLWRpYWxvZ1wiKSBhcyBDb25zdHJ1Y3RvcjxcbiAgUGFwZXJEaWFsb2dFbGVtZW50XG4+O1xuXG4vLyBiZWhhdmlvciB0aGF0IHdpbGwgb3ZlcnJpZGUgZXhpc3RpbmcgaXJvbi1vdmVybGF5LWJlaGF2aW9yIGFuZCBjYWxsIHRoZSBmaXhlZCBpbXBsZW1lbnRhdGlvblxuY29uc3QgaGFUYWJGaXhCZWhhdmlvckltcGwgPSB7XG4gIGdldCBfZm9jdXNhYmxlTm9kZXMoKSB7XG4gICAgcmV0dXJuIEhhSXJvbkZvY3VzYWJsZXNIZWxwZXIuZ2V0VGFiYmFibGVOb2Rlcyh0aGlzKTtcbiAgfSxcbn07XG5cbi8vIHBhcGVyLWRpYWxvZyB0aGF0IHVzZXMgdGhlIGhhVGFiRml4QmVoYXZpb3JJbXBsIGJlaHZhaW9yXG4vLyBleHBvcnQgY2xhc3MgSGFQYXBlckRpYWxvZyBleHRlbmRzIHBhcGVyRGlhbG9nQ2xhc3Mge31cbi8vIEB0cy1pZ25vcmVcbmV4cG9ydCBjbGFzcyBIYVBhcGVyRGlhbG9nXG4gIGV4dGVuZHMgbWl4aW5CZWhhdmlvcnMoW2hhVGFiRml4QmVoYXZpb3JJbXBsXSwgcGFwZXJEaWFsb2dDbGFzcylcbiAgaW1wbGVtZW50cyBQYXBlckRpYWxvZ0VsZW1lbnQge31cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImhhLXBhcGVyLWRpYWxvZ1wiOiBIYVBhcGVyRGlhbG9nO1xuICB9XG59XG4vLyBAdHMtaWdub3JlXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoXCJoYS1wYXBlci1kaWFsb2dcIiwgSGFQYXBlckRpYWxvZyk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBT0E7QUFDQTtBQUNBO0FBQUE7QUFTQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/dialog/ha-paper-dialog.ts\n");

/***/ }),

/***/ "./src/data/integration.ts":
/*!*********************************!*\
  !*** ./src/data/integration.ts ***!
  \*********************************/
/*! exports provided: integrationIssuesUrl, domainToName, fetchIntegrationManifests, fetchIntegrationManifest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"integrationIssuesUrl\", function() { return integrationIssuesUrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"domainToName\", function() { return domainToName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetchIntegrationManifests\", function() { return fetchIntegrationManifests; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetchIntegrationManifest\", function() { return fetchIntegrationManifest; });\nconst integrationIssuesUrl = (domain, manifest) => manifest.issue_tracker || `https://github.com/home-assistant/home-assistant/issues?q=is%3Aissue+is%3Aopen+label%3A%22integration%3A+${domain}%22`;\nconst domainToName = (localize, domain) => localize(`component.${domain}.title`) || domain;\nconst fetchIntegrationManifests = hass => hass.callWS({\n  type: \"manifest/list\"\n});\nconst fetchIntegrationManifest = (hass, integration) => hass.callWS({\n  type: \"manifest/get\",\n  integration\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9pbnRlZ3JhdGlvbi50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9kYXRhL2ludGVncmF0aW9uLnRzPzRlZTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9jYWxpemVGdW5jIH0gZnJvbSBcIi4uL2NvbW1vbi90cmFuc2xhdGlvbnMvbG9jYWxpemVcIjtcbmltcG9ydCB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vdHlwZXNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBJbnRlZ3JhdGlvbk1hbmlmZXN0IHtcbiAgaXNfYnVpbHRfaW46IGJvb2xlYW47XG4gIGRvbWFpbjogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGNvbmZpZ19mbG93OiBib29sZWFuO1xuICBkb2N1bWVudGF0aW9uOiBzdHJpbmc7XG4gIGlzc3VlX3RyYWNrZXI/OiBzdHJpbmc7XG4gIGRlcGVuZGVuY2llcz86IHN0cmluZ1tdO1xuICBhZnRlcl9kZXBlbmRlbmNpZXM/OiBzdHJpbmdbXTtcbiAgY29kZW93bmVycz86IHN0cmluZ1tdO1xuICByZXF1aXJlbWVudHM/OiBzdHJpbmdbXTtcbiAgc3NkcD86IEFycmF5PHsgbWFudWZhY3R1cmVyPzogc3RyaW5nOyBtb2RlbE5hbWU/OiBzdHJpbmc7IHN0Pzogc3RyaW5nIH0+O1xuICB6ZXJvY29uZj86IHN0cmluZ1tdO1xuICBob21la2l0PzogeyBtb2RlbHM6IHN0cmluZ1tdIH07XG4gIHF1YWxpdHlfc2NhbGU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBpbnRlZ3JhdGlvbklzc3Vlc1VybCA9IChcbiAgZG9tYWluOiBzdHJpbmcsXG4gIG1hbmlmZXN0OiBJbnRlZ3JhdGlvbk1hbmlmZXN0XG4pID0+XG4gIG1hbmlmZXN0Lmlzc3VlX3RyYWNrZXIgfHxcbiAgYGh0dHBzOi8vZ2l0aHViLmNvbS9ob21lLWFzc2lzdGFudC9ob21lLWFzc2lzdGFudC9pc3N1ZXM/cT1pcyUzQWlzc3VlK2lzJTNBb3BlbitsYWJlbCUzQSUyMmludGVncmF0aW9uJTNBKyR7ZG9tYWlufSUyMmA7XG5cbmV4cG9ydCBjb25zdCBkb21haW5Ub05hbWUgPSAobG9jYWxpemU6IExvY2FsaXplRnVuYywgZG9tYWluOiBzdHJpbmcpID0+XG4gIGxvY2FsaXplKGBjb21wb25lbnQuJHtkb21haW59LnRpdGxlYCkgfHwgZG9tYWluO1xuXG5leHBvcnQgY29uc3QgZmV0Y2hJbnRlZ3JhdGlvbk1hbmlmZXN0cyA9IChoYXNzOiBIb21lQXNzaXN0YW50KSA9PlxuICBoYXNzLmNhbGxXUzxJbnRlZ3JhdGlvbk1hbmlmZXN0W10+KHsgdHlwZTogXCJtYW5pZmVzdC9saXN0XCIgfSk7XG5cbmV4cG9ydCBjb25zdCBmZXRjaEludGVncmF0aW9uTWFuaWZlc3QgPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIGludGVncmF0aW9uOiBzdHJpbmdcbikgPT4gaGFzcy5jYWxsV1M8SW50ZWdyYXRpb25NYW5pZmVzdD4oeyB0eXBlOiBcIm1hbmlmZXN0L2dldFwiLCBpbnRlZ3JhdGlvbiB9KTtcbiJdLCJtYXBwaW5ncyI6IkFBb0JBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU9BO0FBR0E7QUFDQTtBQUFBO0FBRUE7QUFHQTtBQUFBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/data/integration.ts\n");

/***/ }),

/***/ "./src/panels/config/automation/thingtalk/dialog-thingtalk.ts":
/*!********************************************************************!*\
  !*** ./src/panels/config/automation/thingtalk/dialog-thingtalk.ts ***!
  \********************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _material_mwc_button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material/mwc-button */ \"./node_modules/@material/mwc-button/mwc-button.js\");\n/* harmony import */ var _polymer_paper_dialog_scrollable_paper_dialog_scrollable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @polymer/paper-dialog-scrollable/paper-dialog-scrollable */ \"./node_modules/@polymer/paper-dialog-scrollable/paper-dialog-scrollable.js\");\n/* harmony import */ var _polymer_paper_input_paper_input__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @polymer/paper-input/paper-input */ \"./node_modules/@polymer/paper-input/paper-input.js\");\n/* harmony import */ var _polymer_paper_spinner_paper_spinner__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @polymer/paper-spinner/paper-spinner */ \"./node_modules/@polymer/paper-spinner/paper-spinner.js\");\n/* harmony import */ var lit_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit-element */ \"./node_modules/lit-element/lit-element.js\");\n/* harmony import */ var _components_dialog_ha_paper_dialog__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../components/dialog/ha-paper-dialog */ \"./src/components/dialog/ha-paper-dialog.ts\");\n/* harmony import */ var _data_cloud__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../data/cloud */ \"./src/data/cloud.ts\");\n/* harmony import */ var _resources_styles__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../resources/styles */ \"./src/resources/styles.ts\");\n/* harmony import */ var _ha_thingtalk_placeholders__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ha-thingtalk-placeholders */ \"./src/panels/config/automation/thingtalk/ha-thingtalk-placeholders.ts\");\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function () { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function (O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function (F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function (receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function (elements, decorators) { var newElements = []; var finishers = []; var placements = { static: [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function (element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function (element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function (elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function (element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function (elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function (elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function (elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function (elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function (obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function (constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function (obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def.static ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function (other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\n\n\n\n\n\nlet DialogThingtalk = _decorate([Object(lit_element__WEBPACK_IMPORTED_MODULE_4__[\"customElement\"])(\"ha-dialog-thinktalk\")], function (_initialize, _LitElement) {\n  class DialogThingtalk extends _LitElement {\n    constructor(...args) {\n      super(...args);\n\n      _initialize(this);\n    }\n\n  }\n\n  return {\n    F: DialogThingtalk,\n    d: [{\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_4__[\"property\"])()],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_4__[\"property\"])()],\n      key: \"_error\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_4__[\"property\"])()],\n      key: \"_params\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_4__[\"property\"])()],\n      key: \"_submitting\",\n\n      value() {\n        return false;\n      }\n\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_4__[\"property\"])()],\n      key: \"_opened\",\n\n      value() {\n        return false;\n      }\n\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_4__[\"property\"])()],\n      key: \"_placeholders\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_4__[\"query\"])(\"#input\")],\n      key: \"_input\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_value\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_config\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"showDialog\",\n      value: function showDialog(params) {\n        this._params = params;\n        this._error = undefined;\n        this._opened = true;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        if (!this._params) {\n          return lit_element__WEBPACK_IMPORTED_MODULE_4__[\"html\"]``;\n        }\n\n        if (this._placeholders) {\n          return lit_element__WEBPACK_IMPORTED_MODULE_4__[\"html\"]`\n        <ha-thingtalk-placeholders\n          .hass=${this.hass}\n          .placeholders=${this._placeholders}\n          .opened=${this._opened}\n          .skip=${() => this._skip()}\n          @opened-changed=${this._openedChanged}\n          @placeholders-filled=${this._handlePlaceholders}\n        >\n        </ha-thingtalk-placeholders>\n      `;\n        }\n\n        return lit_element__WEBPACK_IMPORTED_MODULE_4__[\"html\"]`\n      <ha-paper-dialog\n        with-backdrop\n        .opened=${this._opened}\n        @opened-changed=${this._openedChanged}\n      >\n        <h2>Create a new automation</h2>\n        <paper-dialog-scrollable>\n          ${this._error ? lit_element__WEBPACK_IMPORTED_MODULE_4__[\"html\"]` <div class=\"error\">${this._error}</div> ` : \"\"}\n          Type below what this automation should do, and we will try to convert\n          it into a ioBroker automation. (only English is supported for\n          now)<br /><br />\n          For example:\n          <ul @click=${this._handleExampleClick}>\n            <li>\n              <button class=\"link\">\n                Turn off the lights when I leave home\n              </button>\n            </li>\n            <li>\n              <button class=\"link\">\n                Turn on the lights when the sun is set\n              </button>\n            </li>\n            <li>\n              <button class=\"link\">\n                Notify me if the door opens and I am not at home\n              </button>\n            </li>\n            <li>\n              <button class=\"link\">\n                Turn the light on when motion is detected\n              </button>\n            </li>\n          </ul>\n          <paper-input\n            id=\"input\"\n            label=\"What should this automation do?\"\n            autofocus\n            @keyup=${this._handleKeyUp}\n          ></paper-input>\n          <a\n            href=\"https://almond.stanford.edu/\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            class=\"attribution\"\n            >Powered by Almond</a\n          >\n        </paper-dialog-scrollable>\n        <div class=\"paper-dialog-buttons\">\n          <mwc-button class=\"left\" @click=\"${this._skip}\">\n            Skip\n          </mwc-button>\n          <mwc-button @click=\"${this._generate}\" .disabled=${this._submitting}>\n            <paper-spinner\n              ?active=\"${this._submitting}\"\n              alt=\"Creating your automation...\"\n            ></paper-spinner>\n            Create automation\n          </mwc-button>\n        </div>\n      </ha-paper-dialog>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_generate\",\n      value: async function _generate() {\n        this._value = this._input.value;\n\n        if (!this._value) {\n          this._error = \"Enter a command or tap skip.\";\n          return;\n        }\n\n        this._submitting = true;\n        let config;\n        let placeholders;\n\n        try {\n          const result = await Object(_data_cloud__WEBPACK_IMPORTED_MODULE_6__[\"convertThingTalk\"])(this.hass, this._value);\n          config = result.config;\n          placeholders = result.placeholders;\n        } catch (err) {\n          this._error = err.message;\n          this._submitting = false;\n          return;\n        }\n\n        this._submitting = false;\n\n        if (!Object.keys(config).length) {\n          this._error = \"We couldn't create an automation for that (yet?).\";\n        } else if (Object.keys(placeholders).length) {\n          this._config = config;\n          this._placeholders = placeholders;\n        } else {\n          this._sendConfig(this._value, config);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handlePlaceholders\",\n      value: function _handlePlaceholders(ev) {\n        const placeholderValues = ev.detail.value;\n        Object.entries(placeholderValues).forEach(([type, values]) => {\n          Object.entries(values).forEach(([index, placeholder]) => {\n            const devices = Object.values(placeholder);\n\n            if (devices.length === 1) {\n              Object.entries(devices[0]).forEach(([field, value]) => {\n                this._config[type][index][field] = value;\n              });\n              return;\n            }\n\n            const automation = Object.assign({}, this._config[type][index]);\n            const newAutomations = [];\n            devices.forEach(fields => {\n              const newAutomation = Object.assign({}, automation);\n              Object.entries(fields).forEach(([field, value]) => {\n                newAutomation[field] = value;\n              });\n              newAutomations.push(newAutomation);\n            });\n\n            this._config[type].splice(index, 1, ...newAutomations);\n          });\n        });\n\n        this._sendConfig(this._value, this._config);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_sendConfig\",\n      value: function _sendConfig(input, config) {\n        this._params.callback(Object.assign({\n          alias: input\n        }, config));\n\n        this._closeDialog();\n      }\n    }, {\n      kind: \"method\",\n      key: \"_skip\",\n      value: function _skip() {\n        this._params.callback(undefined);\n\n        this._closeDialog();\n      }\n    }, {\n      kind: \"method\",\n      key: \"_closeDialog\",\n      value: function _closeDialog() {\n        this._placeholders = undefined;\n\n        if (this._input) {\n          this._input.value = null;\n        }\n\n        this._opened = false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_openedChanged\",\n      value: function _openedChanged(ev) {\n        if (!ev.detail.value) {\n          this._closeDialog();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleKeyUp\",\n      value: function _handleKeyUp(ev) {\n        if (ev.keyCode === 13) {\n          this._generate();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleExampleClick\",\n      value: function _handleExampleClick(ev) {\n        this._input.value = ev.target.innerText;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [_resources_styles__WEBPACK_IMPORTED_MODULE_7__[\"haStyle\"], _resources_styles__WEBPACK_IMPORTED_MODULE_7__[\"haStyleDialog\"], lit_element__WEBPACK_IMPORTED_MODULE_4__[\"css\"]`\n        ha-paper-dialog {\n          max-width: 500px;\n        }\n        mwc-button.left {\n          margin-right: auto;\n        }\n        mwc-button paper-spinner {\n          width: 14px;\n          height: 14px;\n          margin-right: 20px;\n        }\n        paper-spinner {\n          display: none;\n        }\n        paper-spinner[active] {\n          display: block;\n        }\n        .error {\n          color: var(--google-red-500);\n        }\n        .attribution {\n          color: var(--secondary-text-color);\n        }\n      `];\n      }\n    }]\n  };\n}, lit_element__WEBPACK_IMPORTED_MODULE_4__[\"LitElement\"]);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2NvbmZpZy9hdXRvbWF0aW9uL3RoaW5ndGFsay9kaWFsb2ctdGhpbmd0YWxrLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BhbmVscy9jb25maWcvYXV0b21hdGlvbi90aGluZ3RhbGsvZGlhbG9nLXRoaW5ndGFsay50cz80NjBmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIkBtYXRlcmlhbC9td2MtYnV0dG9uXCI7XG5pbXBvcnQgXCJAcG9seW1lci9wYXBlci1kaWFsb2ctc2Nyb2xsYWJsZS9wYXBlci1kaWFsb2ctc2Nyb2xsYWJsZVwiO1xuaW1wb3J0IFwiQHBvbHltZXIvcGFwZXItaW5wdXQvcGFwZXItaW5wdXRcIjtcbmltcG9ydCB0eXBlIHsgUGFwZXJJbnB1dEVsZW1lbnQgfSBmcm9tIFwiQHBvbHltZXIvcGFwZXItaW5wdXQvcGFwZXItaW5wdXRcIjtcbmltcG9ydCBcIkBwb2x5bWVyL3BhcGVyLXNwaW5uZXIvcGFwZXItc3Bpbm5lclwiO1xuaW1wb3J0IHtcbiAgY3NzLFxuICBDU1NSZXN1bHQsXG4gIGN1c3RvbUVsZW1lbnQsXG4gIGh0bWwsXG4gIExpdEVsZW1lbnQsXG4gIHByb3BlcnR5LFxuICBxdWVyeSxcbiAgVGVtcGxhdGVSZXN1bHQsXG59IGZyb20gXCJsaXQtZWxlbWVudFwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9kaWFsb2cvaGEtcGFwZXItZGlhbG9nXCI7XG5pbXBvcnQgdHlwZSB7IEF1dG9tYXRpb25Db25maWcgfSBmcm9tIFwiLi4vLi4vLi4vLi4vZGF0YS9hdXRvbWF0aW9uXCI7XG5pbXBvcnQgeyBjb252ZXJ0VGhpbmdUYWxrIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2RhdGEvY2xvdWRcIjtcbmltcG9ydCB0eXBlIHsgUG9seW1lckNoYW5nZWRFdmVudCB9IGZyb20gXCIuLi8uLi8uLi8uLi9wb2x5bWVyLXR5cGVzXCI7XG5pbXBvcnQgeyBoYVN0eWxlLCBoYVN0eWxlRGlhbG9nIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3Jlc291cmNlcy9zdHlsZXNcIjtcbmltcG9ydCB0eXBlIHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi8uLi8uLi8uLi90eXBlc1wiO1xuaW1wb3J0IHR5cGUgeyBUaGluZ3RhbGtEaWFsb2dQYXJhbXMgfSBmcm9tIFwiLi4vc2hvdy1kaWFsb2ctdGhpbmd0YWxrXCI7XG5pbXBvcnQgXCIuL2hhLXRoaW5ndGFsay1wbGFjZWhvbGRlcnNcIjtcbmltcG9ydCB0eXBlIHsgUGxhY2Vob2xkZXJWYWx1ZXMgfSBmcm9tIFwiLi9oYS10aGluZ3RhbGstcGxhY2Vob2xkZXJzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGxhY2Vob2xkZXIge1xuICBuYW1lOiBzdHJpbmc7XG4gIGluZGV4OiBudW1iZXI7XG4gIGZpZWxkczogc3RyaW5nW107XG4gIGRvbWFpbnM6IHN0cmluZ1tdO1xuICBkZXZpY2VfY2xhc3Nlcz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBsYWNlaG9sZGVyQ29udGFpbmVyIHtcbiAgW2tleTogc3RyaW5nXTogUGxhY2Vob2xkZXJbXTtcbn1cblxuQGN1c3RvbUVsZW1lbnQoXCJoYS1kaWFsb2ctdGhpbmt0YWxrXCIpXG5jbGFzcyBEaWFsb2dUaGluZ3RhbGsgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgQHByb3BlcnR5KCkgcHVibGljIGhhc3MhOiBIb21lQXNzaXN0YW50O1xuXG4gIEBwcm9wZXJ0eSgpIHByaXZhdGUgX2Vycm9yPzogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSgpIHByaXZhdGUgX3BhcmFtcz86IFRoaW5ndGFsa0RpYWxvZ1BhcmFtcztcblxuICBAcHJvcGVydHkoKSBwcml2YXRlIF9zdWJtaXR0aW5nID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KCkgcHJpdmF0ZSBfb3BlbmVkID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KCkgcHJpdmF0ZSBfcGxhY2Vob2xkZXJzPzogUGxhY2Vob2xkZXJDb250YWluZXI7XG5cbiAgQHF1ZXJ5KFwiI2lucHV0XCIpIHByaXZhdGUgX2lucHV0PzogUGFwZXJJbnB1dEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSBfdmFsdWUhOiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSBfY29uZmlnITogUGFydGlhbDxBdXRvbWF0aW9uQ29uZmlnPjtcblxuICBwdWJsaWMgc2hvd0RpYWxvZyhwYXJhbXM6IFRoaW5ndGFsa0RpYWxvZ1BhcmFtcyk6IHZvaWQge1xuICAgIHRoaXMuX3BhcmFtcyA9IHBhcmFtcztcbiAgICB0aGlzLl9lcnJvciA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9vcGVuZWQgPSB0cnVlO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgaWYgKCF0aGlzLl9wYXJhbXMpIHtcbiAgICAgIHJldHVybiBodG1sYGA7XG4gICAgfVxuICAgIGlmICh0aGlzLl9wbGFjZWhvbGRlcnMpIHtcbiAgICAgIHJldHVybiBodG1sYFxuICAgICAgICA8aGEtdGhpbmd0YWxrLXBsYWNlaG9sZGVyc1xuICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgIC5wbGFjZWhvbGRlcnM9JHt0aGlzLl9wbGFjZWhvbGRlcnN9XG4gICAgICAgICAgLm9wZW5lZD0ke3RoaXMuX29wZW5lZH1cbiAgICAgICAgICAuc2tpcD0keygpID0+IHRoaXMuX3NraXAoKX1cbiAgICAgICAgICBAb3BlbmVkLWNoYW5nZWQ9JHt0aGlzLl9vcGVuZWRDaGFuZ2VkfVxuICAgICAgICAgIEBwbGFjZWhvbGRlcnMtZmlsbGVkPSR7dGhpcy5faGFuZGxlUGxhY2Vob2xkZXJzfVxuICAgICAgICA+XG4gICAgICAgIDwvaGEtdGhpbmd0YWxrLXBsYWNlaG9sZGVycz5cbiAgICAgIGA7XG4gICAgfVxuICAgIHJldHVybiBodG1sYFxuICAgICAgPGhhLXBhcGVyLWRpYWxvZ1xuICAgICAgICB3aXRoLWJhY2tkcm9wXG4gICAgICAgIC5vcGVuZWQ9JHt0aGlzLl9vcGVuZWR9XG4gICAgICAgIEBvcGVuZWQtY2hhbmdlZD0ke3RoaXMuX29wZW5lZENoYW5nZWR9XG4gICAgICA+XG4gICAgICAgIDxoMj5DcmVhdGUgYSBuZXcgYXV0b21hdGlvbjwvaDI+XG4gICAgICAgIDxwYXBlci1kaWFsb2ctc2Nyb2xsYWJsZT5cbiAgICAgICAgICAke3RoaXMuX2Vycm9yID8gaHRtbGAgPGRpdiBjbGFzcz1cImVycm9yXCI+JHt0aGlzLl9lcnJvcn08L2Rpdj4gYCA6IFwiXCJ9XG4gICAgICAgICAgVHlwZSBiZWxvdyB3aGF0IHRoaXMgYXV0b21hdGlvbiBzaG91bGQgZG8sIGFuZCB3ZSB3aWxsIHRyeSB0byBjb252ZXJ0XG4gICAgICAgICAgaXQgaW50byBhIEhvbWUgQXNzaXN0YW50IGF1dG9tYXRpb24uIChvbmx5IEVuZ2xpc2ggaXMgc3VwcG9ydGVkIGZvclxuICAgICAgICAgIG5vdyk8YnIgLz48YnIgLz5cbiAgICAgICAgICBGb3IgZXhhbXBsZTpcbiAgICAgICAgICA8dWwgQGNsaWNrPSR7dGhpcy5faGFuZGxlRXhhbXBsZUNsaWNrfT5cbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImxpbmtcIj5cbiAgICAgICAgICAgICAgICBUdXJuIG9mZiB0aGUgbGlnaHRzIHdoZW4gSSBsZWF2ZSBob21lXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImxpbmtcIj5cbiAgICAgICAgICAgICAgICBUdXJuIG9uIHRoZSBsaWdodHMgd2hlbiB0aGUgc3VuIGlzIHNldFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJsaW5rXCI+XG4gICAgICAgICAgICAgICAgTm90aWZ5IG1lIGlmIHRoZSBkb29yIG9wZW5zIGFuZCBJIGFtIG5vdCBhdCBob21lXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImxpbmtcIj5cbiAgICAgICAgICAgICAgICBUdXJuIHRoZSBsaWdodCBvbiB3aGVuIG1vdGlvbiBpcyBkZXRlY3RlZFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgICA8cGFwZXItaW5wdXRcbiAgICAgICAgICAgIGlkPVwiaW5wdXRcIlxuICAgICAgICAgICAgbGFiZWw9XCJXaGF0IHNob3VsZCB0aGlzIGF1dG9tYXRpb24gZG8/XCJcbiAgICAgICAgICAgIGF1dG9mb2N1c1xuICAgICAgICAgICAgQGtleXVwPSR7dGhpcy5faGFuZGxlS2V5VXB9XG4gICAgICAgICAgPjwvcGFwZXItaW5wdXQ+XG4gICAgICAgICAgPGFcbiAgICAgICAgICAgIGhyZWY9XCJodHRwczovL2FsbW9uZC5zdGFuZm9yZC5lZHUvXCJcbiAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICByZWw9XCJub3JlZmVycmVyXCJcbiAgICAgICAgICAgIGNsYXNzPVwiYXR0cmlidXRpb25cIlxuICAgICAgICAgICAgPlBvd2VyZWQgYnkgQWxtb25kPC9hXG4gICAgICAgICAgPlxuICAgICAgICA8L3BhcGVyLWRpYWxvZy1zY3JvbGxhYmxlPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicGFwZXItZGlhbG9nLWJ1dHRvbnNcIj5cbiAgICAgICAgICA8bXdjLWJ1dHRvbiBjbGFzcz1cImxlZnRcIiBAY2xpY2s9XCIke3RoaXMuX3NraXB9XCI+XG4gICAgICAgICAgICBTa2lwXG4gICAgICAgICAgPC9td2MtYnV0dG9uPlxuICAgICAgICAgIDxtd2MtYnV0dG9uIEBjbGljaz1cIiR7dGhpcy5fZ2VuZXJhdGV9XCIgLmRpc2FibGVkPSR7dGhpcy5fc3VibWl0dGluZ30+XG4gICAgICAgICAgICA8cGFwZXItc3Bpbm5lclxuICAgICAgICAgICAgICA/YWN0aXZlPVwiJHt0aGlzLl9zdWJtaXR0aW5nfVwiXG4gICAgICAgICAgICAgIGFsdD1cIkNyZWF0aW5nIHlvdXIgYXV0b21hdGlvbi4uLlwiXG4gICAgICAgICAgICA+PC9wYXBlci1zcGlubmVyPlxuICAgICAgICAgICAgQ3JlYXRlIGF1dG9tYXRpb25cbiAgICAgICAgICA8L213Yy1idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9oYS1wYXBlci1kaWFsb2c+XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX2dlbmVyYXRlKCkge1xuICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5faW5wdXQhLnZhbHVlIGFzIHN0cmluZztcbiAgICBpZiAoIXRoaXMuX3ZhbHVlKSB7XG4gICAgICB0aGlzLl9lcnJvciA9IFwiRW50ZXIgYSBjb21tYW5kIG9yIHRhcCBza2lwLlwiO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9zdWJtaXR0aW5nID0gdHJ1ZTtcbiAgICBsZXQgY29uZmlnOiBQYXJ0aWFsPEF1dG9tYXRpb25Db25maWc+O1xuICAgIGxldCBwbGFjZWhvbGRlcnM6IFBsYWNlaG9sZGVyQ29udGFpbmVyO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb252ZXJ0VGhpbmdUYWxrKHRoaXMuaGFzcywgdGhpcy5fdmFsdWUpO1xuICAgICAgY29uZmlnID0gcmVzdWx0LmNvbmZpZztcbiAgICAgIHBsYWNlaG9sZGVycyA9IHJlc3VsdC5wbGFjZWhvbGRlcnM7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLl9lcnJvciA9IGVyci5tZXNzYWdlO1xuICAgICAgdGhpcy5fc3VibWl0dGluZyA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3N1Ym1pdHRpbmcgPSBmYWxzZTtcblxuICAgIGlmICghT2JqZWN0LmtleXMoY29uZmlnKS5sZW5ndGgpIHtcbiAgICAgIHRoaXMuX2Vycm9yID0gXCJXZSBjb3VsZG4ndCBjcmVhdGUgYW4gYXV0b21hdGlvbiBmb3IgdGhhdCAoeWV0PykuXCI7XG4gICAgfSBlbHNlIGlmIChPYmplY3Qua2V5cyhwbGFjZWhvbGRlcnMpLmxlbmd0aCkge1xuICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgICAgdGhpcy5fcGxhY2Vob2xkZXJzID0gcGxhY2Vob2xkZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zZW5kQ29uZmlnKHRoaXMuX3ZhbHVlLCBjb25maWcpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX2hhbmRsZVBsYWNlaG9sZGVycyhldjogQ3VzdG9tRXZlbnQpIHtcbiAgICBjb25zdCBwbGFjZWhvbGRlclZhbHVlcyA9IGV2LmRldGFpbC52YWx1ZSBhcyBQbGFjZWhvbGRlclZhbHVlcztcbiAgICBPYmplY3QuZW50cmllcyhwbGFjZWhvbGRlclZhbHVlcykuZm9yRWFjaCgoW3R5cGUsIHZhbHVlc10pID0+IHtcbiAgICAgIE9iamVjdC5lbnRyaWVzKHZhbHVlcykuZm9yRWFjaCgoW2luZGV4LCBwbGFjZWhvbGRlcl0pID0+IHtcbiAgICAgICAgY29uc3QgZGV2aWNlcyA9IE9iamVjdC52YWx1ZXMocGxhY2Vob2xkZXIpO1xuICAgICAgICBpZiAoZGV2aWNlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBPYmplY3QuZW50cmllcyhkZXZpY2VzWzBdKS5mb3JFYWNoKChbZmllbGQsIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fY29uZmlnW3R5cGVdW2luZGV4XVtmaWVsZF0gPSB2YWx1ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXV0b21hdGlvbiA9IHsgLi4udGhpcy5fY29uZmlnW3R5cGVdW2luZGV4XSB9O1xuICAgICAgICBjb25zdCBuZXdBdXRvbWF0aW9uczogYW55W10gPSBbXTtcbiAgICAgICAgZGV2aWNlcy5mb3JFYWNoKChmaWVsZHMpID0+IHtcbiAgICAgICAgICBjb25zdCBuZXdBdXRvbWF0aW9uID0geyAuLi5hdXRvbWF0aW9uIH07XG4gICAgICAgICAgT2JqZWN0LmVudHJpZXMoZmllbGRzKS5mb3JFYWNoKChbZmllbGQsIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgbmV3QXV0b21hdGlvbltmaWVsZF0gPSB2YWx1ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBuZXdBdXRvbWF0aW9ucy5wdXNoKG5ld0F1dG9tYXRpb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fY29uZmlnW3R5cGVdLnNwbGljZShpbmRleCwgMSwgLi4ubmV3QXV0b21hdGlvbnMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5fc2VuZENvbmZpZyh0aGlzLl92YWx1ZSwgdGhpcy5fY29uZmlnKTtcbiAgfVxuXG4gIHByaXZhdGUgX3NlbmRDb25maWcoaW5wdXQsIGNvbmZpZykge1xuICAgIHRoaXMuX3BhcmFtcyEuY2FsbGJhY2soeyBhbGlhczogaW5wdXQsIC4uLmNvbmZpZyB9KTtcbiAgICB0aGlzLl9jbG9zZURpYWxvZygpO1xuICB9XG5cbiAgcHJpdmF0ZSBfc2tpcCgpIHtcbiAgICB0aGlzLl9wYXJhbXMhLmNhbGxiYWNrKHVuZGVmaW5lZCk7XG4gICAgdGhpcy5fY2xvc2VEaWFsb2coKTtcbiAgfVxuXG4gIHByaXZhdGUgX2Nsb3NlRGlhbG9nKCkge1xuICAgIHRoaXMuX3BsYWNlaG9sZGVycyA9IHVuZGVmaW5lZDtcbiAgICBpZiAodGhpcy5faW5wdXQpIHtcbiAgICAgIHRoaXMuX2lucHV0LnZhbHVlID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5fb3BlbmVkID0gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIF9vcGVuZWRDaGFuZ2VkKGV2OiBQb2x5bWVyQ2hhbmdlZEV2ZW50PGJvb2xlYW4+KTogdm9pZCB7XG4gICAgaWYgKCFldi5kZXRhaWwudmFsdWUpIHtcbiAgICAgIHRoaXMuX2Nsb3NlRGlhbG9nKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfaGFuZGxlS2V5VXAoZXY6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBpZiAoZXYua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgIHRoaXMuX2dlbmVyYXRlKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfaGFuZGxlRXhhbXBsZUNsaWNrKGV2OiBFdmVudCkge1xuICAgIHRoaXMuX2lucHV0IS52YWx1ZSA9IChldi50YXJnZXQgYXMgSFRNTEFuY2hvckVsZW1lbnQpLmlubmVyVGV4dDtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCk6IENTU1Jlc3VsdFtdIHtcbiAgICByZXR1cm4gW1xuICAgICAgaGFTdHlsZSxcbiAgICAgIGhhU3R5bGVEaWFsb2csXG4gICAgICBjc3NgXG4gICAgICAgIGhhLXBhcGVyLWRpYWxvZyB7XG4gICAgICAgICAgbWF4LXdpZHRoOiA1MDBweDtcbiAgICAgICAgfVxuICAgICAgICBtd2MtYnV0dG9uLmxlZnQge1xuICAgICAgICAgIG1hcmdpbi1yaWdodDogYXV0bztcbiAgICAgICAgfVxuICAgICAgICBtd2MtYnV0dG9uIHBhcGVyLXNwaW5uZXIge1xuICAgICAgICAgIHdpZHRoOiAxNHB4O1xuICAgICAgICAgIGhlaWdodDogMTRweDtcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7XG4gICAgICAgIH1cbiAgICAgICAgcGFwZXItc3Bpbm5lciB7XG4gICAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgfVxuICAgICAgICBwYXBlci1zcGlubmVyW2FjdGl2ZV0ge1xuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICB9XG4gICAgICAgIC5lcnJvciB7XG4gICAgICAgICAgY29sb3I6IHZhcigtLWdvb2dsZS1yZWQtNTAwKTtcbiAgICAgICAgfVxuICAgICAgICAuYXR0cmlidXRpb24ge1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1zZWNvbmRhcnktdGV4dC1jb2xvcik7XG4gICAgICAgIH1cbiAgICAgIGAsXG4gICAgXTtcbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiaGEtZGlhbG9nLXRoaW5rdGFsa1wiOiBEaWFsb2dUaGluZ3RhbGs7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVVBO0FBRUE7QUFFQTtBQUdBO0FBQ0E7QUFlQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUFDQTs7QUFEQTs7O0FBQ0E7Ozs7O0FBRUE7Ozs7O0FBRUE7Ozs7O0FBRUE7Ozs7QUFBQTs7Ozs7QUFFQTs7OztBQUFBOzs7OztBQUVBOzs7OztBQUVBOzs7Ozs7Ozs7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQVBBO0FBV0E7QUFDQTtBQUFBOzs7QUFHQTtBQUNBOzs7O0FBSUE7Ozs7O0FBS0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBMEJBOzs7Ozs7Ozs7OztBQVdBOzs7QUFHQTs7QUFFQTs7Ozs7OztBQXZEQTtBQStEQTs7OztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7Ozs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTs7OztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUVBO0FBQ0E7QUFDQTs7Ozs7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQTZCQTs7O0FBcE9BIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/panels/config/automation/thingtalk/dialog-thingtalk.ts\n");

/***/ }),

/***/ "./src/panels/config/automation/thingtalk/ha-thingtalk-placeholders.ts":
/*!*****************************************************************************!*\
  !*** ./src/panels/config/automation/thingtalk/ha-thingtalk-placeholders.ts ***!
  \*****************************************************************************/
/*! exports provided: ThingTalkPlaceholders */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ThingTalkPlaceholders\", function() { return ThingTalkPlaceholders; });\n/* harmony import */ var lit_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-element */ \"./node_modules/lit-element/lit-element.js\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../common/entity/compute_domain */ \"./src/common/entity/compute_domain.ts\");\n/* harmony import */ var _common_util_patch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../common/util/patch */ \"./src/common/util/patch.ts\");\n/* harmony import */ var _components_device_ha_area_devices_picker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../components/device/ha-area-devices-picker */ \"./src/components/device/ha-area-devices-picker.ts\");\n/* harmony import */ var _data_area_registry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../data/area_registry */ \"./src/data/area_registry.ts\");\n/* harmony import */ var _data_device_registry__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../data/device_registry */ \"./src/data/device_registry.ts\");\n/* harmony import */ var _data_entity_registry__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../data/entity_registry */ \"./src/data/entity_registry.ts\");\n/* harmony import */ var _data_integration__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../data/integration */ \"./src/data/integration.ts\");\n/* harmony import */ var _mixins_subscribe_mixin__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../mixins/subscribe-mixin */ \"./src/mixins/subscribe-mixin.ts\");\n/* harmony import */ var _resources_styles__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../resources/styles */ \"./src/resources/styles.ts\");\n/* harmony import */ var _components_entity_ha_entity_picker__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../components/entity/ha-entity-picker */ \"./src/components/entity/ha-entity-picker.ts\");\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function () { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function (O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function (F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function (receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function (elements, decorators) { var newElements = []; var finishers = []; var placements = { static: [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function (element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function (element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function (elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function (element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function (elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function (elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function (elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function (elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function (obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function (constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function (obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def.static ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function (other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet ThingTalkPlaceholders = _decorate([Object(lit_element__WEBPACK_IMPORTED_MODULE_0__[\"customElement\"])(\"ha-thingtalk-placeholders\")], function (_initialize, _SubscribeMixin) {\n  class ThingTalkPlaceholders extends _SubscribeMixin {\n    constructor(...args) {\n      super(...args);\n\n      _initialize(this);\n    }\n\n  }\n\n  return {\n    F: ThingTalkPlaceholders,\n    d: [{\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_0__[\"property\"])()],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_0__[\"property\"])()],\n      key: \"opened\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"skip\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_0__[\"property\"])()],\n      key: \"placeholders\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_0__[\"property\"])()],\n      key: \"_error\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_deviceEntityLookup\",\n\n      value() {\n        return {};\n      }\n\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_0__[\"property\"])()],\n      key: \"_extraInfo\",\n\n      value() {\n        return {};\n      }\n\n    }, {\n      kind: \"field\",\n      decorators: [Object(lit_element__WEBPACK_IMPORTED_MODULE_0__[\"property\"])()],\n      key: \"_placeholderValues\",\n\n      value() {\n        return {};\n      }\n\n    }, {\n      kind: \"field\",\n      key: \"_devices\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_areas\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_search\",\n\n      value() {\n        return false;\n      }\n\n    }, {\n      kind: \"method\",\n      key: \"hassSubscribe\",\n      value: function hassSubscribe() {\n        return [Object(_data_entity_registry__WEBPACK_IMPORTED_MODULE_7__[\"subscribeEntityRegistry\"])(this.hass.connection, entries => {\n          for (const entity of entries) {\n            if (!entity.device_id) {\n              continue;\n            }\n\n            if (!(entity.device_id in this._deviceEntityLookup)) {\n              this._deviceEntityLookup[entity.device_id] = [];\n            }\n\n            if (!this._deviceEntityLookup[entity.device_id].includes(entity.entity_id)) {\n              this._deviceEntityLookup[entity.device_id].push(entity.entity_id);\n            }\n          }\n        }), Object(_data_device_registry__WEBPACK_IMPORTED_MODULE_6__[\"subscribeDeviceRegistry\"])(this.hass.connection, devices => {\n          this._devices = devices;\n\n          this._searchNames();\n        }), Object(_data_area_registry__WEBPACK_IMPORTED_MODULE_5__[\"subscribeAreaRegistry\"])(this.hass.connection, areas => {\n          this._areas = areas;\n\n          this._searchNames();\n        })];\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProps) {\n        if (changedProps.has(\"placeholders\")) {\n          this._search = true;\n\n          this._searchNames();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return lit_element__WEBPACK_IMPORTED_MODULE_0__[\"html\"]`\n      <ha-paper-dialog\n        modal\n        with-backdrop\n        .opened=${this.opened}\n        @opened-changed=\"${this._openedChanged}\"\n      >\n        <h2>Great! Now we need to link some devices.</h2>\n        <paper-dialog-scrollable>\n          ${this._error ? lit_element__WEBPACK_IMPORTED_MODULE_0__[\"html\"]` <div class=\"error\">${this._error}</div> ` : \"\"}\n          ${Object.entries(this.placeholders).map(([type, placeholders]) => lit_element__WEBPACK_IMPORTED_MODULE_0__[\"html\"]`\n                <h3>\n                  ${this.hass.localize(`ui.panel.config.automation.editor.${type}s.name`)}:\n                </h3>\n                ${placeholders.map(placeholder => {\n          if (placeholder.fields.includes(\"device_id\")) {\n            const extraInfo = Object(_common_util_patch__WEBPACK_IMPORTED_MODULE_3__[\"getPath\"])(this._extraInfo, [type, placeholder.index]);\n            return lit_element__WEBPACK_IMPORTED_MODULE_0__[\"html\"]`\n                      <ha-area-devices-picker\n                        .type=${type}\n                        .placeholder=${placeholder}\n                        @value-changed=${this._devicePicked}\n                        .hass=${this.hass}\n                        .area=${extraInfo ? extraInfo.area_id : undefined}\n                        .devices=${extraInfo && extraInfo.device_ids ? extraInfo.device_ids : undefined}\n                        .includeDomains=${placeholder.domains}\n                        .includeDeviceClasses=${placeholder.device_classes}\n                        .label=${this._getLabel(placeholder.domains, placeholder.device_classes)}\n                      ></ha-area-devices-picker>\n                      ${extraInfo && extraInfo.manualEntity ? lit_element__WEBPACK_IMPORTED_MODULE_0__[\"html\"]`\n                            <h3>\n                              One or more devices have more than one matching\n                              entity, please pick the one you want to use.\n                            </h3>\n                            ${Object.keys(extraInfo.manualEntity).map(idx => lit_element__WEBPACK_IMPORTED_MODULE_0__[\"html\"]`\n                                <ha-entity-picker\n                                  id=\"device-entity-picker\"\n                                  .type=${type}\n                                  .placeholder=${placeholder}\n                                  .index=${idx}\n                                  @change=${this._entityPicked}\n                                  .includeDomains=${placeholder.domains}\n                                  .includeDeviceClasses=${placeholder.device_classes}\n                                  .hass=${this.hass}\n                                  .label=${`${this._getLabel(placeholder.domains, placeholder.device_classes)} of device ${this._getDeviceName(Object(_common_util_patch__WEBPACK_IMPORTED_MODULE_3__[\"getPath\"])(this._placeholderValues, [type, placeholder.index, idx, \"device_id\"]))}`}\n                                  .entityFilter=${state => {\n              const devId = this._placeholderValues[type][placeholder.index][idx].device_id;\n              return this._deviceEntityLookup[devId].includes(state.entity_id);\n            }}\n                                ></ha-entity-picker>\n                              `)}\n                          ` : \"\"}\n                    `;\n          }\n\n          if (placeholder.fields.includes(\"entity_id\")) {\n            return lit_element__WEBPACK_IMPORTED_MODULE_0__[\"html\"]`\n                      <ha-entity-picker\n                        .type=${type}\n                        .placeholder=${placeholder}\n                        @change=${this._entityPicked}\n                        .includeDomains=${placeholder.domains}\n                        .includeDeviceClasses=${placeholder.device_classes}\n                        .hass=${this.hass}\n                        .label=${this._getLabel(placeholder.domains, placeholder.device_classes)}\n                      ></ha-entity-picker>\n                    `;\n          }\n\n          return lit_element__WEBPACK_IMPORTED_MODULE_0__[\"html\"]`\n                    <div class=\"error\">\n                      Unknown placeholder<br />\n                      ${placeholder.domains}<br />\n                      ${placeholder.fields.map(field => lit_element__WEBPACK_IMPORTED_MODULE_0__[\"html\"]` ${field}<br /> `)}\n                    </div>\n                  `;\n        })}\n              `)}\n        </paper-dialog-scrollable>\n        <div class=\"paper-dialog-buttons\">\n          <mwc-button class=\"left\" @click=\"${this.skip}\">\n            Skip\n          </mwc-button>\n          <mwc-button @click=\"${this._done}\" .disabled=${!this._isDone}>\n            Create automation\n          </mwc-button>\n        </div>\n      </ha-paper-dialog>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_getDeviceName\",\n      value: function _getDeviceName(deviceId) {\n        if (!this._devices) {\n          return \"\";\n        }\n\n        const foundDevice = this._devices.find(device => device.id === deviceId);\n\n        if (!foundDevice) {\n          return \"\";\n        }\n\n        return foundDevice.name_by_user || foundDevice.name || \"\";\n      }\n    }, {\n      kind: \"method\",\n      key: \"_searchNames\",\n      value: function _searchNames() {\n        if (!this._search || !this._areas || !this._devices) {\n          return;\n        }\n\n        this._search = false;\n        Object.entries(this.placeholders).forEach(([type, placeholders]) => placeholders.forEach(placeholder => {\n          if (!placeholder.name) {\n            return;\n          }\n\n          const name = placeholder.name;\n\n          const foundArea = this._areas.find(area => area.name.toLowerCase().includes(name));\n\n          if (foundArea) {\n            Object(_common_util_patch__WEBPACK_IMPORTED_MODULE_3__[\"applyPatch\"])(this._extraInfo, [type, placeholder.index, \"area_id\"], foundArea.area_id);\n            this.requestUpdate(\"_extraInfo\");\n            return;\n          }\n\n          const foundDevices = this._devices.filter(device => {\n            const deviceName = device.name_by_user || device.name;\n\n            if (!deviceName) {\n              return false;\n            }\n\n            return deviceName.toLowerCase().includes(name);\n          });\n\n          if (foundDevices.length) {\n            Object(_common_util_patch__WEBPACK_IMPORTED_MODULE_3__[\"applyPatch\"])(this._extraInfo, [type, placeholder.index, \"device_ids\"], foundDevices.map(device => device.id));\n            this.requestUpdate(\"_extraInfo\");\n          }\n        }));\n      }\n    }, {\n      kind: \"get\",\n      key: \"_isDone\",\n      value: function _isDone() {\n        return Object.entries(this.placeholders).every(([type, placeholders]) => placeholders.every(placeholder => placeholder.fields.every(field => {\n          const entries = Object(_common_util_patch__WEBPACK_IMPORTED_MODULE_3__[\"getPath\"])(this._placeholderValues, [type, placeholder.index]);\n\n          if (!entries) {\n            return false;\n          }\n\n          const values = Object.values(entries);\n          return values.every(entry => entry[field] !== undefined && entry[field] !== \"\");\n        })));\n      }\n    }, {\n      kind: \"method\",\n      key: \"_getLabel\",\n      value: function _getLabel(domains, deviceClasses) {\n        return `${domains.map(domain => Object(_data_integration__WEBPACK_IMPORTED_MODULE_8__[\"domainToName\"])(this.hass.localize, domain)).join(\", \")}${deviceClasses ? ` of type ${deviceClasses.join(\", \")}` : \"\"}`;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_devicePicked\",\n      value: function _devicePicked(ev) {\n        const value = ev.detail.value;\n\n        if (!value) {\n          return;\n        }\n\n        const target = ev.target;\n        const placeholder = target.placeholder;\n        const type = target.type;\n        let oldValues = Object(_common_util_patch__WEBPACK_IMPORTED_MODULE_3__[\"getPath\"])(this._placeholderValues, [type, placeholder.index]);\n\n        if (oldValues) {\n          oldValues = Object.values(oldValues);\n        }\n\n        const oldExtraInfo = Object(_common_util_patch__WEBPACK_IMPORTED_MODULE_3__[\"getPath\"])(this._extraInfo, [type, placeholder.index]);\n\n        if (this._placeholderValues[type]) {\n          delete this._placeholderValues[type][placeholder.index];\n        }\n\n        if (this._extraInfo[type]) {\n          delete this._extraInfo[type][placeholder.index];\n        }\n\n        if (!value.length) {\n          this.requestUpdate(\"_placeholderValues\");\n          return;\n        }\n\n        value.forEach((deviceId, index) => {\n          let oldIndex;\n\n          if (oldValues) {\n            const oldDevice = oldValues.find((oldVal, idx) => {\n              oldIndex = idx;\n              return oldVal.device_id === deviceId;\n            });\n\n            if (oldDevice) {\n              Object(_common_util_patch__WEBPACK_IMPORTED_MODULE_3__[\"applyPatch\"])(this._placeholderValues, [type, placeholder.index, index], oldDevice);\n\n              if (oldExtraInfo) {\n                Object(_common_util_patch__WEBPACK_IMPORTED_MODULE_3__[\"applyPatch\"])(this._extraInfo, [type, placeholder.index, index], oldExtraInfo[oldIndex]);\n              }\n\n              return;\n            }\n          }\n\n          Object(_common_util_patch__WEBPACK_IMPORTED_MODULE_3__[\"applyPatch\"])(this._placeholderValues, [type, placeholder.index, index, \"device_id\"], deviceId);\n\n          if (!placeholder.fields.includes(\"entity_id\")) {\n            return;\n          }\n\n          const devEntities = this._deviceEntityLookup[deviceId];\n          const entities = devEntities.filter(eid => {\n            if (placeholder.device_classes) {\n              const stateObj = this.hass.states[eid];\n\n              if (!stateObj) {\n                return false;\n              }\n\n              return placeholder.domains.includes(Object(_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_2__[\"computeDomain\"])(eid)) && stateObj.attributes.device_class && placeholder.device_classes.includes(stateObj.attributes.device_class);\n            }\n\n            return placeholder.domains.includes(Object(_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_2__[\"computeDomain\"])(eid));\n          });\n\n          if (entities.length === 0) {\n            // Should not happen because we filter the device picker on domain\n            this._error = `No ${placeholder.domains.map(domain => Object(_data_integration__WEBPACK_IMPORTED_MODULE_8__[\"domainToName\"])(this.hass.localize, domain)).join(\", \")} entities found in this device.`;\n          } else if (entities.length === 1) {\n            Object(_common_util_patch__WEBPACK_IMPORTED_MODULE_3__[\"applyPatch\"])(this._placeholderValues, [type, placeholder.index, index, \"entity_id\"], entities[0]);\n            this.requestUpdate(\"_placeholderValues\");\n          } else {\n            delete this._placeholderValues[type][placeholder.index][index].entity_id;\n            Object(_common_util_patch__WEBPACK_IMPORTED_MODULE_3__[\"applyPatch\"])(this._extraInfo, [type, placeholder.index, \"manualEntity\", index], true);\n            this.requestUpdate(\"_placeholderValues\");\n          }\n        });\n        Object(_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_1__[\"fireEvent\"])(this.shadowRoot.querySelector(\"ha-paper-dialog\"), \"iron-resize\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"_entityPicked\",\n      value: function _entityPicked(ev) {\n        const target = ev.target;\n        const placeholder = target.placeholder;\n        const value = target.value;\n        const type = target.type;\n        const index = target.index || 0;\n        Object(_common_util_patch__WEBPACK_IMPORTED_MODULE_3__[\"applyPatch\"])(this._placeholderValues, [type, placeholder.index, index, \"entity_id\"], value);\n        this.requestUpdate(\"_placeholderValues\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"_done\",\n      value: function _done() {\n        Object(_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_1__[\"fireEvent\"])(this, \"placeholders-filled\", {\n          value: this._placeholderValues\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_openedChanged\",\n      value: function _openedChanged(ev) {\n        // The opened-changed event doesn't leave the shadowdom so we re-dispatch it\n        this.dispatchEvent(new CustomEvent(ev.type, ev));\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [_resources_styles__WEBPACK_IMPORTED_MODULE_10__[\"haStyleDialog\"], lit_element__WEBPACK_IMPORTED_MODULE_0__[\"css\"]`\n        ha-paper-dialog {\n          max-width: 500px;\n        }\n        mwc-button.left {\n          margin-right: auto;\n        }\n        paper-dialog-scrollable {\n          margin-top: 10px;\n        }\n        h3 {\n          margin: 10px 0 0 0;\n          font-weight: 500;\n        }\n        .error {\n          color: var(--google-red-500);\n        }\n      `];\n      }\n    }]\n  };\n}, Object(_mixins_subscribe_mixin__WEBPACK_IMPORTED_MODULE_9__[\"SubscribeMixin\"])(lit_element__WEBPACK_IMPORTED_MODULE_0__[\"LitElement\"]));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2NvbmZpZy9hdXRvbWF0aW9uL3RoaW5ndGFsay9oYS10aGluZ3RhbGstcGxhY2Vob2xkZXJzLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BhbmVscy9jb25maWcvYXV0b21hdGlvbi90aGluZ3RhbGsvaGEtdGhpbmd0YWxrLXBsYWNlaG9sZGVycy50cz84NjY1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEhhc3NFbnRpdHkgfSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQge1xuICBjc3MsXG4gIENTU1Jlc3VsdCxcbiAgY3VzdG9tRWxlbWVudCxcbiAgaHRtbCxcbiAgTGl0RWxlbWVudCxcbiAgcHJvcGVydHksXG4gIFByb3BlcnR5VmFsdWVzLFxuICBUZW1wbGF0ZVJlc3VsdCxcbn0gZnJvbSBcImxpdC1lbGVtZW50XCI7XG5pbXBvcnQgeyBmaXJlRXZlbnQgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29tbW9uL2RvbS9maXJlX2V2ZW50XCI7XG5pbXBvcnQgeyBjb21wdXRlRG9tYWluIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvbW1vbi9lbnRpdHkvY29tcHV0ZV9kb21haW5cIjtcbmltcG9ydCB7IGFwcGx5UGF0Y2gsIGdldFBhdGggfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29tbW9uL3V0aWwvcGF0Y2hcIjtcbmltcG9ydCBcIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvZGV2aWNlL2hhLWFyZWEtZGV2aWNlcy1waWNrZXJcIjtcbmltcG9ydCB7XG4gIEFyZWFSZWdpc3RyeUVudHJ5LFxuICBzdWJzY3JpYmVBcmVhUmVnaXN0cnksXG59IGZyb20gXCIuLi8uLi8uLi8uLi9kYXRhL2FyZWFfcmVnaXN0cnlcIjtcbmltcG9ydCB7XG4gIERldmljZVJlZ2lzdHJ5RW50cnksXG4gIHN1YnNjcmliZURldmljZVJlZ2lzdHJ5LFxufSBmcm9tIFwiLi4vLi4vLi4vLi4vZGF0YS9kZXZpY2VfcmVnaXN0cnlcIjtcbmltcG9ydCB7IHN1YnNjcmliZUVudGl0eVJlZ2lzdHJ5IH0gZnJvbSBcIi4uLy4uLy4uLy4uL2RhdGEvZW50aXR5X3JlZ2lzdHJ5XCI7XG5pbXBvcnQgeyBkb21haW5Ub05hbWUgfSBmcm9tIFwiLi4vLi4vLi4vLi4vZGF0YS9pbnRlZ3JhdGlvblwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlTWl4aW4gfSBmcm9tIFwiLi4vLi4vLi4vLi4vbWl4aW5zL3N1YnNjcmliZS1taXhpblwiO1xuaW1wb3J0IHsgUG9seW1lckNoYW5nZWRFdmVudCB9IGZyb20gXCIuLi8uLi8uLi8uLi9wb2x5bWVyLXR5cGVzXCI7XG5pbXBvcnQgeyBoYVN0eWxlRGlhbG9nIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3Jlc291cmNlcy9zdHlsZXNcIjtcbmltcG9ydCB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vLi4vLi4vLi4vdHlwZXNcIjtcbmltcG9ydCBcIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvZW50aXR5L2hhLWVudGl0eS1waWNrZXJcIjtcbmltcG9ydCB7IFBsYWNlaG9sZGVyLCBQbGFjZWhvbGRlckNvbnRhaW5lciB9IGZyb20gXCIuL2RpYWxvZy10aGluZ3RhbGtcIjtcblxuZGVjbGFyZSBnbG9iYWwge1xuICAvLyBmb3IgZmlyZSBldmVudFxuICBpbnRlcmZhY2UgSEFTU0RvbUV2ZW50cyB7XG4gICAgXCJwbGFjZWhvbGRlcnMtZmlsbGVkXCI6IHsgdmFsdWU6IFBsYWNlaG9sZGVyVmFsdWVzIH07XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBQbGFjZWhvbGRlclZhbHVlcyB7XG4gIFtrZXk6IHN0cmluZ106IHtcbiAgICBbaW5kZXg6IG51bWJlcl06IHtcbiAgICAgIFtpbmRleDogbnVtYmVyXTogeyBkZXZpY2VfaWQ/OiBzdHJpbmc7IGVudGl0eV9pZD86IHN0cmluZyB9O1xuICAgIH07XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXh0cmFJbmZvIHtcbiAgW2tleTogc3RyaW5nXToge1xuICAgIFtpbmRleDogbnVtYmVyXToge1xuICAgICAgW2luZGV4OiBudW1iZXJdOiB7XG4gICAgICAgIGFyZWFfaWQ/OiBzdHJpbmc7XG4gICAgICAgIGRldmljZV9pZHM/OiBzdHJpbmdbXTtcbiAgICAgICAgbWFudWFsRW50aXR5OiBib29sZWFuO1xuICAgICAgfTtcbiAgICB9O1xuICB9O1xufVxuXG5pbnRlcmZhY2UgRGV2aWNlRW50aXRpZXNMb29rdXAge1xuICBbZGV2aWNlSWQ6IHN0cmluZ106IHN0cmluZ1tdO1xufVxuXG5AY3VzdG9tRWxlbWVudChcImhhLXRoaW5ndGFsay1wbGFjZWhvbGRlcnNcIilcbmV4cG9ydCBjbGFzcyBUaGluZ1RhbGtQbGFjZWhvbGRlcnMgZXh0ZW5kcyBTdWJzY3JpYmVNaXhpbihMaXRFbGVtZW50KSB7XG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBoYXNzITogSG9tZUFzc2lzdGFudDtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgb3BlbmVkITogYm9vbGVhbjtcblxuICBwdWJsaWMgc2tpcCE6ICgpID0+IHZvaWQ7XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIHBsYWNlaG9sZGVycyE6IFBsYWNlaG9sZGVyQ29udGFpbmVyO1xuXG4gIEBwcm9wZXJ0eSgpIHByaXZhdGUgX2Vycm9yPzogc3RyaW5nO1xuXG4gIHByaXZhdGUgX2RldmljZUVudGl0eUxvb2t1cDogRGV2aWNlRW50aXRpZXNMb29rdXAgPSB7fTtcblxuICBAcHJvcGVydHkoKSBwcml2YXRlIF9leHRyYUluZm86IEV4dHJhSW5mbyA9IHt9O1xuXG4gIEBwcm9wZXJ0eSgpIHByaXZhdGUgX3BsYWNlaG9sZGVyVmFsdWVzOiBQbGFjZWhvbGRlclZhbHVlcyA9IHt9O1xuXG4gIHByaXZhdGUgX2RldmljZXM/OiBEZXZpY2VSZWdpc3RyeUVudHJ5W107XG5cbiAgcHJpdmF0ZSBfYXJlYXM/OiBBcmVhUmVnaXN0cnlFbnRyeVtdO1xuXG4gIHByaXZhdGUgX3NlYXJjaCA9IGZhbHNlO1xuXG4gIHB1YmxpYyBoYXNzU3Vic2NyaWJlKCkge1xuICAgIHJldHVybiBbXG4gICAgICBzdWJzY3JpYmVFbnRpdHlSZWdpc3RyeSh0aGlzLmhhc3MuY29ubmVjdGlvbiwgKGVudHJpZXMpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBlbnRpdHkgb2YgZW50cmllcykge1xuICAgICAgICAgIGlmICghZW50aXR5LmRldmljZV9pZCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghKGVudGl0eS5kZXZpY2VfaWQgaW4gdGhpcy5fZGV2aWNlRW50aXR5TG9va3VwKSkge1xuICAgICAgICAgICAgdGhpcy5fZGV2aWNlRW50aXR5TG9va3VwW2VudGl0eS5kZXZpY2VfaWRdID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICF0aGlzLl9kZXZpY2VFbnRpdHlMb29rdXBbZW50aXR5LmRldmljZV9pZF0uaW5jbHVkZXMoXG4gICAgICAgICAgICAgIGVudGl0eS5lbnRpdHlfaWRcbiAgICAgICAgICAgIClcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMuX2RldmljZUVudGl0eUxvb2t1cFtlbnRpdHkuZGV2aWNlX2lkXS5wdXNoKGVudGl0eS5lbnRpdHlfaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBzdWJzY3JpYmVEZXZpY2VSZWdpc3RyeSh0aGlzLmhhc3MuY29ubmVjdGlvbiEsIChkZXZpY2VzKSA9PiB7XG4gICAgICAgIHRoaXMuX2RldmljZXMgPSBkZXZpY2VzO1xuICAgICAgICB0aGlzLl9zZWFyY2hOYW1lcygpO1xuICAgICAgfSksXG4gICAgICBzdWJzY3JpYmVBcmVhUmVnaXN0cnkodGhpcy5oYXNzLmNvbm5lY3Rpb24hLCAoYXJlYXMpID0+IHtcbiAgICAgICAgdGhpcy5fYXJlYXMgPSBhcmVhcztcbiAgICAgICAgdGhpcy5fc2VhcmNoTmFtZXMoKTtcbiAgICAgIH0pLFxuICAgIF07XG4gIH1cblxuICBwcm90ZWN0ZWQgdXBkYXRlZChjaGFuZ2VkUHJvcHM6IFByb3BlcnR5VmFsdWVzKSB7XG4gICAgaWYgKGNoYW5nZWRQcm9wcy5oYXMoXCJwbGFjZWhvbGRlcnNcIikpIHtcbiAgICAgIHRoaXMuX3NlYXJjaCA9IHRydWU7XG4gICAgICB0aGlzLl9zZWFyY2hOYW1lcygpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPGhhLXBhcGVyLWRpYWxvZ1xuICAgICAgICBtb2RhbFxuICAgICAgICB3aXRoLWJhY2tkcm9wXG4gICAgICAgIC5vcGVuZWQ9JHt0aGlzLm9wZW5lZH1cbiAgICAgICAgQG9wZW5lZC1jaGFuZ2VkPVwiJHt0aGlzLl9vcGVuZWRDaGFuZ2VkfVwiXG4gICAgICA+XG4gICAgICAgIDxoMj5HcmVhdCEgTm93IHdlIG5lZWQgdG8gbGluayBzb21lIGRldmljZXMuPC9oMj5cbiAgICAgICAgPHBhcGVyLWRpYWxvZy1zY3JvbGxhYmxlPlxuICAgICAgICAgICR7dGhpcy5fZXJyb3IgPyBodG1sYCA8ZGl2IGNsYXNzPVwiZXJyb3JcIj4ke3RoaXMuX2Vycm9yfTwvZGl2PiBgIDogXCJcIn1cbiAgICAgICAgICAke09iamVjdC5lbnRyaWVzKHRoaXMucGxhY2Vob2xkZXJzKS5tYXAoXG4gICAgICAgICAgICAoW3R5cGUsIHBsYWNlaG9sZGVyc10pID0+XG4gICAgICAgICAgICAgIGh0bWxgXG4gICAgICAgICAgICAgICAgPGgzPlxuICAgICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgIGB1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuJHt0eXBlfXMubmFtZWBcbiAgICAgICAgICAgICAgICAgICl9OlxuICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgICAgJHtwbGFjZWhvbGRlcnMubWFwKChwbGFjZWhvbGRlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKHBsYWNlaG9sZGVyLmZpZWxkcy5pbmNsdWRlcyhcImRldmljZV9pZFwiKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBleHRyYUluZm8gPSBnZXRQYXRoKHRoaXMuX2V4dHJhSW5mbywgW1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXIuaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgICA8aGEtYXJlYS1kZXZpY2VzLXBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgLnR5cGU9JHt0eXBlfVxuICAgICAgICAgICAgICAgICAgICAgICAgLnBsYWNlaG9sZGVyPSR7cGxhY2Vob2xkZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICBAdmFsdWUtY2hhbmdlZD0ke3RoaXMuX2RldmljZVBpY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFyZWE9JHtleHRyYUluZm8gPyBleHRyYUluZm8uYXJlYV9pZCA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC5kZXZpY2VzPSR7ZXh0cmFJbmZvICYmIGV4dHJhSW5mby5kZXZpY2VfaWRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gZXh0cmFJbmZvLmRldmljZV9pZHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAuaW5jbHVkZURvbWFpbnM9JHtwbGFjZWhvbGRlci5kb21haW5zfVxuICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVEZXZpY2VDbGFzc2VzPSR7cGxhY2Vob2xkZXIuZGV2aWNlX2NsYXNzZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAubGFiZWw9JHt0aGlzLl9nZXRMYWJlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXIuZG9tYWlucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXIuZGV2aWNlX2NsYXNzZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPjwvaGEtYXJlYS1kZXZpY2VzLXBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgICAke2V4dHJhSW5mbyAmJiBleHRyYUluZm8ubWFudWFsRW50aXR5XG4gICAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT25lIG9yIG1vcmUgZGV2aWNlcyBoYXZlIG1vcmUgdGhhbiBvbmUgbWF0Y2hpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eSwgcGxlYXNlIHBpY2sgdGhlIG9uZSB5b3Ugd2FudCB0byB1c2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke09iamVjdC5rZXlzKGV4dHJhSW5mby5tYW51YWxFbnRpdHkpLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChpZHgpID0+IGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoYS1lbnRpdHktcGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJkZXZpY2UtZW50aXR5LXBpY2tlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnR5cGU9JHt0eXBlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5wbGFjZWhvbGRlcj0ke3BsYWNlaG9sZGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleD0ke2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2hhbmdlPSR7dGhpcy5fZW50aXR5UGlja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmNsdWRlRG9tYWlucz0ke3BsYWNlaG9sZGVyLmRvbWFpbnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVEZXZpY2VDbGFzc2VzPSR7cGxhY2Vob2xkZXIuZGV2aWNlX2NsYXNzZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmhhc3M9JHt0aGlzLmhhc3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmxhYmVsPSR7YCR7dGhpcy5fZ2V0TGFiZWwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlci5kb21haW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXIuZGV2aWNlX2NsYXNzZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfSBvZiBkZXZpY2UgJHt0aGlzLl9nZXREZXZpY2VOYW1lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0UGF0aCh0aGlzLl9wbGFjZWhvbGRlclZhbHVlcywgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlci5pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRldmljZV9pZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmVudGl0eUZpbHRlcj0keyhzdGF0ZTogSGFzc0VudGl0eSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGV2SWQgPSB0aGlzLl9wbGFjZWhvbGRlclZhbHVlc1t0eXBlXVtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXIuaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1baWR4XS5kZXZpY2VfaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGV2aWNlRW50aXR5TG9va3VwW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZJZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5pbmNsdWRlcyhzdGF0ZS5lbnRpdHlfaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L2hhLWVudGl0eS1waWNrZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICBgO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKHBsYWNlaG9sZGVyLmZpZWxkcy5pbmNsdWRlcyhcImVudGl0eV9pZFwiKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgICA8aGEtZW50aXR5LXBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgLnR5cGU9JHt0eXBlfVxuICAgICAgICAgICAgICAgICAgICAgICAgLnBsYWNlaG9sZGVyPSR7cGxhY2Vob2xkZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICBAY2hhbmdlPSR7dGhpcy5fZW50aXR5UGlja2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVEb21haW5zPSR7cGxhY2Vob2xkZXIuZG9tYWluc31cbiAgICAgICAgICAgICAgICAgICAgICAgIC5pbmNsdWRlRGV2aWNlQ2xhc3Nlcz0ke3BsYWNlaG9sZGVyLmRldmljZV9jbGFzc2VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgLmhhc3M9JHt0aGlzLmhhc3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAubGFiZWw9JHt0aGlzLl9nZXRMYWJlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXIuZG9tYWlucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXIuZGV2aWNlX2NsYXNzZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPjwvaGEtZW50aXR5LXBpY2tlcj5cbiAgICAgICAgICAgICAgICAgICAgYDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJldHVybiBodG1sYFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZXJyb3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICBVbmtub3duIHBsYWNlaG9sZGVyPGJyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgJHtwbGFjZWhvbGRlci5kb21haW5zfTxiciAvPlxuICAgICAgICAgICAgICAgICAgICAgICR7cGxhY2Vob2xkZXIuZmllbGRzLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgIChmaWVsZCkgPT4gaHRtbGAgJHtmaWVsZH08YnIgLz4gYFxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgYDtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgYFxuICAgICAgICAgICl9XG4gICAgICAgIDwvcGFwZXItZGlhbG9nLXNjcm9sbGFibGU+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYXBlci1kaWFsb2ctYnV0dG9uc1wiPlxuICAgICAgICAgIDxtd2MtYnV0dG9uIGNsYXNzPVwibGVmdFwiIEBjbGljaz1cIiR7dGhpcy5za2lwfVwiPlxuICAgICAgICAgICAgU2tpcFxuICAgICAgICAgIDwvbXdjLWJ1dHRvbj5cbiAgICAgICAgICA8bXdjLWJ1dHRvbiBAY2xpY2s9XCIke3RoaXMuX2RvbmV9XCIgLmRpc2FibGVkPSR7IXRoaXMuX2lzRG9uZX0+XG4gICAgICAgICAgICBDcmVhdGUgYXV0b21hdGlvblxuICAgICAgICAgIDwvbXdjLWJ1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2hhLXBhcGVyLWRpYWxvZz5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSBfZ2V0RGV2aWNlTmFtZShkZXZpY2VJZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoIXRoaXMuX2RldmljZXMpIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBjb25zdCBmb3VuZERldmljZSA9IHRoaXMuX2RldmljZXMuZmluZCgoZGV2aWNlKSA9PiBkZXZpY2UuaWQgPT09IGRldmljZUlkKTtcbiAgICBpZiAoIWZvdW5kRGV2aWNlKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgcmV0dXJuIGZvdW5kRGV2aWNlLm5hbWVfYnlfdXNlciB8fCBmb3VuZERldmljZS5uYW1lIHx8IFwiXCI7XG4gIH1cblxuICBwcml2YXRlIF9zZWFyY2hOYW1lcygpIHtcbiAgICBpZiAoIXRoaXMuX3NlYXJjaCB8fCAhdGhpcy5fYXJlYXMgfHwgIXRoaXMuX2RldmljZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fc2VhcmNoID0gZmFsc2U7XG4gICAgT2JqZWN0LmVudHJpZXModGhpcy5wbGFjZWhvbGRlcnMpLmZvckVhY2goKFt0eXBlLCBwbGFjZWhvbGRlcnNdKSA9PlxuICAgICAgcGxhY2Vob2xkZXJzLmZvckVhY2goKHBsYWNlaG9sZGVyKSA9PiB7XG4gICAgICAgIGlmICghcGxhY2Vob2xkZXIubmFtZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuYW1lID0gcGxhY2Vob2xkZXIubmFtZTtcbiAgICAgICAgY29uc3QgZm91bmRBcmVhID0gdGhpcy5fYXJlYXMhLmZpbmQoKGFyZWEpID0+XG4gICAgICAgICAgYXJlYS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobmFtZSlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGZvdW5kQXJlYSkge1xuICAgICAgICAgIGFwcGx5UGF0Y2goXG4gICAgICAgICAgICB0aGlzLl9leHRyYUluZm8sXG4gICAgICAgICAgICBbdHlwZSwgcGxhY2Vob2xkZXIuaW5kZXgsIFwiYXJlYV9pZFwiXSxcbiAgICAgICAgICAgIGZvdW5kQXJlYS5hcmVhX2lkXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoXCJfZXh0cmFJbmZvXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmb3VuZERldmljZXMgPSB0aGlzLl9kZXZpY2VzIS5maWx0ZXIoKGRldmljZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGRldmljZU5hbWUgPSBkZXZpY2UubmFtZV9ieV91c2VyIHx8IGRldmljZS5uYW1lO1xuICAgICAgICAgIGlmICghZGV2aWNlTmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZGV2aWNlTmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKG5hbWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGZvdW5kRGV2aWNlcy5sZW5ndGgpIHtcbiAgICAgICAgICBhcHBseVBhdGNoKFxuICAgICAgICAgICAgdGhpcy5fZXh0cmFJbmZvLFxuICAgICAgICAgICAgW3R5cGUsIHBsYWNlaG9sZGVyLmluZGV4LCBcImRldmljZV9pZHNcIl0sXG4gICAgICAgICAgICBmb3VuZERldmljZXMubWFwKChkZXZpY2UpID0+IGRldmljZS5pZClcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZShcIl9leHRyYUluZm9cIik7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0IF9pc0RvbmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMucGxhY2Vob2xkZXJzKS5ldmVyeSgoW3R5cGUsIHBsYWNlaG9sZGVyc10pID0+XG4gICAgICBwbGFjZWhvbGRlcnMuZXZlcnkoKHBsYWNlaG9sZGVyKSA9PlxuICAgICAgICBwbGFjZWhvbGRlci5maWVsZHMuZXZlcnkoKGZpZWxkKSA9PiB7XG4gICAgICAgICAgY29uc3QgZW50cmllczoge1xuICAgICAgICAgICAgW2tleTogbnVtYmVyXTogeyBkZXZpY2VfaWQ/OiBzdHJpbmc7IGVudGl0eV9pZD86IHN0cmluZyB9O1xuICAgICAgICAgIH0gPSBnZXRQYXRoKHRoaXMuX3BsYWNlaG9sZGVyVmFsdWVzLCBbdHlwZSwgcGxhY2Vob2xkZXIuaW5kZXhdKTtcbiAgICAgICAgICBpZiAoIWVudHJpZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgdmFsdWVzID0gT2JqZWN0LnZhbHVlcyhlbnRyaWVzKTtcbiAgICAgICAgICByZXR1cm4gdmFsdWVzLmV2ZXJ5KFxuICAgICAgICAgICAgKGVudHJ5KSA9PiBlbnRyeVtmaWVsZF0gIT09IHVuZGVmaW5lZCAmJiBlbnRyeVtmaWVsZF0gIT09IFwiXCJcbiAgICAgICAgICApO1xuICAgICAgICB9KVxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIF9nZXRMYWJlbChkb21haW5zOiBzdHJpbmdbXSwgZGV2aWNlQ2xhc3Nlcz86IHN0cmluZ1tdKSB7XG4gICAgcmV0dXJuIGAke2RvbWFpbnNcbiAgICAgIC5tYXAoKGRvbWFpbikgPT4gZG9tYWluVG9OYW1lKHRoaXMuaGFzcy5sb2NhbGl6ZSwgZG9tYWluKSlcbiAgICAgIC5qb2luKFwiLCBcIil9JHtcbiAgICAgIGRldmljZUNsYXNzZXMgPyBgIG9mIHR5cGUgJHtkZXZpY2VDbGFzc2VzLmpvaW4oXCIsIFwiKX1gIDogXCJcIlxuICAgIH1gO1xuICB9XG5cbiAgcHJpdmF0ZSBfZGV2aWNlUGlja2VkKGV2OiBDdXN0b21FdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IHZhbHVlOiBzdHJpbmdbXSA9IGV2LmRldGFpbC52YWx1ZTtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldCBhcyBhbnk7XG4gICAgY29uc3QgcGxhY2Vob2xkZXIgPSB0YXJnZXQucGxhY2Vob2xkZXIgYXMgUGxhY2Vob2xkZXI7XG4gICAgY29uc3QgdHlwZSA9IHRhcmdldC50eXBlO1xuXG4gICAgbGV0IG9sZFZhbHVlcyA9IGdldFBhdGgodGhpcy5fcGxhY2Vob2xkZXJWYWx1ZXMsIFt0eXBlLCBwbGFjZWhvbGRlci5pbmRleF0pO1xuICAgIGlmIChvbGRWYWx1ZXMpIHtcbiAgICAgIG9sZFZhbHVlcyA9IE9iamVjdC52YWx1ZXMob2xkVmFsdWVzKTtcbiAgICB9XG4gICAgY29uc3Qgb2xkRXh0cmFJbmZvID0gZ2V0UGF0aCh0aGlzLl9leHRyYUluZm8sIFt0eXBlLCBwbGFjZWhvbGRlci5pbmRleF0pO1xuXG4gICAgaWYgKHRoaXMuX3BsYWNlaG9sZGVyVmFsdWVzW3R5cGVdKSB7XG4gICAgICBkZWxldGUgdGhpcy5fcGxhY2Vob2xkZXJWYWx1ZXNbdHlwZV1bcGxhY2Vob2xkZXIuaW5kZXhdO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9leHRyYUluZm9bdHlwZV0pIHtcbiAgICAgIGRlbGV0ZSB0aGlzLl9leHRyYUluZm9bdHlwZV1bcGxhY2Vob2xkZXIuaW5kZXhdO1xuICAgIH1cblxuICAgIGlmICghdmFsdWUubGVuZ3RoKSB7XG4gICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoXCJfcGxhY2Vob2xkZXJWYWx1ZXNcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFsdWUuZm9yRWFjaCgoZGV2aWNlSWQsIGluZGV4KSA9PiB7XG4gICAgICBsZXQgb2xkSW5kZXg7XG4gICAgICBpZiAob2xkVmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IG9sZERldmljZSA9IG9sZFZhbHVlcy5maW5kKChvbGRWYWwsIGlkeCkgPT4ge1xuICAgICAgICAgIG9sZEluZGV4ID0gaWR4O1xuICAgICAgICAgIHJldHVybiBvbGRWYWwuZGV2aWNlX2lkID09PSBkZXZpY2VJZDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG9sZERldmljZSkge1xuICAgICAgICAgIGFwcGx5UGF0Y2goXG4gICAgICAgICAgICB0aGlzLl9wbGFjZWhvbGRlclZhbHVlcyxcbiAgICAgICAgICAgIFt0eXBlLCBwbGFjZWhvbGRlci5pbmRleCwgaW5kZXhdLFxuICAgICAgICAgICAgb2xkRGV2aWNlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAob2xkRXh0cmFJbmZvKSB7XG4gICAgICAgICAgICBhcHBseVBhdGNoKFxuICAgICAgICAgICAgICB0aGlzLl9leHRyYUluZm8sXG4gICAgICAgICAgICAgIFt0eXBlLCBwbGFjZWhvbGRlci5pbmRleCwgaW5kZXhdLFxuICAgICAgICAgICAgICBvbGRFeHRyYUluZm9bb2xkSW5kZXhdXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgYXBwbHlQYXRjaChcbiAgICAgICAgdGhpcy5fcGxhY2Vob2xkZXJWYWx1ZXMsXG4gICAgICAgIFt0eXBlLCBwbGFjZWhvbGRlci5pbmRleCwgaW5kZXgsIFwiZGV2aWNlX2lkXCJdLFxuICAgICAgICBkZXZpY2VJZFxuICAgICAgKTtcblxuICAgICAgaWYgKCFwbGFjZWhvbGRlci5maWVsZHMuaW5jbHVkZXMoXCJlbnRpdHlfaWRcIikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkZXZFbnRpdGllcyA9IHRoaXMuX2RldmljZUVudGl0eUxvb2t1cFtkZXZpY2VJZF07XG5cbiAgICAgIGNvbnN0IGVudGl0aWVzID0gZGV2RW50aXRpZXMuZmlsdGVyKChlaWQpID0+IHtcbiAgICAgICAgaWYgKHBsYWNlaG9sZGVyLmRldmljZV9jbGFzc2VzKSB7XG4gICAgICAgICAgY29uc3Qgc3RhdGVPYmogPSB0aGlzLmhhc3Muc3RhdGVzW2VpZF07XG4gICAgICAgICAgaWYgKCFzdGF0ZU9iaikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcGxhY2Vob2xkZXIuZG9tYWlucy5pbmNsdWRlcyhjb21wdXRlRG9tYWluKGVpZCkpICYmXG4gICAgICAgICAgICBzdGF0ZU9iai5hdHRyaWJ1dGVzLmRldmljZV9jbGFzcyAmJlxuICAgICAgICAgICAgcGxhY2Vob2xkZXIuZGV2aWNlX2NsYXNzZXMuaW5jbHVkZXMoXG4gICAgICAgICAgICAgIHN0YXRlT2JqLmF0dHJpYnV0ZXMuZGV2aWNlX2NsYXNzXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGxhY2Vob2xkZXIuZG9tYWlucy5pbmNsdWRlcyhjb21wdXRlRG9tYWluKGVpZCkpO1xuICAgICAgfSk7XG4gICAgICBpZiAoZW50aXRpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIFNob3VsZCBub3QgaGFwcGVuIGJlY2F1c2Ugd2UgZmlsdGVyIHRoZSBkZXZpY2UgcGlja2VyIG9uIGRvbWFpblxuICAgICAgICB0aGlzLl9lcnJvciA9IGBObyAke3BsYWNlaG9sZGVyLmRvbWFpbnNcbiAgICAgICAgICAubWFwKChkb21haW4pID0+IGRvbWFpblRvTmFtZSh0aGlzLmhhc3MubG9jYWxpemUsIGRvbWFpbikpXG4gICAgICAgICAgLmpvaW4oXCIsIFwiKX0gZW50aXRpZXMgZm91bmQgaW4gdGhpcyBkZXZpY2UuYDtcbiAgICAgIH0gZWxzZSBpZiAoZW50aXRpZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGFwcGx5UGF0Y2goXG4gICAgICAgICAgdGhpcy5fcGxhY2Vob2xkZXJWYWx1ZXMsXG4gICAgICAgICAgW3R5cGUsIHBsYWNlaG9sZGVyLmluZGV4LCBpbmRleCwgXCJlbnRpdHlfaWRcIl0sXG4gICAgICAgICAgZW50aXRpZXNbMF1cbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKFwiX3BsYWNlaG9sZGVyVmFsdWVzXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3BsYWNlaG9sZGVyVmFsdWVzW3R5cGVdW3BsYWNlaG9sZGVyLmluZGV4XVtpbmRleF1cbiAgICAgICAgICAuZW50aXR5X2lkO1xuICAgICAgICBhcHBseVBhdGNoKFxuICAgICAgICAgIHRoaXMuX2V4dHJhSW5mbyxcbiAgICAgICAgICBbdHlwZSwgcGxhY2Vob2xkZXIuaW5kZXgsIFwibWFudWFsRW50aXR5XCIsIGluZGV4XSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZShcIl9wbGFjZWhvbGRlclZhbHVlc1wiKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZpcmVFdmVudChcbiAgICAgIHRoaXMuc2hhZG93Um9vdCEucXVlcnlTZWxlY3RvcihcImhhLXBhcGVyLWRpYWxvZ1wiKSEgYXMgSFRNTEVsZW1lbnQsXG4gICAgICBcImlyb24tcmVzaXplXCJcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBfZW50aXR5UGlja2VkKGV2OiBFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldCBhcyBhbnk7XG4gICAgY29uc3QgcGxhY2Vob2xkZXIgPSB0YXJnZXQucGxhY2Vob2xkZXIgYXMgUGxhY2Vob2xkZXI7XG4gICAgY29uc3QgdmFsdWUgPSB0YXJnZXQudmFsdWU7XG4gICAgY29uc3QgdHlwZSA9IHRhcmdldC50eXBlO1xuICAgIGNvbnN0IGluZGV4ID0gdGFyZ2V0LmluZGV4IHx8IDA7XG4gICAgYXBwbHlQYXRjaChcbiAgICAgIHRoaXMuX3BsYWNlaG9sZGVyVmFsdWVzLFxuICAgICAgW3R5cGUsIHBsYWNlaG9sZGVyLmluZGV4LCBpbmRleCwgXCJlbnRpdHlfaWRcIl0sXG4gICAgICB2YWx1ZVxuICAgICk7XG4gICAgdGhpcy5yZXF1ZXN0VXBkYXRlKFwiX3BsYWNlaG9sZGVyVmFsdWVzXCIpO1xuICB9XG5cbiAgcHJpdmF0ZSBfZG9uZSgpOiB2b2lkIHtcbiAgICBmaXJlRXZlbnQodGhpcywgXCJwbGFjZWhvbGRlcnMtZmlsbGVkXCIsIHsgdmFsdWU6IHRoaXMuX3BsYWNlaG9sZGVyVmFsdWVzIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfb3BlbmVkQ2hhbmdlZChldjogUG9seW1lckNoYW5nZWRFdmVudDxib29sZWFuPik6IHZvaWQge1xuICAgIC8vIFRoZSBvcGVuZWQtY2hhbmdlZCBldmVudCBkb2Vzbid0IGxlYXZlIHRoZSBzaGFkb3dkb20gc28gd2UgcmUtZGlzcGF0Y2ggaXRcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KGV2LnR5cGUsIGV2KSk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpOiBDU1NSZXN1bHRbXSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIGhhU3R5bGVEaWFsb2csXG4gICAgICBjc3NgXG4gICAgICAgIGhhLXBhcGVyLWRpYWxvZyB7XG4gICAgICAgICAgbWF4LXdpZHRoOiA1MDBweDtcbiAgICAgICAgfVxuICAgICAgICBtd2MtYnV0dG9uLmxlZnQge1xuICAgICAgICAgIG1hcmdpbi1yaWdodDogYXV0bztcbiAgICAgICAgfVxuICAgICAgICBwYXBlci1kaWFsb2ctc2Nyb2xsYWJsZSB7XG4gICAgICAgICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICAgICAgfVxuICAgICAgICBoMyB7XG4gICAgICAgICAgbWFyZ2luOiAxMHB4IDAgMCAwO1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgIH1cbiAgICAgICAgLmVycm9yIHtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tZ29vZ2xlLXJlZC01MDApO1xuICAgICAgICB9XG4gICAgICBgLFxuICAgIF07XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImhhLXRoaW5ndGFsay1wbGFjZWhvbGRlcnNcIjogVGhpbmdUYWxrUGxhY2Vob2xkZXJzO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFtQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUF3QkE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBbkRBO0FBQUE7QUFBQTtBQUFBO0FBc0RBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQTFEQTtBQUFBO0FBQUE7QUFBQTtBQTZEQTs7OztBQUlBO0FBQ0E7Ozs7QUFJQTtBQUNBOztBQUlBOztBQUlBO0FBQ0E7QUFDQTtBQUlBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTs7QUFLQTs7Ozs7QUFNQTs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBQ0E7QUFHQTtBQUdBOztBQTdCQTtBQU5BO0FBakJBO0FBMkRBO0FBQ0E7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQVJBO0FBY0E7QUFDQTtBQUFBOzs7QUFHQTtBQUNBOztBQUpBO0FBU0E7QUFuR0E7OztBQXdHQTs7O0FBR0E7Ozs7O0FBckhBO0FBMkhBO0FBeExBO0FBQUE7QUFBQTtBQUFBO0FBMkxBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQW5NQTtBQUFBO0FBQUE7QUFBQTtBQXNNQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUE3T0E7QUFBQTtBQUFBO0FBQUE7QUFnUEE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFHQTtBQWhRQTtBQUFBO0FBQUE7QUFBQTtBQW1RQTtBQUtBO0FBeFFBO0FBQUE7QUFBQTtBQUFBO0FBMlFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFLQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQU9BO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBdlhBO0FBQUE7QUFBQTtBQUFBO0FBMFhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFyWUE7QUFBQTtBQUFBO0FBQUE7QUF3WUE7QUFBQTtBQUFBO0FBQ0E7QUF6WUE7QUFBQTtBQUFBO0FBQUE7QUE0WUE7QUFDQTtBQUNBO0FBOVlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFpWkE7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFxQkE7QUF0YUE7QUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/panels/config/automation/thingtalk/ha-thingtalk-placeholders.ts\n");

/***/ })

}]);