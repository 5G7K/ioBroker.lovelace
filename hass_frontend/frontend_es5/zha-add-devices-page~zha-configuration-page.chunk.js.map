{"version":3,"sources":["webpack:///./src/common/string/compare.ts","webpack:///./src/common/util/debounce.ts","webpack:///./src/components/buttons/ha-call-service-button.js","webpack:///./src/components/ha-service-description.js","webpack:///./src/data/area_registry.ts","webpack:///./src/data/device_registry.ts","webpack:///./src/data/zha.ts","webpack:///./src/panels/config/zha/zha-device-card.ts"],"names":["compare","a","b","caseInsensitiveCompare","toLowerCase","debounce","func","wait","immediate","timeout","args","context","later","apply","callNow","clearTimeout","setTimeout","HaCallServiceButton","progress","el","eventData","domain","service","serviceData","hass","callService","then","$","actionSuccess","success","actionError","fire","html","type","Object","Boolean","value","String","EventsMixin","PolymerElement","customElements","define","HaServiceDescription","domainServices","services","serviceObject","description","createAreaRegistryEntry","values","callWS","updateAreaRegistryEntry","areaId","updates","area_id","deleteAreaRegistryEntry","fetchAreaRegistry","conn","sendMessagePromise","areas","sort","ent1","ent2","name","subscribeAreaRegistryUpdates","store","subscribeEvents","setState","subscribeAreaRegistry","onChange","createCollection","updateDeviceRegistryEntry","deviceId","device_id","fetchDeviceRegistry","subscribeDeviceRegistryUpdates","devices","subscribeDeviceRegistry","reconfigureNode","ieeeAddress","ieee","fetchAttributesForCluster","endpointId","clusterId","clusterType","endpoint_id","cluster_id","cluster_type","fetchDevices","fetchBindableDevices","bindDevices","sourceIEEE","targetIEEE","source_ieee","target_ieee","unbindDevices","readAttributeValue","data","fetchCommandsForCluster","fetchClustersForZhaNode","ZHADeviceCard","customElement","property","_unsubAreas","changedProperties","addEventListener","ev","serviceCalled","_serviceData","ieee_address","device","has","_areas","_selectedAreaIndex","findIndex","area","_userGivenName","user_given_name","connection","detail","fireEvent","isJoinPage","model","localize","manufacturer","quirk_applied","quirk_class","entities","map","entity","_openMoreInfo","states","entity_id","_saveCustomName","_selectedAreaChanged","entry","showActions","_onReconfigureNodeClick","showHelp","power_source","_onAddDevicesClick","event","name_by_user","target","undefined","device_reg_id","entityId","currentTarget","selected","newAreaId","navigate","haStyle","css","LitElement"],"mappings":"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","file":"zha-add-devices-page~zha-configuration-page.chunk.js","sourcesContent":["export const compare = (a: string, b: string) => {\n  if (a < b) {\n    return -1;\n  }\n  if (a > b) {\n    return 1;\n  }\n\n  return 0;\n};\n\nexport const caseInsensitiveCompare = (a: string, b: string) =>\n  compare(a.toLowerCase(), b.toLowerCase());\n","// From: https://davidwalsh.name/javascript-debounce-function\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\n// tslint:disable-next-line: ban-types\nexport const debounce = <T extends Function>(\n  func: T,\n  wait,\n  immediate = false\n): T => {\n  let timeout;\n  // @ts-ignore\n  return function(...args) {\n    // tslint:disable:no-this-assignment\n    // @ts-ignore\n    const context = this;\n    const later = () => {\n      timeout = null;\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n};\n","import { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport \"./ha-progress-button\";\nimport { EventsMixin } from \"../../mixins/events-mixin\";\n\n/*\n * @appliesMixin EventsMixin\n */\nclass HaCallServiceButton extends EventsMixin(PolymerElement) {\n  static get template() {\n    return html`\n      <ha-progress-button\n        id=\"progress\"\n        progress=\"[[progress]]\"\n        on-click=\"buttonTapped\"\n        ><slot></slot\n      ></ha-progress-button>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n      },\n\n      progress: {\n        type: Boolean,\n        value: false,\n      },\n\n      domain: {\n        type: String,\n      },\n\n      service: {\n        type: String,\n      },\n\n      serviceData: {\n        type: Object,\n        value: {},\n      },\n    };\n  }\n\n  buttonTapped() {\n    this.progress = true;\n    var el = this;\n    var eventData = {\n      domain: this.domain,\n      service: this.service,\n      serviceData: this.serviceData,\n    };\n\n    this.hass\n      .callService(this.domain, this.service, this.serviceData)\n      .then(\n        function() {\n          el.progress = false;\n          el.$.progress.actionSuccess();\n          eventData.success = true;\n        },\n        function() {\n          el.progress = false;\n          el.$.progress.actionError();\n          eventData.success = false;\n        }\n      )\n      .then(function() {\n        el.fire(\"hass-service-called\", eventData);\n      });\n  }\n}\n\ncustomElements.define(\"ha-call-service-button\", HaCallServiceButton);\n","import { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nclass HaServiceDescription extends PolymerElement {\n  static get template() {\n    return html`\n      [[_getDescription(hass, domain, service)]]\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      domain: String,\n      service: String,\n    };\n  }\n\n  _getDescription(hass, domain, service) {\n    var domainServices = hass.services[domain];\n    if (!domainServices) return \"\";\n    var serviceObject = domainServices[service];\n    if (!serviceObject) return \"\";\n    return serviceObject.description;\n  }\n}\n\ncustomElements.define(\"ha-service-description\", HaServiceDescription);\n","import { createCollection, Connection } from \"home-assistant-js-websocket\";\nimport { HomeAssistant } from \"../types\";\nimport { compare } from \"../common/string/compare\";\nimport { debounce } from \"../common/util/debounce\";\n\nexport interface AreaRegistryEntry {\n  area_id: string;\n  name: string;\n}\n\nexport interface AreaRegistryEntryMutableParams {\n  name: string;\n}\n\nexport const createAreaRegistryEntry = (\n  hass: HomeAssistant,\n  values: AreaRegistryEntryMutableParams\n) =>\n  hass.callWS<AreaRegistryEntry>({\n    type: \"config/area_registry/create\",\n    ...values,\n  });\n\nexport const updateAreaRegistryEntry = (\n  hass: HomeAssistant,\n  areaId: string,\n  updates: Partial<AreaRegistryEntryMutableParams>\n) =>\n  hass.callWS<AreaRegistryEntry>({\n    type: \"config/area_registry/update\",\n    area_id: areaId,\n    ...updates,\n  });\n\nexport const deleteAreaRegistryEntry = (hass: HomeAssistant, areaId: string) =>\n  hass.callWS({\n    type: \"config/area_registry/delete\",\n    area_id: areaId,\n  });\n\nconst fetchAreaRegistry = (conn) =>\n  conn\n    .sendMessagePromise({\n      type: \"config/area_registry/list\",\n    })\n    .then((areas) => areas.sort((ent1, ent2) => compare(ent1.name, ent2.name)));\n\nconst subscribeAreaRegistryUpdates = (conn, store) =>\n  conn.subscribeEvents(\n    debounce(\n      () =>\n        fetchAreaRegistry(conn).then((areas) => store.setState(areas, true)),\n      500,\n      true\n    ),\n    \"area_registry_updated\"\n  );\n\nexport const subscribeAreaRegistry = (\n  conn: Connection,\n  onChange: (areas: AreaRegistryEntry[]) => void\n) =>\n  createCollection<AreaRegistryEntry[]>(\n    \"_areaRegistry\",\n    fetchAreaRegistry,\n    subscribeAreaRegistryUpdates,\n    conn,\n    onChange\n  );\n","import { HomeAssistant } from \"../types\";\nimport { createCollection, Connection } from \"home-assistant-js-websocket\";\nimport { debounce } from \"../common/util/debounce\";\n\nexport interface DeviceRegistryEntry {\n  id: string;\n  config_entries: string[];\n  connections: Array<[string, string]>;\n  manufacturer: string;\n  model?: string;\n  name?: string;\n  sw_version?: string;\n  hub_device_id?: string;\n  area_id?: string;\n  name_by_user?: string;\n}\n\nexport interface DeviceRegistryEntryMutableParams {\n  area_id?: string | null;\n  name_by_user?: string | null;\n}\n\nexport const updateDeviceRegistryEntry = (\n  hass: HomeAssistant,\n  deviceId: string,\n  updates: Partial<DeviceRegistryEntryMutableParams>\n) =>\n  hass.callWS<DeviceRegistryEntry>({\n    type: \"config/device_registry/update\",\n    device_id: deviceId,\n    ...updates,\n  });\n\nconst fetchDeviceRegistry = (conn) =>\n  conn.sendMessagePromise({\n    type: \"config/device_registry/list\",\n  });\n\nconst subscribeDeviceRegistryUpdates = (conn, store) =>\n  conn.subscribeEvents(\n    debounce(\n      () =>\n        fetchDeviceRegistry(conn).then((devices) =>\n          store.setState(devices, true)\n        ),\n      500,\n      true\n    ),\n    \"device_registry_updated\"\n  );\n\nexport const subscribeDeviceRegistry = (\n  conn: Connection,\n  onChange: (devices: DeviceRegistryEntry[]) => void\n) =>\n  createCollection<DeviceRegistryEntry[]>(\n    \"_dr\",\n    fetchDeviceRegistry,\n    subscribeDeviceRegistryUpdates,\n    conn,\n    onChange\n  );\n","import { HassEntity } from \"home-assistant-js-websocket\";\nimport { HomeAssistant } from \"../types\";\n\nexport interface ZHAEntityReference extends HassEntity {\n  name: string;\n}\n\nexport interface ZHADevice {\n  name: string;\n  ieee: string;\n  manufacturer: string;\n  model: string;\n  quirk_applied: boolean;\n  quirk_class: string;\n  entities: ZHAEntityReference[];\n  manufacturer_code: number;\n  device_reg_id: string;\n  user_given_name?: string;\n  power_source?: string;\n  area_id?: string;\n}\n\nexport interface Attribute {\n  name: string;\n  id: number;\n}\n\nexport interface Cluster {\n  name: string;\n  id: number;\n  endpoint_id: number;\n  type: string;\n}\n\nexport interface Command {\n  name: string;\n  id: number;\n  type: string;\n}\n\nexport interface ReadAttributeServiceData {\n  ieee: string;\n  endpoint_id: number;\n  cluster_id: number;\n  cluster_type: string;\n  attribute: number;\n  manufacturer?: number;\n}\n\nexport const reconfigureNode = (\n  hass: HomeAssistant,\n  ieeeAddress: string\n): Promise<void> =>\n  hass.callWS({\n    type: \"zha/devices/reconfigure\",\n    ieee: ieeeAddress,\n  });\n\nexport const fetchAttributesForCluster = (\n  hass: HomeAssistant,\n  ieeeAddress: string,\n  endpointId: number,\n  clusterId: number,\n  clusterType: string\n): Promise<Attribute[]> =>\n  hass.callWS({\n    type: \"zha/devices/clusters/attributes\",\n    ieee: ieeeAddress,\n    endpoint_id: endpointId,\n    cluster_id: clusterId,\n    cluster_type: clusterType,\n  });\n\nexport const fetchDevices = (hass: HomeAssistant): Promise<ZHADevice[]> =>\n  hass.callWS({\n    type: \"zha/devices\",\n  });\n\nexport const fetchBindableDevices = (\n  hass: HomeAssistant,\n  ieeeAddress: string\n): Promise<ZHADevice[]> =>\n  hass.callWS({\n    type: \"zha/devices/bindable\",\n    ieee: ieeeAddress,\n  });\n\nexport const bindDevices = (\n  hass: HomeAssistant,\n  sourceIEEE: string,\n  targetIEEE: string\n): Promise<void> =>\n  hass.callWS({\n    type: \"zha/devices/bind\",\n    source_ieee: sourceIEEE,\n    target_ieee: targetIEEE,\n  });\n\nexport const unbindDevices = (\n  hass: HomeAssistant,\n  sourceIEEE: string,\n  targetIEEE: string\n): Promise<void> =>\n  hass.callWS({\n    type: \"zha/devices/unbind\",\n    source_ieee: sourceIEEE,\n    target_ieee: targetIEEE,\n  });\n\nexport const readAttributeValue = (\n  hass: HomeAssistant,\n  data: ReadAttributeServiceData\n): Promise<string> => {\n  return hass.callWS({\n    ...data,\n    type: \"zha/devices/clusters/attributes/value\",\n  });\n};\n\nexport const fetchCommandsForCluster = (\n  hass: HomeAssistant,\n  ieeeAddress: string,\n  endpointId: number,\n  clusterId: number,\n  clusterType: string\n): Promise<Command[]> =>\n  hass.callWS({\n    type: \"zha/devices/clusters/commands\",\n    ieee: ieeeAddress,\n    endpoint_id: endpointId,\n    cluster_id: clusterId,\n    cluster_type: clusterType,\n  });\n\nexport const fetchClustersForZhaNode = (\n  hass: HomeAssistant,\n  ieeeAddress: string\n): Promise<Cluster[]> =>\n  hass.callWS({\n    type: \"zha/devices/clusters\",\n    ieee: ieeeAddress,\n  });\n","import \"../../../components/buttons/ha-call-service-button\";\nimport \"../../../components/ha-service-description\";\nimport \"../../../components/entity/state-badge\";\nimport \"../../../components/ha-card\";\nimport \"@material/mwc-button\";\nimport \"@polymer/paper-dropdown-menu/paper-dropdown-menu\";\nimport \"@polymer/paper-input/paper-input\";\nimport \"@polymer/paper-item/paper-icon-item\";\nimport \"@polymer/paper-item/paper-item\";\nimport \"@polymer/paper-item/paper-item-body\";\nimport \"@polymer/paper-listbox/paper-listbox\";\n\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  PropertyValues,\n  TemplateResult,\n} from \"lit-element\";\n\nimport { fireEvent } from \"../../../common/dom/fire_event\";\nimport {\n  AreaRegistryEntry,\n  subscribeAreaRegistry,\n} from \"../../../data/area_registry\";\nimport {\n  DeviceRegistryEntryMutableParams,\n  updateDeviceRegistryEntry,\n} from \"../../../data/device_registry\";\nimport { reconfigureNode, ZHADevice } from \"../../../data/zha\";\nimport { haStyle } from \"../../../resources/styles\";\nimport { HomeAssistant } from \"../../../types\";\nimport { ItemSelectedEvent, NodeServiceData } from \"./types\";\nimport { navigate } from \"../../../common/navigate\";\nimport { UnsubscribeFunc } from \"home-assistant-js-websocket\";\n\ndeclare global {\n  // for fire event\n  interface HASSDomEvents {\n    \"zha-device-removed\": {\n      device?: ZHADevice;\n    };\n  }\n}\n\n@customElement(\"zha-device-card\")\nclass ZHADeviceCard extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public narrow?: boolean;\n  @property() public device?: ZHADevice;\n  @property() public showHelp: boolean = false;\n  @property() public showActions?: boolean;\n  @property() public isJoinPage?: boolean;\n  @property() private _serviceData?: NodeServiceData;\n  @property() private _areas: AreaRegistryEntry[] = [];\n  @property() private _selectedAreaIndex: number = -1;\n  @property() private _userGivenName?: string;\n  private _unsubAreas?: UnsubscribeFunc;\n\n  public disconnectedCallback() {\n    super.disconnectedCallback();\n    if (this._unsubAreas) {\n      this._unsubAreas();\n    }\n  }\n\n  protected firstUpdated(changedProperties: PropertyValues): void {\n    super.firstUpdated(changedProperties);\n    this.addEventListener(\"hass-service-called\", (ev) =>\n      this.serviceCalled(ev)\n    );\n    this._serviceData = {\n      ieee_address: this.device!.ieee,\n    };\n  }\n\n  protected updated(changedProperties: PropertyValues): void {\n    if (changedProperties.has(\"device\")) {\n      if (!this._areas || !this.device || !this.device.area_id) {\n        this._selectedAreaIndex = 0;\n      } else {\n        this._selectedAreaIndex =\n          this._areas.findIndex(\n            (area) => area.area_id === this.device!.area_id\n          ) + 1;\n      }\n      this._userGivenName = this.device!.user_given_name;\n    }\n    if (!this._unsubAreas) {\n      this._unsubAreas = subscribeAreaRegistry(\n        this.hass.connection,\n        (areas) => {\n          this._areas = areas;\n        }\n      );\n    }\n    super.update(changedProperties);\n  }\n\n  protected serviceCalled(ev): void {\n    // Check if this is for us\n    if (ev.detail.success && ev.detail.service === \"remove\") {\n      fireEvent(this, \"zha-device-removed\", {\n        device: this.device,\n      });\n    }\n  }\n\n  protected render(): TemplateResult | void {\n    return html`\n      <ha-card header=\"${this.isJoinPage ? this.device!.name : \"\"}\">\n        ${\n          this.isJoinPage\n            ? html`\n                <div class=\"info\">\n                  <div class=\"model\">${this.device!.model}</div>\n                  <div class=\"manuf\">\n                    ${this.hass!.localize(\n                      \"ui.panel.config.integrations.config_entry.manuf\",\n                      \"manufacturer\",\n                      this.device!.manufacturer\n                    )}\n                  </div>\n                </div>\n              `\n            : \"\"\n        }\n        <div class=\"card-content\">\n          <dl>\n            <dt>IEEE:</dt>\n            <dd class=\"zha-info\">${this.device!.ieee}</dd>\n            ${\n              this.device!.quirk_applied\n                ? html`\n                    <dt>Quirk:</dt>\n                    <dd class=\"zha-info\">${this.device!.quirk_class}</dd>\n                  `\n                : \"\"\n            }\n          </dl>\n        </div>\n\n        <div class=\"device-entities\">\n          ${this.device!.entities.map(\n            (entity) => html`\n              <paper-icon-item\n                @click=\"${this._openMoreInfo}\"\n                .entity=\"${entity}\"\n              >\n                <state-badge\n                  .stateObj=\"${this.hass!.states[entity.entity_id]}\"\n                  slot=\"item-icon\"\n                ></state-badge>\n                ${!this.isJoinPage\n                  ? html`\n                      <paper-item-body>\n                        <div class=\"name\">${entity.name}</div>\n                        <div class=\"secondary entity-id\">\n                          ${entity.entity_id}\n                        </div>\n                      </paper-item-body>\n                    `\n                  : \"\"}\n              </paper-icon-item>\n            `\n          )}\n        </div>\n        <div class=\"editable\">\n          <paper-input\n            type=\"string\"\n            @change=\"${this._saveCustomName}\"\n            .value=\"${this._userGivenName}\"\n            placeholder=\"${this.hass!.localize(\n              \"ui.panel.config.zha.device_card.device_name_placeholder\"\n            )}\"\n          ></paper-input>\n        </div>\n        <div class=\"node-picker\">\n          <paper-dropdown-menu\n            label=\"${this.hass!.localize(\n              \"ui.panel.config.zha.device_card.area_picker_label\"\n            )}\"\n            class=\"flex\"\n          >\n            <paper-listbox\n              slot=\"dropdown-content\"\n              .selected=\"${this._selectedAreaIndex}\"\n              @iron-select=\"${this._selectedAreaChanged}\"\n            >\n              <paper-item>\n                ${this.hass!.localize(\n                  \"ui.panel.config.integrations.config_entry.no_area\"\n                )}\n              </paper-item>\n\n              ${this._areas.map(\n                (entry) => html`\n                  <paper-item area=\"${entry}\">${entry.name}</paper-item>\n                `\n              )}\n            </paper-listbox>\n          </paper-dropdown-menu>\n        </div>\n        ${\n          this.showActions\n            ? html`\n                <div class=\"card-actions\">\n                  <mwc-button @click=\"${this._onReconfigureNodeClick}\"\n                    >Reconfigure Device</mwc-button\n                  >\n                  ${this.showHelp\n                    ? html`\n                        <div class=\"help-text\">\n                          ${this.hass!.localize(\n                            \"ui.panel.config.zha.services.reconfigure\"\n                          )}\n                        </div>\n                      `\n                    : \"\"}\n\n                  <ha-call-service-button\n                    .hass=\"${this.hass}\"\n                    domain=\"zha\"\n                    service=\"remove\"\n                    .serviceData=\"${this._serviceData}\"\n                    >Remove Device</ha-call-service-button\n                  >\n                  ${this.showHelp\n                    ? html`\n                        <div class=\"help-text\">\n                          ${this.hass!.localize(\n                            \"ui.panel.config.zha.services.remove\"\n                          )}\n                        </div>\n                      `\n                    : \"\"}\n                  ${this.device!.power_source === \"Mains\"\n                    ? html`\n                        <mwc-button @click=${this._onAddDevicesClick}>\n                          Add Devices\n                        </mwc-button>\n                        ${this.showHelp\n                          ? html`\n                              <ha-service-description\n                                .hass=\"${this.hass}\"\n                                domain=\"zha\"\n                                service=\"permit\"\n                                class=\"help-text2\"\n                              />\n                            `\n                          : \"\"}\n                      `\n                    : \"\"}\n                </div>\n              `\n            : \"\"\n        }\n        </div>\n      </ha-card>\n    `;\n  }\n\n  private async _onReconfigureNodeClick(): Promise<void> {\n    if (this.hass) {\n      await reconfigureNode(this.hass, this.device!.ieee);\n    }\n  }\n\n  private async _saveCustomName(event): Promise<void> {\n    if (this.hass) {\n      const values: DeviceRegistryEntryMutableParams = {\n        name_by_user: event.target.value,\n        area_id: this.device!.area_id ? this.device!.area_id : undefined,\n      };\n\n      await updateDeviceRegistryEntry(\n        this.hass,\n        this.device!.device_reg_id,\n        values\n      );\n\n      this.device!.user_given_name = event.target.value;\n    }\n  }\n\n  private _openMoreInfo(ev: MouseEvent): void {\n    fireEvent(this, \"hass-more-info\", {\n      entityId: (ev.currentTarget as any).entity.entity_id,\n    });\n  }\n\n  private async _selectedAreaChanged(event: ItemSelectedEvent) {\n    if (!this.device || !this._areas) {\n      return;\n    }\n    this._selectedAreaIndex = event!.target!.selected;\n    const area = this._areas[this._selectedAreaIndex - 1]; // account for No Area\n    if (\n      (!area && !this.device.area_id) ||\n      (area && area.area_id === this.device.area_id)\n    ) {\n      return;\n    }\n\n    const newAreaId = area ? area.area_id : undefined;\n    await updateDeviceRegistryEntry(this.hass!, this.device.device_reg_id, {\n      area_id: newAreaId,\n      name_by_user: this.device!.user_given_name,\n    });\n    this.device!.area_id = newAreaId;\n  }\n\n  private _onAddDevicesClick() {\n    navigate(this, \"add/\" + this.device!.ieee);\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyle,\n      css`\n        :host(:not([narrow])) .device-entities {\n          max-height: 225px;\n          overflow: auto;\n          display: flex;\n          flex-wrap: wrap;\n          padding: 4px;\n          justify-content: left;\n        }\n        ha-card {\n          flex: 1 0 100%;\n          padding-bottom: 10px;\n          min-width: 425px;\n        }\n        .device {\n          width: 30%;\n        }\n        .device .name {\n          font-weight: bold;\n        }\n        .device .manuf {\n          color: var(--secondary-text-color);\n        }\n        .extra-info {\n          margin-top: 8px;\n        }\n        .manuf,\n        .zha-info,\n        .entity-id {\n          color: var(--secondary-text-color);\n        }\n        .info {\n          margin-left: 16px;\n        }\n        dl dt {\n          padding-left: 12px;\n          float: left;\n          width: 50px;\n          text-align: left;\n        }\n        dt dd {\n          text-align: left;\n        }\n        paper-icon-item {\n          cursor: pointer;\n          padding-top: 4px;\n          padding-bottom: 4px;\n        }\n        .editable {\n          padding-left: 28px;\n          padding-right: 28px;\n          padding-bottom: 10px;\n        }\n        .help-text {\n          color: grey;\n          padding: 16px;\n        }\n        .flex {\n          -ms-flex: 1 1 0.000000001px;\n          -webkit-flex: 1;\n          flex: 1;\n          -webkit-flex-basis: 0.000000001px;\n          flex-basis: 0.000000001px;\n        }\n        .node-picker {\n          display: -ms-flexbox;\n          display: -webkit-flex;\n          display: flex;\n          -ms-flex-direction: row;\n          -webkit-flex-direction: row;\n          flex-direction: row;\n          -ms-flex-align: center;\n          -webkit-align-items: center;\n          align-items: center;\n          padding-left: 28px;\n          padding-right: 28px;\n          padding-bottom: 10px;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"zha-device-card\": ZHADeviceCard;\n  }\n}\n"],"sourceRoot":""}