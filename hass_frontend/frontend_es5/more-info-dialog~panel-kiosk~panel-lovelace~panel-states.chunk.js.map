{"version":3,"sources":["webpack:///./src/common/config/is_component_loaded.ts","webpack:///./src/common/datetime/duration_to_seconds.ts","webpack:///./src/common/datetime/relative_time.ts","webpack:///./src/common/datetime/seconds_to_duration.ts","webpack:///./src/common/dom/stop_propagation.ts","webpack:///./src/common/entity/supports-feature.ts","webpack:///./src/common/entity/timer_time_remaining.ts","webpack:///./src/common/util/time-cache-function-promise.ts","webpack:///./src/components/ha-climate-state.js","webpack:///./src/components/ha-cover-controls.js","webpack:///./src/components/ha-cover-tilt-controls.js","webpack:///./src/components/ha-markdown.js","webpack:///./src/components/ha-relative-time.js","webpack:///./src/components/ha-slider.js","webpack:///./src/data/auth.ts","webpack:///./src/data/camera.ts","webpack:///./src/data/input-select.ts","webpack:///./src/util/cover-model.js","webpack:///./src/util/hass-media-player-model.js"],"names":["isComponentLoaded","hass","component","config","components","indexOf","durationToSeconds","duration","parts","split","map","Number","tests","langKey","relativeTime","dateObj","localize","options","compareTime","Date","delta","getTime","tense","Math","abs","timeDesc","i","length","floor","undefined","includeTense","leftPad","num","secondsToDuration","d","h","m","s","stopPropagation","ev","supportsFeature","stateObj","feature","attributes","supported_features","timerTimeRemaining","timeRemaining","remaining","state","now","madeActive","last_changed","max","timeCachePromiseFunc","cacheKey","cacheTime","func","entityId","args","cache","lastResult","result","then","setTimeout","HaClimateState","current_temperature","unit_system","temperature","current_humidity","target_temp_low","target_temp_high","target_humidity_low","target_humidity_high","humidity","html","Object","currentStatus","type","String","computed","LocalizeMixin","PolymerElement","customElements","define","HaCoverControls","CoverEntity","entityObj","assumedState","assumed_state","isFullyOpen","isOpening","isFullyClosed","isClosing","openCover","closeCover","stopCover","HaCoverTiltControls","isFullyOpenTilt","isFullyClosedTilt","openCoverTilt","closeCoverTilt","stopCoverTilt","loaded","svgWhiteList","HaMarkdown","_scriptLoaded","_renderScheduled","_resize","fire","marked","filterXSS","_render","Promise","resolve","innerHTML","content","gfm","tables","breaks","onIgnoreTag","allowSvg","tag","walker","document","createTreeWalker","nextNode","node","currentNode","tagName","host","location","target","addEventListener","innerText","observer","Boolean","value","EventsMixin","HaRelativeTime","datetime","datetimeObj","parsedDateTime","updateRelative","bind","updateInterval","setInterval","clearInterval","newVal","root","dom","PaperSliderClass","get","subTemplate","HaSlider","step","parseFloat","numSteps","round","min","stepStr","toString","stepPointAt","precision","template","cloneNode","superStyle","querySelector","appendChild","createTextNode","hassUrl","protocol","getSignedPath","path","callWS","fetchAuthProviders","fetch","credentials","CAMERA_SUPPORT_ON_OFF","CAMERA_SUPPORT_STREAM","computeMJPEGStreamUrl","entity","entity_id","access_token","fetchThumbnailUrlWithCache","fetchThumbnailUrl","fetchThumbnail","console","warn","fetchStreamUrl","format","data","fetchCameraPrefs","updateCameraPrefs","prefs","setInputSelectOption","option","callService","_attr","_feat","position","tiltPosition","tilt_position","service","current_position","current_tilt_position","supportsCover","supportsOpen","supportsClose","supportsStop","supportsTilt","supportsOpenTilt","supportsCloseTilt","supportsStopTilt","supportsSetPosition","supportsSetTiltPosition","isTiltOnly","MediaPlayerEntity","volume","volume_level","isOff","turnOn","turnOff","mute","supportsVolumeMute","Error","is_volume_muted","source","soundMode","sound_mode","media_content_type","isPlaying","isPaused","progress","media_position","media_position_updated_at","media_title","isMusic","media_artist","isTVShow","text","media_series_title","media_season","media_episode","app_name","source_list","sound_mode_list"],"mappings":";;;;;;;;;;AAEA;AAAA;AAAA;AACe,SAASA,iBAAT,CACbC,IADa,EAEbC,SAFa,EAGJ;AACT,SAAOD,IAAI,IAAIA,IAAI,CAACE,MAAL,CAAYC,UAAZ,CAAuBC,OAAvB,CAA+BH,SAA/B,MAA8C,CAAC,CAA9D;AACD,C;;;;;;;;;;;;ACRD;AAAA;AAAe,SAASI,iBAAT,CAA2BC,QAA3B,EAAqD;AAClE,MAAMC,KAAK,GAAGD,QAAQ,CAACE,KAAT,CAAe,GAAf,EAAoBC,GAApB,CAAwBC,MAAxB,CAAd;AACA,SAAOH,KAAK,CAAC,CAAD,CAAL,GAAW,IAAX,GAAkBA,KAAK,CAAC,CAAD,CAAL,GAAW,EAA7B,GAAkCA,KAAK,CAAC,CAAD,CAA9C;AACD,C;;;;;;;;;;;;ACDD;AAAA;AAAA;;;;;AAKA,IAAMI,KAAK,GAAG,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,CAAd;AACA,IAAMC,OAAO,GAAG,CAAC,QAAD,EAAW,QAAX,EAAqB,MAArB,EAA6B,KAA7B,CAAhB;AAEe,SAASC,YAAT,CACbC,OADa,EAEbC,QAFa,EAOL;AAAA,MAJRC,OAIQ,uEADJ,EACI;AACR,MAAMC,WAAW,GAAGD,OAAO,CAACC,WAAR,IAAuB,IAAIC,IAAJ,EAA3C;AACA,MAAIC,KAAK,GAAG,CAACF,WAAW,CAACG,OAAZ,KAAwBN,OAAO,CAACM,OAAR,EAAzB,IAA8C,IAA1D;AACA,MAAMC,KAAK,GAAGF,KAAK,IAAI,CAAT,GAAa,MAAb,GAAsB,QAApC;AACAA,OAAK,GAAGG,IAAI,CAACC,GAAL,CAASJ,KAAT,CAAR;AAEA,MAAIK,QAAJ;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGd,KAAK,CAACe,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,QAAIN,KAAK,GAAGR,KAAK,CAACc,CAAD,CAAjB,EAAsB;AACpBN,WAAK,GAAGG,IAAI,CAACK,KAAL,CAAWR,KAAX,CAAR;AACAK,cAAQ,GAAGT,QAAQ,gDACuBH,OAAO,CAACa,CAAD,CAD9B,GAEjB,OAFiB,EAGjBN,KAHiB,CAAnB;AAKA;AACD;;AAEDA,SAAK,IAAIR,KAAK,CAACc,CAAD,CAAd;AACD;;AAED,MAAID,QAAQ,KAAKI,SAAjB,EAA4B;AAC1BT,SAAK,GAAGG,IAAI,CAACK,KAAL,CAAWR,KAAX,CAAR;AACAK,YAAQ,GAAGT,QAAQ,CACjB,2CADiB,EAEjB,OAFiB,EAGjBI,KAHiB,CAAnB;AAKD;;AAED,SAAOH,OAAO,CAACa,YAAR,KAAyB,KAAzB,GACHL,QADG,GAEHT,QAAQ,uCAAgCM,KAAhC,GAAyC,MAAzC,EAAiDG,QAAjD,CAFZ;AAGD,C;;;;;;;;;;;;ACnDD;AAAA;AAAA,IAAMM,OAAO,GAAG,SAAVA,OAAU,CAACC,GAAD;AAAA,SAAkBA,GAAG,GAAG,EAAN,cAAeA,GAAf,IAAuBA,GAAzC;AAAA,CAAhB;;AAEe,SAASC,iBAAT,CAA2BC,CAA3B,EAAsC;AACnD,MAAMC,CAAC,GAAGZ,IAAI,CAACK,KAAL,CAAWM,CAAC,GAAG,IAAf,CAAV;AACA,MAAME,CAAC,GAAGb,IAAI,CAACK,KAAL,CAAYM,CAAC,GAAG,IAAL,GAAa,EAAxB,CAAV;AACA,MAAMG,CAAC,GAAGd,IAAI,CAACK,KAAL,CAAYM,CAAC,GAAG,IAAL,GAAa,EAAxB,CAAV;;AAEA,MAAIC,CAAC,GAAG,CAAR,EAAW;AACT,qBAAUA,CAAV,cAAeJ,OAAO,CAACK,CAAD,CAAtB,cAA6BL,OAAO,CAACM,CAAD,CAApC;AACD;;AACD,MAAID,CAAC,GAAG,CAAR,EAAW;AACT,qBAAUA,CAAV,cAAeL,OAAO,CAACM,CAAD,CAAtB;AACD;;AACD,MAAIA,CAAC,GAAG,CAAR,EAAW;AACT,WAAO,KAAKA,CAAZ;AACD;;AACD,SAAO,IAAP;AACD,C;;;;;;;;;;;;ACjBD;AAAA;AAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,EAAD;AAAA,SAAQA,EAAE,CAACD,eAAH,EAAR;AAAA,CAAxB,C;;;;;;;;;;;;ACEP;AAAA;AAAO,IAAME,eAAe,GAAG,SAAlBA,eAAkB,CAC7BC,QAD6B,EAE7BC,OAF6B,EAGjB;AACZ;AACA,SAAO,CAACD,QAAQ,CAACE,UAAT,CAAoBC,kBAApB,GAA0CF,OAA3C,MAAwD,CAA/D;AACD,CANM,C;;;;;;;;;;;;ACDP;AAAA;AAAA;AAAA;AAEe,SAASG,kBAAT,CAA4BJ,QAA5B,EAAkD;AAC/D,MAAIK,aAAa,GAAGxC,6EAAiB,CAACmC,QAAQ,CAACE,UAAT,CAAoBI,SAArB,CAArC;;AAEA,MAAIN,QAAQ,CAACO,KAAT,KAAmB,QAAvB,EAAiC;AAC/B,QAAMC,GAAG,GAAG,IAAI9B,IAAJ,GAAWE,OAAX,EAAZ;AACA,QAAM6B,UAAU,GAAG,IAAI/B,IAAJ,CAASsB,QAAQ,CAACU,YAAlB,EAAgC9B,OAAhC,EAAnB;AACAyB,iBAAa,GAAGvB,IAAI,CAAC6B,GAAL,CAASN,aAAa,GAAG,CAACG,GAAG,GAAGC,UAAP,IAAqB,IAA9C,EAAoD,CAApD,CAAhB;AACD;;AAED,SAAOJ,aAAP;AACD,C;;;;;;;;;;;;;;;;;;ACPM,IAAMO,oBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG,iBAClCC,QADkC,EAElCC,SAFkC,EAGlCC,IAHkC,EAQlCvD,IARkC,EASlCwD,QATkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,sCAU/BC,IAV+B;AAU/BA,kBAV+B;AAAA;;AAY9BC,iBAZ8B,GAYO1D,IAAD,CAAcqD,QAAd,CAZN;;AAclC,gBAAI,CAACK,KAAL,EAAY;AACVA,mBAAK,GAAG1D,IAAI,CAACqD,QAAD,CAAJ,GAAiB,EAAzB;AACD;;AAEKM,sBAlB4B,GAkBfD,KAAK,CAACF,QAAD,CAlBU;;AAAA,iBAoB9BG,UApB8B;AAAA;AAAA;AAAA;;AAAA,6CAqBzBA,UArByB;;AAAA;AAwB5BC,kBAxB4B,GAwBnBL,IAAI,MAAJ,UAAKvD,IAAL,EAAWwD,QAAX,SAAwBC,IAAxB,EAxBmB;AAyBlCC,iBAAK,CAACF,QAAD,CAAL,GAAkBI,MAAlB;AAEAA,kBAAM,CAACC,IAAP,EACE;AACA;AAAA,qBACEC,UAAU,CAAC,YAAM;AACfJ,qBAAK,CAAEF,QAAF,CAAL,GAAmB5B,SAAnB;AACD,eAFS,EAEP0B,SAFO,CADZ;AAAA,aAFF,EAME;AACA,wBAAM;AACJI,mBAAK,CAAEF,QAAF,CAAL,GAAmB5B,SAAnB;AACD,aATH;AA3BkC,6CAuC3BgC,MAvC2B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAApBR,oBAAoB;AAAA;AAAA;AAAA,GAA1B,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNP;AACA;AAEA;AAEA;;;;IAGMW,c;;;;;;;;;;;;;yCAyDiB/D,I,EAAMwC,Q,EAAU;AACnC,UAAI,CAACxC,IAAD,IAAS,CAACwC,QAAd,EAAwB,OAAO,IAAP;;AACxB,UAAIA,QAAQ,CAACE,UAAT,CAAoBsB,mBAApB,IAA2C,IAA/C,EAAqD;AACnD,yBAAUxB,QAAQ,CAACE,UAAT,CAAoBsB,mBAA9B,cACEhE,IAAI,CAACE,MAAL,CAAY+D,WAAZ,CAAwBC,WAD1B;AAGD;;AACD,UAAI1B,QAAQ,CAACE,UAAT,CAAoByB,gBAApB,IAAwC,IAA5C,EAAkD;AAChD,yBAAU3B,QAAQ,CAACE,UAAT,CAAoByB,gBAA9B;AACD;;AACD,aAAO,IAAP;AACD;;;kCAEanE,I,EAAMwC,Q,EAAU;AAC5B,UAAI,CAACxC,IAAD,IAAS,CAACwC,QAAd,EAAwB,OAAO,IAAP,CADI,CAE5B;;AACA,UACEA,QAAQ,CAACE,UAAT,CAAoB0B,eAApB,IAAuC,IAAvC,IACA5B,QAAQ,CAACE,UAAT,CAAoB2B,gBAApB,IAAwC,IAF1C,EAGE;AACA,yBAAU7B,QAAQ,CAACE,UAAT,CAAoB0B,eAA9B,gBACE5B,QAAQ,CAACE,UAAT,CAAoB2B,gBADtB,cAEIrE,IAAI,CAACE,MAAL,CAAY+D,WAAZ,CAAwBC,WAF5B;AAGD;;AACD,UAAI1B,QAAQ,CAACE,UAAT,CAAoBwB,WAApB,IAAmC,IAAvC,EAA6C;AAC3C,yBAAU1B,QAAQ,CAACE,UAAT,CAAoBwB,WAA9B,cACElE,IAAI,CAACE,MAAL,CAAY+D,WAAZ,CAAwBC,WAD1B;AAGD;;AACD,UACE1B,QAAQ,CAACE,UAAT,CAAoB4B,mBAApB,IAA2C,IAA3C,IACA9B,QAAQ,CAACE,UAAT,CAAoB6B,oBAApB,IAA4C,IAF9C,EAGE;AACA,yBAAU/B,QAAQ,CAACE,UAAT,CAAoB4B,mBAA9B,gBACE9B,QAAQ,CAACE,UAAT,CAAoB6B,oBADtB;AAGD;;AACD,UAAI/B,QAAQ,CAACE,UAAT,CAAoB8B,QAApB,IAAgC,IAApC,EAA0C;AACxC,yBAAUhC,QAAQ,CAACE,UAAT,CAAoB8B,QAA9B;AACD;;AAED,aAAO,EAAP;AACD;;;mCAEczB,K,EAAO;AACpB,aAAOA,KAAK,KAAK,SAAjB;AACD;;;mCAEcA,K,EAAO;AACpB,aAAO,KAAKhC,QAAL,yBAA+BgC,KAA/B,MAA2CA,KAAlD;AACD;;;wBA1GqB;AACpB,aAAO0B,gFAAP;AA0CD;;;wBAEuB;AACtB,aAAO;AACLzE,YAAI,EAAE0E,MADD;AAELlC,gBAAQ,EAAEkC,MAFL;AAGLC,qBAAa,EAAE;AACbC,cAAI,EAAEC,MADO;AAEbC,kBAAQ,EAAE;AAFG;AAHV,OAAP;AAQD;;;;EAvD0BC,sEAAa,CAACC,+EAAD,C;;AA6G1CC,cAAc,CAACC,MAAf,CAAsB,kBAAtB,EAA0CnB,cAA1C,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrHA;AACA;AACA;AAEA;;IAEMoB,e;;;;;;;;;;;;;qCAiDanF,I,EAAMwC,Q,EAAU;AAC/B,aAAO,IAAI4C,yDAAJ,CAAgBpF,IAAhB,EAAsBwC,QAAtB,CAAP;AACD;;;wCAEmBA,Q,EAAU6C,S,EAAW;AACvC,UAAIC,YAAY,GAAG9C,QAAQ,CAACE,UAAT,CAAoB6C,aAApB,KAAsC,IAAzD;AACA,aAAO,CAACF,SAAS,CAACG,WAAV,IAAyBH,SAAS,CAACI,SAApC,KAAkD,CAACH,YAA1D;AACD;;;0CAEqB9C,Q,EAAU6C,S,EAAW;AACzC,UAAIC,YAAY,GAAG9C,QAAQ,CAACE,UAAT,CAAoB6C,aAApB,KAAsC,IAAzD;AACA,aAAO,CAACF,SAAS,CAACK,aAAV,IAA2BL,SAAS,CAACM,SAAtC,KAAoD,CAACL,YAA5D;AACD;;;8BAEShD,E,EAAI;AACZA,QAAE,CAACD,eAAH;AACA,WAAKgD,SAAL,CAAeO,SAAf;AACD;;;+BAEUtD,E,EAAI;AACbA,QAAE,CAACD,eAAH;AACA,WAAKgD,SAAL,CAAeQ,UAAf;AACD;;;8BAESvD,E,EAAI;AACZA,QAAE,CAACD,eAAH;AACA,WAAKgD,SAAL,CAAeS,SAAf;AACD;;;wBA3EqB;AACpB,aAAOrB,gFAAP;AA8BD;;;wBAEuB;AACtB,aAAO;AACLzE,YAAI,EAAE;AACJ4E,cAAI,EAAEF;AADF,SADD;AAILlC,gBAAQ,EAAE;AACRoC,cAAI,EAAEF;AADE,SAJL;AAOLW,iBAAS,EAAE;AACTT,cAAI,EAAEF,MADG;AAETI,kBAAQ,EAAE;AAFD;AAPN,OAAP;AAYD;;;;EA/C2BE,+E;;AA+E9BC,cAAc,CAACC,MAAf,CAAsB,mBAAtB,EAA2CC,eAA3C,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrFA;AACA;AACA;AACA;AAEA;;IAEMY,mB;;;;;;;;;;;;;qCAkDa/F,I,EAAMwC,Q,EAAU;AAC/B,aAAO,IAAI4C,yDAAJ,CAAgBpF,IAAhB,EAAsBwC,QAAtB,CAAP;AACD;;;wCAEmBA,Q,EAAU6C,S,EAAW;AACvC,UAAIC,YAAY,GAAG9C,QAAQ,CAACE,UAAT,CAAoB6C,aAApB,KAAsC,IAAzD;AACA,aAAOF,SAAS,CAACW,eAAV,IAA6B,CAACV,YAArC;AACD;;;0CAEqB9C,Q,EAAU6C,S,EAAW;AACzC,UAAIC,YAAY,GAAG9C,QAAQ,CAACE,UAAT,CAAoB6C,aAApB,KAAsC,IAAzD;AACA,aAAOF,SAAS,CAACY,iBAAV,IAA+B,CAACX,YAAvC;AACD;;;kCAEahD,E,EAAI;AAChBA,QAAE,CAACD,eAAH;AACA,WAAKgD,SAAL,CAAea,aAAf;AACD;;;mCAEc5D,E,EAAI;AACjBA,QAAE,CAACD,eAAH;AACA,WAAKgD,SAAL,CAAec,cAAf;AACD;;;kCAEa7D,E,EAAI;AAChBA,QAAE,CAACD,eAAH;AACA,WAAKgD,SAAL,CAAee,aAAf;AACD;;;wBA5EqB;AACpB,aAAO3B,gFAAP;AA+BD;;;wBAEuB;AACtB,aAAO;AACLzE,YAAI,EAAE;AACJ4E,cAAI,EAAEF;AADF,SADD;AAILlC,gBAAQ,EAAE;AACRoC,cAAI,EAAEF;AADE,SAJL;AAOLW,iBAAS,EAAE;AACTT,cAAI,EAAEF,MADG;AAETI,kBAAQ,EAAE;AAFD;AAPN,OAAP;AAYD;;;;EAhD+BE,+E;;AAgFlCC,cAAc,CAACC,MAAf,CAAsB,wBAAtB,EAAgDa,mBAAhD,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvFA;AACA;AAEA,IAAIM,MAAM,GAAG,IAAb;AAEA;;;;;AAIA,IAAMC,YAAY,GAAG,CAAC,KAAD,EAAQ,MAAR,CAArB;AAEA;;;;IAGMC,U;;;;;;;;;;;;;wCAcgB;AAAA;;AAClB,wFADkB,CAElB;;;AACA,WAAKC,aAAL,GAAqB,CAArB;AACA,WAAKC,gBAAL,GAAwB,KAAxB;;AACA,WAAKC,OAAL,GAAe;AAAA,eAAM,KAAI,CAACC,IAAL,CAAU,aAAV,CAAN;AAAA,OAAf;;AAEA,UAAI,CAACN,MAAL,EAAa;AACXA,cAAM,GAAG,+OAAT;AACD;;AACDA,YAAM,CACHxC,IADH,CAEI,gBAA2B;AAAA,YAAxB+C,MAAwB,QAAxBA,MAAwB;AAAA,YAAhBC,SAAgB,QAAhBA,SAAgB;AACzB,aAAI,CAACD,MAAL,GAAcA,MAAd;AACA,aAAI,CAACC,SAAL,GAAiBA,SAAjB;AACA,aAAI,CAACL,aAAL,GAAqB,CAArB;AACD,OANL,EAOI,YAAM;AACJ,aAAI,CAACA,aAAL,GAAqB,CAArB;AACD,OATL,EAWG3C,IAXH,CAWQ;AAAA,eAAM,KAAI,CAACiD,OAAL,EAAN;AAAA,OAXR;AAYD;;;8BAES;AAAA;;AACR,UAAI,KAAKN,aAAL,KAAuB,CAAvB,IAA4B,KAAKC,gBAArC,EAAuD;AAEvD,WAAKA,gBAAL,GAAwB,IAAxB,CAHQ,CAKR;;AACAM,aAAO,CAACC,OAAR,GAAkBnD,IAAlB,CAAuB,YAAM;AAC3B,cAAI,CAAC4C,gBAAL,GAAwB,KAAxB;;AAEA,YAAI,MAAI,CAACD,aAAL,KAAuB,CAA3B,EAA8B;AAC5B,gBAAI,CAACS,SAAL,GAAiB,MAAI,CAACJ,SAAL,CACf,MAAI,CAACD,MAAL,CAAY,MAAI,CAACM,OAAjB,EAA0B;AACxBC,eAAG,EAAE,IADmB;AAExBC,kBAAM,EAAE,IAFgB;AAGxBC,kBAAM,EAAE;AAHgB,WAA1B,CADe,EAMf;AACEC,uBAAW,EAAE,MAAI,CAACC,QAAL,GACT,UAACC,GAAD,EAAM/C,IAAN;AAAA,qBAAgB6B,YAAY,CAAClG,OAAb,CAAqBoH,GAArB,KAA6B,CAA7B,GAAiC/C,IAAjC,GAAwC,IAAxD;AAAA,aADS,GAET;AAHN,WANe,CAAjB;;AAYA,gBAAI,CAACiC,OAAL;;AAEA,cAAMe,MAAM,GAAGC,QAAQ,CAACC,gBAAT,CACb,MADa,EAEb;AAAE;AAFW,YAGb,IAHa,EAIb,KAJa,CAAf;;AAOA,iBAAOF,MAAM,CAACG,QAAP,EAAP,EAA0B;AACxB,gBAAMC,IAAI,GAAGJ,MAAM,CAACK,WAApB,CADwB,CAGxB;;AACA,gBAAID,IAAI,CAACE,OAAL,KAAiB,GAAjB,IAAwBF,IAAI,CAACG,IAAL,KAAcN,QAAQ,CAACO,QAAT,CAAkBD,IAA5D,EAAkE;AAChEH,kBAAI,CAACK,MAAL,GAAc,QAAd,CADgE,CAGhE;AACD,aAJD,MAIO,IAAIL,IAAI,CAACE,OAAL,KAAiB,KAArB,EAA4B;AACjCF,kBAAI,CAACM,gBAAL,CAAsB,MAAtB,EAA8B,MAAI,CAACzB,OAAnC;AACD;AACF;AACF,SAlCD,MAkCO,IAAI,MAAI,CAACF,aAAL,KAAuB,CAA3B,EAA8B;AACnC,gBAAI,CAAC4B,SAAL,GAAiB,MAAI,CAAClB,OAAtB;AACD;AACF,OAxCD;AAyCD;;;wBApFuB;AACtB,aAAO;AACLA,eAAO,EAAE;AACPtC,cAAI,EAAEC,MADC;AAEPwD,kBAAQ,EAAE;AAFH,SADJ;AAKLd,gBAAQ,EAAE;AACR3C,cAAI,EAAE0D,OADE;AAERC,eAAK,EAAE;AAFC;AALL,OAAP;AAUD;;;;EAZsBC,wEAAW,CAACxD,+EAAD,C;;AAwFpCC,cAAc,CAACC,MAAf,CAAsB,aAAtB,EAAqCqB,UAArC,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtGA;AACA;AAEA;AAEA;AAEA;;;;IAGMkC,c;;;;;;;wBACoB;AACtB,aAAO;AACLzI,YAAI,EAAE0E,MADD;AAELgE,gBAAQ,EAAE;AACR9D,cAAI,EAAEC,MADE;AAERwD,kBAAQ,EAAE;AAFF,SAFL;AAOLM,mBAAW,EAAE;AACX/D,cAAI,EAAEF,MADK;AAEX2D,kBAAQ,EAAE;AAFC,SAPR;AAYLO,sBAAc,EAAElE;AAZX,OAAP;AAcD;;;AAED,4BAAc;AAAA;;AAAA;;AACZ;AACA,UAAKmE,cAAL,GAAsB,MAAKA,cAAL,CAAoBC,IAApB,+BAAtB;AAFY;AAGb;;;;wCAEmB;AAClB,4FADkB,CAElB;;;AACA,WAAKC,cAAL,GAAsBC,WAAW,CAAC,KAAKH,cAAN,EAAsB,KAAtB,CAAjC;AACD;;;2CAEsB;AACrB;;AACAI,mBAAa,CAAC,KAAKF,cAAN,CAAb;AACD;;;oCAEeG,M,EAAQ;AACtB,WAAKN,cAAL,GAAsBM,MAAM,GAAG,IAAIhI,IAAJ,CAASgI,MAAT,CAAH,GAAsB,IAAlD;AAEA,WAAKL,cAAL;AACD;;;uCAEkBK,M,EAAQ;AACzB,WAAKN,cAAL,GAAsBM,MAAtB;AAEA,WAAKL,cAAL;AACD;;;qCAEgB;AACf,UAAMM,IAAI,GAAGC,mFAAG,CAAC,IAAD,CAAhB;;AACA,UAAI,CAAC,KAAKR,cAAV,EAA0B;AACxBO,YAAI,CAAClC,SAAL,GAAiB,KAAKlG,QAAL,CAAc,mCAAd,CAAjB;AACD,OAFD,MAEO;AACLoI,YAAI,CAAClC,SAAL,GAAiBpG,8EAAY,CAAC,KAAK+H,cAAN,EAAsB,KAAK7H,QAA3B,CAA7B;AACD;AACF;;;;EArD0BgE,sEAAa,CAACC,+EAAD,C;;AAwD1CC,cAAc,CAACC,MAAf,CAAsB,kBAAtB,EAA0CuD,cAA1C,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClEA;AAEA,IAAMY,gBAAgB,GAAGpE,cAAc,CAACqE,GAAf,CAAmB,cAAnB,CAAzB;AACA,IAAIC,WAAJ;;IAEMC,Q;;;;;;;;;;;;;8BAoBMjB,K,EAAO;AACf,UAAI,CAAC,KAAKkB,IAAV,EAAgB;AACd,eAAOC,UAAU,CAACnB,KAAD,CAAjB;AACD;;AAED,UAAMoB,QAAQ,GAAGrI,IAAI,CAACsI,KAAL,CAAW,CAACrB,KAAK,GAAG,KAAKsB,GAAd,IAAqB,KAAKJ,IAArC,CAAjB;AACA,UAAMK,OAAO,GAAG,KAAKL,IAAL,CAAUM,QAAV,EAAhB;AACA,UAAMC,WAAW,GAAGF,OAAO,CAAC1J,OAAR,CAAgB,GAAhB,CAApB;;AACA,UAAI4J,WAAW,KAAK,CAAC,CAArB,EAAwB;AACtB;;;;;;;;;AASA,YAAMC,SAAS,YAAG,EAAH,EAAUH,OAAO,CAACpI,MAAR,GAAiBsI,WAAjB,GAA+B,CAAzC,CAAf;AACA,eACE1I,IAAI,CAACsI,KAAL,CAAW,CAACD,QAAQ,GAAG,KAAKF,IAAhB,GAAuB,KAAKI,GAA7B,IAAoCI,SAA/C,IAA4DA,SAD9D;AAGD;;AAED,aAAON,QAAQ,GAAG,KAAKF,IAAhB,GAAuB,KAAKI,GAAnC;AACD;;;wBA5CqB;AACpB,UAAI,CAACN,WAAL,EAAkB;AAChBA,mBAAW,GAAGF,gBAAgB,CAACa,QAAjB,CAA0BC,SAA1B,CAAoC,IAApC,CAAd;AAEA,YAAMC,UAAU,GAAGb,WAAW,CAACrC,OAAZ,CAAoBmD,aAApB,CAAkC,OAAlC,CAAnB,CAHgB,CAKhB;;AACAD,kBAAU,CAACE,WAAX,CACE5C,QAAQ,CAAC6C,cAAT,sSADF;AAQD;;AACD,aAAOhB,WAAP;AACD;;;;EAlBoBF,gB;;AA+CvBpE,cAAc,CAACC,MAAf,CAAsB,WAAtB,EAAmCsE,QAAnC,E;;;;;;;;;;;;ACpCA;AAAA;AAAA;AAAA;AAAO,IAAMgB,OAAO,aAAMvC,QAAQ,CAACwC,QAAf,eAA4BxC,QAAQ,CAACD,IAArC,CAAb;AAEA,IAAM0C,aAAa,GAAG,SAAhBA,aAAgB,CAC3B1K,IAD2B,EAE3B2K,IAF2B;AAAA,SAGH3K,IAAI,CAAC4K,MAAL,CAAY;AAAEhG,QAAI,EAAE,gBAAR;AAA0B+F,QAAI,EAAJA;AAA1B,GAAZ,CAHG;AAAA,CAAtB;AAKA,IAAME,kBAAkB,GAAG,SAArBA,kBAAqB;AAAA,SAChCC,KAAK,CAAC,iBAAD,EAAoB;AACvBC,eAAW,EAAE;AADU,GAApB,CAD2B;AAAA,CAA3B,C;;;;;;;;;;;;ACtBP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEO,IAAMC,qBAAqB,GAAG,CAA9B;AACA,IAAMC,qBAAqB,GAAG,CAA9B;AAeA,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACC,MAAD;AAAA,4CACPA,MAAM,CAACC,SADA,oBAEjCD,MAAM,CAACzI,UAAP,CAAkB2I,YAFe;AAAA,CAA9B;AAKA,IAAMC,0BAA0B,GAAG,SAA7BA,0BAA6B,CACxCtL,IADwC,EAExCwD,QAFwC;AAAA,SAIxCJ,qGAAoB,CAClB,eADkB,EAElB,IAFkB,EAGlBmI,iBAHkB,EAIlBvL,IAJkB,EAKlBwD,QALkB,CAJoB;AAAA,CAAnC;AAYA,IAAM+H,iBAAiB,GAAG,SAApBA,iBAAoB,CAACvL,IAAD,EAAsBwD,QAAtB;AAAA,SAC/BkH,2DAAa,CAAC1K,IAAD,8BAA4BwD,QAA5B,EAAb,CAAqDK,IAArD,CAA0D;AAAA,QAAG8G,IAAH,QAAGA,IAAH;AAAA,WAAcA,IAAd;AAAA,GAA1D,CAD+B;AAAA,CAA1B;AAGA,IAAMa,cAAc,GAAG,SAAjBA,cAAiB,CAACxL,IAAD,EAAsBwD,QAAtB,EAA2C;AACvE;AACAiI,SAAO,CAACC,IAAR,CAAa,kCAAb;AACA,SAAO1L,IAAI,CAAC4K,MAAL,CAA6B;AAClChG,QAAI,EAAE,kBAD4B;AAElCwG,aAAS,EAAE5H;AAFuB,GAA7B,CAAP;AAID,CAPM;AASA,IAAMmI,cAAc,GAAG,SAAjBA,cAAiB,CAC5B3L,IAD4B,EAE5BwD,QAF4B,EAG5BoI,MAH4B,EAIzB;AACH,MAAMC,IAAI,GAAG;AACXjH,QAAI,EAAE,eADK;AAEXwG,aAAS,EAAE5H;AAFA,GAAb;;AAIA,MAAIoI,MAAJ,EAAY;AACV;AACAC,QAAI,CAACD,MAAL,GAAcA,MAAd;AACD;;AACD,SAAO5L,IAAI,CAAC4K,MAAL,CAAoBiB,IAApB,CAAP;AACD,CAdM;AAgBA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAC9L,IAAD,EAAsBwD,QAAtB;AAAA,SAC9BxD,IAAI,CAAC4K,MAAL,CAA+B;AAC7BhG,QAAI,EAAE,kBADuB;AAE7BwG,aAAS,EAAE5H;AAFkB,GAA/B,CAD8B;AAAA,CAAzB;AAMA,IAAMuI,iBAAiB,GAAG,SAApBA,iBAAoB,CAC/B/L,IAD+B,EAE/BwD,QAF+B,EAG/BwI,KAH+B;AAAA,SAO/BhM,IAAI,CAAC4K,MAAL;AACEhG,QAAI,EAAE,qBADR;AAEEwG,aAAS,EAAE5H;AAFb,KAGKwI,KAHL,EAP+B;AAAA,CAA1B,C;;;;;;;;;;;;ACrEP;AAAA;AAAO,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAClCjM,IADkC,EAElCmL,MAFkC,EAGlCe,MAHkC;AAAA,SAKlClM,IAAI,CAACmM,WAAL,CAAiB,cAAjB,EAAiC,eAAjC,EAAkD;AAChDD,UAAM,EAANA,MADgD;AAEhDd,aAAS,EAAED;AAFqC,GAAlD,CALkC;AAAA,CAA7B,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFP;AAEA;;IACqB/F,W;;;AACnB,uBAAYpF,IAAZ,EAAkBwC,QAAlB,EAA4B;AAAA;;AAC1B,SAAKxC,IAAL,GAAYA,IAAZ;AACA,SAAKwC,QAAL,GAAgBA,QAAhB;AACA,SAAK4J,KAAL,GAAa5J,QAAQ,CAACE,UAAtB;AACA,SAAK2J,KAAL,GAAa,KAAKD,KAAL,CAAWzJ,kBAAxB;AACD;;;;gCAwEW;AACV,WAAKwJ,WAAL,CAAiB,YAAjB;AACD;;;iCAEY;AACX,WAAKA,WAAL,CAAiB,aAAjB;AACD;;;gCAEW;AACV,WAAKA,WAAL,CAAiB,YAAjB;AACD;;;oCAEe;AACd,WAAKA,WAAL,CAAiB,iBAAjB;AACD;;;qCAEgB;AACf,WAAKA,WAAL,CAAiB,kBAAjB;AACD;;;oCAEe;AACd,WAAKA,WAAL,CAAiB,iBAAjB;AACD;;;qCAEgBG,Q,EAAU;AACzB,WAAKH,WAAL,CAAiB,oBAAjB,EAAuC;AAAEG,gBAAQ,EAARA;AAAF,OAAvC;AACD;;;yCAEoBC,Y,EAAc;AACjC,WAAKJ,WAAL,CAAiB,yBAAjB,EAA4C;AAC1CK,qBAAa,EAAED;AAD2B,OAA5C;AAGD,K,CAED;;;;gCAEYE,O,EAAoB;AAAA,UAAXZ,IAAW,uEAAJ,EAAI;AAC9BA,UAAI,CAACT,SAAL,GAAiB,KAAK5I,QAAL,CAAc4I,SAA/B;AACA,WAAKpL,IAAL,CAAUmM,WAAV,CAAsB,OAAtB,EAA+BM,OAA/B,EAAwCZ,IAAxC;AACD;;;wBA7GiB;AAChB,UAAI,KAAKO,KAAL,CAAWM,gBAAX,KAAgC9K,SAApC,EAA+C;AAC7C,eAAO,KAAKwK,KAAL,CAAWM,gBAAX,KAAgC,GAAvC;AACD;;AACD,aAAO,KAAKlK,QAAL,CAAcO,KAAd,KAAwB,MAA/B;AACD;;;wBAEmB;AAClB,UAAI,KAAKqJ,KAAL,CAAWM,gBAAX,KAAgC9K,SAApC,EAA+C;AAC7C,eAAO,KAAKwK,KAAL,CAAWM,gBAAX,KAAgC,CAAvC;AACD;;AACD,aAAO,KAAKlK,QAAL,CAAcO,KAAd,KAAwB,QAA/B;AACD;;;wBAEqB;AACpB,aAAO,KAAKqJ,KAAL,CAAWO,qBAAX,KAAqC,GAA5C;AACD;;;wBAEuB;AACtB,aAAO,KAAKP,KAAL,CAAWO,qBAAX,KAAqC,CAA5C;AACD;;;wBAEe;AACd,aAAO,KAAKnK,QAAL,CAAcO,KAAd,KAAwB,SAA/B;AACD;;;wBAEe;AACd,aAAO,KAAKP,QAAL,CAAcO,KAAd,KAAwB,SAA/B;AACD;;;wBAEkB;AACjB,aAAOR,uFAAe,CAAC,KAAKC,QAAN,EAAgB,CAAhB,CAAtB;AACD;;;wBAEmB;AAClB,aAAOD,uFAAe,CAAC,KAAKC,QAAN,EAAgB,CAAhB,CAAtB;AACD;;;wBAEyB;AACxB,aAAOD,uFAAe,CAAC,KAAKC,QAAN,EAAgB,CAAhB,CAAtB;AACD;;;wBAEkB;AACjB,aAAOD,uFAAe,CAAC,KAAKC,QAAN,EAAgB,CAAhB,CAAtB;AACD;;;wBAEsB;AACrB,aAAOD,uFAAe,CAAC,KAAKC,QAAN,EAAgB,EAAhB,CAAtB;AACD;;;wBAEuB;AACtB,aAAOD,uFAAe,CAAC,KAAKC,QAAN,EAAgB,EAAhB,CAAtB;AACD;;;wBAEsB;AACrB,aAAOD,uFAAe,CAAC,KAAKC,QAAN,EAAgB,EAAhB,CAAtB;AACD;;;wBAE6B;AAC5B,aAAOD,uFAAe,CAAC,KAAKC,QAAN,EAAgB,GAAhB,CAAtB;AACD;;;wBAEgB;AACf,UAAMoK,aAAa,GACjB,KAAKC,YAAL,IAAqB,KAAKC,aAA1B,IAA2C,KAAKC,YADlD;AAEA,UAAMC,YAAY,GAChB,KAAKC,gBAAL,IAAyB,KAAKC,iBAA9B,IAAmD,KAAKC,gBAD1D;AAEA,aAAOH,YAAY,IAAI,CAACJ,aAAxB;AACD;;;;;;;AA4CI,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACrK,QAAD;AAAA,SAAcD,uFAAe,CAACC,QAAD,EAAW,CAAX,CAA7B;AAAA,CAArB;AAEA,IAAMsK,aAAa,GAAG,SAAhBA,aAAgB,CAACtK,QAAD;AAAA,SAAcD,uFAAe,CAACC,QAAD,EAAW,CAAX,CAA7B;AAAA,CAAtB;AAEA,IAAM4K,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAC5K,QAAD;AAAA,SAAcD,uFAAe,CAACC,QAAD,EAAW,CAAX,CAA7B;AAAA,CAA5B;AAEA,IAAMuK,YAAY,GAAG,SAAfA,YAAe,CAACvK,QAAD;AAAA,SAAcD,uFAAe,CAACC,QAAD,EAAW,CAAX,CAA7B;AAAA,CAArB;AAEA,IAAMyK,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACzK,QAAD;AAAA,SAAcD,uFAAe,CAACC,QAAD,EAAW,EAAX,CAA7B;AAAA,CAAzB;AAEA,IAAM0K,iBAAiB,GAAG,SAApBA,iBAAoB,CAAC1K,QAAD;AAAA,SAAcD,uFAAe,CAACC,QAAD,EAAW,EAAX,CAA7B;AAAA,CAA1B;AAEA,IAAM2K,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAC3K,QAAD;AAAA,SAAcD,uFAAe,CAACC,QAAD,EAAW,EAAX,CAA7B;AAAA,CAAzB;AAEA,IAAM6K,uBAAuB,GAAG,SAA1BA,uBAA0B,CAAC7K,QAAD;AAAA,SACrCD,uFAAe,CAACC,QAAD,EAAW,GAAX,CADsB;AAAA,CAAhC;AAGA,SAAS8K,UAAT,CAAoB9K,QAApB,EAA8B;AACnC,MAAMoK,aAAa,GACjBC,YAAY,CAACrK,QAAD,CAAZ,IAA0BsK,aAAa,CAACtK,QAAD,CAAvC,IAAqDuK,YAAY,CAACvK,QAAD,CADnE;AAEA,MAAMwK,YAAY,GAChBC,gBAAgB,CAACzK,QAAD,CAAhB,IACA0K,iBAAiB,CAAC1K,QAAD,CADjB,IAEA2K,gBAAgB,CAAC3K,QAAD,CAHlB;AAIA,SAAOwK,YAAY,IAAI,CAACJ,aAAxB;AACD,C;;;;;;;;;;;;;;;;;;;;;ACpJD;;IAEqBW,iB;;;AACnB,6BAAYvN,IAAZ,EAAkBwC,QAAlB,EAA4B;AAAA;;AAC1B,SAAKxC,IAAL,GAAYA,IAAZ;AACA,SAAKwC,QAAL,GAAgBA,QAAhB;AACA,SAAK4J,KAAL,GAAa5J,QAAQ,CAACE,UAAtB;AACA,SAAK2J,KAAL,GAAa,KAAKD,KAAL,CAAWzJ,kBAAxB;AACD;;;;qCAuJgB;AACf,WAAKwJ,WAAL,CAAiB,kBAAjB;AACD;;;gCAEW;AACV,WAAKA,WAAL,CAAiB,kBAAjB;AACD;;;sCAEiB;AAChB,WAAKA,WAAL,CAAiB,kBAAjB;AACD;;;oCAEe;AACd,WAAKA,WAAL,CAAiB,sBAAjB;AACD;;;8BAESqB,M,EAAQ;AAChB,WAAKrB,WAAL,CAAiB,YAAjB,EAA+B;AAAEsB,oBAAY,EAAED;AAAhB,OAA/B;AACD;;;kCAEa;AACZ,UAAI,KAAKE,KAAT,EAAgB;AACd,aAAKC,MAAL;AACD,OAFD,MAEO;AACL,aAAKC,OAAL;AACD;AACF;;;8BAES;AACR,WAAKzB,WAAL,CAAiB,UAAjB;AACD;;;6BAEQ;AACP,WAAKA,WAAL,CAAiB,SAAjB;AACD;;;iCAEY;AACX,WAAKA,WAAL,CAAiB,aAAjB;AACD;;;+BAEU0B,I,EAAM;AACf,UAAI,CAAC,KAAKC,kBAAV,EAA8B;AAC5B,cAAM,IAAIC,KAAJ,CAAU,6BAAV,CAAN;AACD;;AACD,WAAK5B,WAAL,CAAiB,aAAjB,EAAgC;AAAE6B,uBAAe,EAAEH;AAAnB,OAAhC;AACD;;;+BAEU;AACT,WAAK1B,WAAL,CAAiB,WAAjB;AACD;;;iCAEY8B,M,EAAQ;AACnB,WAAK9B,WAAL,CAAiB,eAAjB,EAAkC;AAAE8B,cAAM,EAANA;AAAF,OAAlC;AACD;;;oCAEeC,S,EAAW;AACzB,WAAK/B,WAAL,CAAiB,mBAAjB,EAAsC;AAAEgC,kBAAU,EAAED;AAAd,OAAtC;AACD,K,CAED;;;;gCAEYzB,O,EAAoB;AAAA,UAAXZ,IAAW,uEAAJ,EAAI;AAC9BA,UAAI,CAACT,SAAL,GAAiB,KAAK5I,QAAL,CAAc4I,SAA/B;AACA,WAAKpL,IAAL,CAAUmM,WAAV,CAAsB,cAAtB,EAAsCM,OAAtC,EAA+CZ,IAA/C;AACD;;;wBArNW;AACV,aAAO,KAAKrJ,QAAL,CAAcO,KAAd,KAAwB,KAA/B;AACD;;;wBAEY;AACX,aAAO,KAAKP,QAAL,CAAcO,KAAd,KAAwB,MAA/B;AACD;;;wBAEa;AACZ,aAAO,KAAKqJ,KAAL,CAAW4B,eAAlB;AACD;;;wBAEc;AACb,aAAO,KAAKxL,QAAL,CAAcO,KAAd,KAAwB,QAA/B;AACD;;;wBAEe;AACd,aAAO,KAAKP,QAAL,CAAcO,KAAd,KAAwB,SAA/B;AACD;;;wBAEa;AACZ,aAAO,KAAKqJ,KAAL,CAAWgC,kBAAX,KAAkC,OAAzC;AACD;;;wBAEc;AACb,aAAO,KAAKhC,KAAL,CAAWgC,kBAAX,KAAkC,QAAzC;AACD;;;wBAEqB;AACpB,aACE,CAAC,SAAD,EAAY,QAAZ,EAAsB,SAAtB,EAAiC,IAAjC,EAAuChO,OAAvC,CAA+C,KAAKoC,QAAL,CAAcO,KAA7D,MAAwE,CAAC,CAD3E;AAGD;;;wBAEuB;AACtB,aAAO,KAAKqJ,KAAL,CAAWqB,YAAX,GAA0B,GAAjC;AACD;;;wBAEkB;AACjB,aACE,CAAC,KAAKY,SAAL,IAAkB,KAAKC,QAAxB,KACA,oBAAoB,KAAK9L,QAAL,CAAcE,UADlC,IAEA,oBAAoB,KAAKF,QAAL,CAAcE,UAFlC,IAGA,+BAA+B,KAAKF,QAAL,CAAcE,UAJ/C;AAMD;;;wBAEqB;AACpB,UAAI6L,QAAQ,GAAG,KAAKnC,KAAL,CAAWoC,cAA1B;;AACA,UAAI,KAAKH,SAAT,EAAoB;AAClBE,gBAAQ,IACN,CAACrN,IAAI,CAAC8B,GAAL,KACC,IAAI9B,IAAJ,CAAS,KAAKkL,KAAL,CAAWqC,yBAApB,EAA+CrN,OAA/C,EADF,IAEA,MAHF;AAID;;AACD,aAAOmN,QAAP;AACD;;;wBAEmB;AAClB,aAAOhM,uFAAe,CAAC,KAAKC,QAAN,EAAgB,CAAhB,CAAtB;AACD;;;wBAEuB;AACtB,aAAOD,uFAAe,CAAC,KAAKC,QAAN,EAAgB,CAAhB,CAAtB;AACD;;;wBAEwB;AACvB,aAAOD,uFAAe,CAAC,KAAKC,QAAN,EAAgB,CAAhB,CAAtB;AACD;;;wBAE2B;AAC1B,aAAOD,uFAAe,CAAC,KAAKC,QAAN,EAAgB,EAAhB,CAAtB;AACD;;;wBAEuB;AACtB,aAAOD,uFAAe,CAAC,KAAKC,QAAN,EAAgB,EAAhB,CAAtB;AACD;;;wBAEoB;AACnB,aAAOD,uFAAe,CAAC,KAAKC,QAAN,EAAgB,GAAhB,CAAtB;AACD;;;wBAEqB;AACpB,aAAOD,uFAAe,CAAC,KAAKC,QAAN,EAAgB,GAAhB,CAAtB;AACD;;;wBAEuB;AACtB,aAAOD,uFAAe,CAAC,KAAKC,QAAN,EAAgB,GAAhB,CAAtB;AACD;;;wBAE2B;AAC1B,aAAOD,uFAAe,CAAC,KAAKC,QAAN,EAAgB,IAAhB,CAAtB;AACD;;;wBAE0B;AACzB,aAAOD,uFAAe,CAAC,KAAKC,QAAN,EAAgB,IAAhB,CAAtB;AACD;;;wBAE6B;AAC5B,aAAOD,uFAAe,CAAC,KAAKC,QAAN,EAAgB,KAAhB,CAAtB;AACD;;;wBAEkB;AACjB,aAAOD,uFAAe,CAAC,KAAKC,QAAN,EAAgB,KAAhB,CAAtB;AACD;;;wBAEkB;AACjB,aAAO,KAAK4J,KAAL,CAAWsC,WAAlB;AACD;;;wBAEoB;AACnB,UAAI,KAAKC,OAAT,EAAkB;AAChB,eAAO,KAAKvC,KAAL,CAAWwC,YAAlB;AACD;;AACD,UAAI,KAAKC,QAAT,EAAmB;AACjB,YAAIC,IAAI,GAAG,KAAK1C,KAAL,CAAW2C,kBAAtB;;AAEA,YAAI,KAAK3C,KAAL,CAAW4C,YAAf,EAA6B;AAC3BF,cAAI,IAAI,OAAO,KAAK1C,KAAL,CAAW4C,YAA1B;;AAEA,cAAI,KAAK5C,KAAL,CAAW6C,aAAf,EAA8B;AAC5BH,gBAAI,IAAI,MAAM,KAAK1C,KAAL,CAAW6C,aAAzB;AACD;AACF;;AAED,eAAOH,IAAP;AACD;;AACD,UAAI,KAAK1C,KAAL,CAAW8C,QAAf,EAAyB;AACvB,eAAO,KAAK9C,KAAL,CAAW8C,QAAlB;AACD;;AACD,aAAO,EAAP;AACD;;;wBAEY;AACX,aAAO,KAAK9C,KAAL,CAAW6B,MAAlB;AACD;;;wBAEgB;AACf,aAAO,KAAK7B,KAAL,CAAW+C,WAAlB;AACD;;;wBAEe;AACd,aAAO,KAAK/C,KAAL,CAAW+B,UAAlB;AACD;;;wBAEmB;AAClB,aAAO,KAAK/B,KAAL,CAAWgD,eAAlB;AACD","file":"more-info-dialog~panel-kiosk~panel-lovelace~panel-states.chunk.js","sourcesContent":["import { HomeAssistant } from \"../../types\";\n\n/** Return if a component is loaded. */\nexport default function isComponentLoaded(\n  hass: HomeAssistant,\n  component: string\n): boolean {\n  return hass && hass.config.components.indexOf(component) !== -1;\n}\n","export default function durationToSeconds(duration: string): number {\n  const parts = duration.split(\":\").map(Number);\n  return parts[0] * 3600 + parts[1] * 60 + parts[2];\n}\n","import { LocalizeFunc } from \"../translations/localize\";\n\n/**\n * Calculate a string representing a date object as relative time from now.\n *\n * Example output: 5 minutes ago, in 3 days.\n */\nconst tests = [60, 60, 24, 7];\nconst langKey = [\"second\", \"minute\", \"hour\", \"day\"];\n\nexport default function relativeTime(\n  dateObj: Date,\n  localize: LocalizeFunc,\n  options: {\n    compareTime?: Date;\n    includeTense?: boolean;\n  } = {}\n): string {\n  const compareTime = options.compareTime || new Date();\n  let delta = (compareTime.getTime() - dateObj.getTime()) / 1000;\n  const tense = delta >= 0 ? \"past\" : \"future\";\n  delta = Math.abs(delta);\n\n  let timeDesc;\n\n  for (let i = 0; i < tests.length; i++) {\n    if (delta < tests[i]) {\n      delta = Math.floor(delta);\n      timeDesc = localize(\n        `ui.components.relative_time.duration.${langKey[i]}`,\n        \"count\",\n        delta\n      );\n      break;\n    }\n\n    delta /= tests[i];\n  }\n\n  if (timeDesc === undefined) {\n    delta = Math.floor(delta);\n    timeDesc = localize(\n      \"ui.components.relative_time.duration.week\",\n      \"count\",\n      delta\n    );\n  }\n\n  return options.includeTense === false\n    ? timeDesc\n    : localize(`ui.components.relative_time.${tense}`, \"time\", timeDesc);\n}\n","const leftPad = (num: number) => (num < 10 ? `0${num}` : num);\n\nexport default function secondsToDuration(d: number) {\n  const h = Math.floor(d / 3600);\n  const m = Math.floor((d % 3600) / 60);\n  const s = Math.floor((d % 3600) % 60);\n\n  if (h > 0) {\n    return `${h}:${leftPad(m)}:${leftPad(s)}`;\n  }\n  if (m > 0) {\n    return `${m}:${leftPad(s)}`;\n  }\n  if (s > 0) {\n    return \"\" + s;\n  }\n  return null;\n}\n","export const stopPropagation = (ev) => ev.stopPropagation();\n","import { HassEntity } from \"home-assistant-js-websocket\";\n\nexport const supportsFeature = (\n  stateObj: HassEntity,\n  feature: number\n): boolean => {\n  // tslint:disable-next-line:no-bitwise\n  return (stateObj.attributes.supported_features! & feature) !== 0;\n};\n","import { HassEntity } from \"home-assistant-js-websocket\";\nimport durationToSeconds from \"../datetime/duration_to_seconds\";\n\nexport default function timerTimeRemaining(stateObj: HassEntity) {\n  let timeRemaining = durationToSeconds(stateObj.attributes.remaining);\n\n  if (stateObj.state === \"active\") {\n    const now = new Date().getTime();\n    const madeActive = new Date(stateObj.last_changed).getTime();\n    timeRemaining = Math.max(timeRemaining - (now - madeActive) / 1000, 0);\n  }\n\n  return timeRemaining;\n}\n","import { HomeAssistant } from \"../../types\";\n\ninterface ResultCache<T> {\n  [entityId: string]: Promise<T> | undefined;\n}\n\nexport const timeCachePromiseFunc = async <T>(\n  cacheKey: string,\n  cacheTime: number,\n  func: (\n    hass: HomeAssistant,\n    entityId: string,\n    ...args: unknown[]\n  ) => Promise<T>,\n  hass: HomeAssistant,\n  entityId: string,\n  ...args: unknown[]\n): Promise<T> => {\n  let cache: ResultCache<T> | undefined = (hass as any)[cacheKey];\n\n  if (!cache) {\n    cache = hass[cacheKey] = {};\n  }\n\n  const lastResult = cache[entityId];\n\n  if (lastResult) {\n    return lastResult;\n  }\n\n  const result = func(hass, entityId, ...args);\n  cache[entityId] = result;\n\n  result.then(\n    // When successful, set timer to clear cache\n    () =>\n      setTimeout(() => {\n        cache![entityId] = undefined;\n      }, cacheTime),\n    // On failure, clear cache right away\n    () => {\n      cache![entityId] = undefined;\n    }\n  );\n\n  return result;\n};\n","import { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport LocalizeMixin from \"../mixins/localize-mixin\";\n\n/*\n * @appliesMixin LocalizeMixin\n */\nclass HaClimateState extends LocalizeMixin(PolymerElement) {\n  static get template() {\n    return html`\n      <style>\n        :host {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          white-space: nowrap;\n        }\n\n        .target {\n          color: var(--primary-text-color);\n        }\n\n        .current {\n          color: var(--secondary-text-color);\n        }\n\n        .state-label {\n          font-weight: bold;\n          text-transform: capitalize;\n        }\n\n        .unit {\n          display: inline-block;\n          direction: ltr;\n        }\n      </style>\n\n      <div class=\"target\">\n        <template is=\"dom-if\" if=\"[[_hasKnownState(stateObj.state)]]\">\n          <span class=\"state-label\"> [[_localizeState(stateObj.state)]] </span>\n        </template>\n        <div class=\"unit\">[[computeTarget(hass, stateObj)]]</div>\n      </div>\n\n      <template is=\"dom-if\" if=\"[[currentStatus]]\">\n        <div class=\"current\">\n          [[localize('ui.card.climate.currently')]]:\n          <div class=\"unit\">[[currentStatus]]</div>\n        </div>\n      </template>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      stateObj: Object,\n      currentStatus: {\n        type: String,\n        computed: \"computeCurrentStatus(hass, stateObj)\",\n      },\n    };\n  }\n\n  computeCurrentStatus(hass, stateObj) {\n    if (!hass || !stateObj) return null;\n    if (stateObj.attributes.current_temperature != null) {\n      return `${stateObj.attributes.current_temperature} ${\n        hass.config.unit_system.temperature\n      }`;\n    }\n    if (stateObj.attributes.current_humidity != null) {\n      return `${stateObj.attributes.current_humidity} %`;\n    }\n    return null;\n  }\n\n  computeTarget(hass, stateObj) {\n    if (!hass || !stateObj) return null;\n    // We're using \"!= null\" on purpose so that we match both null and undefined.\n    if (\n      stateObj.attributes.target_temp_low != null &&\n      stateObj.attributes.target_temp_high != null\n    ) {\n      return `${stateObj.attributes.target_temp_low} - ${\n        stateObj.attributes.target_temp_high\n      } ${hass.config.unit_system.temperature}`;\n    }\n    if (stateObj.attributes.temperature != null) {\n      return `${stateObj.attributes.temperature} ${\n        hass.config.unit_system.temperature\n      }`;\n    }\n    if (\n      stateObj.attributes.target_humidity_low != null &&\n      stateObj.attributes.target_humidity_high != null\n    ) {\n      return `${stateObj.attributes.target_humidity_low} - ${\n        stateObj.attributes.target_humidity_high\n      } %`;\n    }\n    if (stateObj.attributes.humidity != null) {\n      return `${stateObj.attributes.humidity} %`;\n    }\n\n    return \"\";\n  }\n\n  _hasKnownState(state) {\n    return state !== \"unknown\";\n  }\n\n  _localizeState(state) {\n    return this.localize(`state.climate.${state}`) || state;\n  }\n}\ncustomElements.define(\"ha-climate-state\", HaClimateState);\n","import \"@polymer/paper-icon-button/paper-icon-button\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport CoverEntity from \"../util/cover-model\";\n\nclass HaCoverControls extends PolymerElement {\n  static get template() {\n    return html`\n      <style>\n        .state {\n          white-space: nowrap;\n        }\n        [invisible] {\n          visibility: hidden !important;\n        }\n      </style>\n\n      <div class=\"state\">\n        <paper-icon-button\n          icon=\"hass:arrow-up\"\n          on-click=\"onOpenTap\"\n          invisible$=\"[[!entityObj.supportsOpen]]\"\n          disabled=\"[[computeOpenDisabled(stateObj, entityObj)]]\"\n        ></paper-icon-button>\n        <paper-icon-button\n          icon=\"hass:stop\"\n          on-click=\"onStopTap\"\n          invisible$=\"[[!entityObj.supportsStop]]\"\n        ></paper-icon-button>\n        <paper-icon-button\n          icon=\"hass:arrow-down\"\n          on-click=\"onCloseTap\"\n          invisible$=\"[[!entityObj.supportsClose]]\"\n          disabled=\"[[computeClosedDisabled(stateObj, entityObj)]]\"\n        ></paper-icon-button>\n      </div>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n      },\n      stateObj: {\n        type: Object,\n      },\n      entityObj: {\n        type: Object,\n        computed: \"computeEntityObj(hass, stateObj)\",\n      },\n    };\n  }\n\n  computeEntityObj(hass, stateObj) {\n    return new CoverEntity(hass, stateObj);\n  }\n\n  computeOpenDisabled(stateObj, entityObj) {\n    var assumedState = stateObj.attributes.assumed_state === true;\n    return (entityObj.isFullyOpen || entityObj.isOpening) && !assumedState;\n  }\n\n  computeClosedDisabled(stateObj, entityObj) {\n    var assumedState = stateObj.attributes.assumed_state === true;\n    return (entityObj.isFullyClosed || entityObj.isClosing) && !assumedState;\n  }\n\n  onOpenTap(ev) {\n    ev.stopPropagation();\n    this.entityObj.openCover();\n  }\n\n  onCloseTap(ev) {\n    ev.stopPropagation();\n    this.entityObj.closeCover();\n  }\n\n  onStopTap(ev) {\n    ev.stopPropagation();\n    this.entityObj.stopCover();\n  }\n}\n\ncustomElements.define(\"ha-cover-controls\", HaCoverControls);\n","import \"@polymer/iron-flex-layout/iron-flex-layout-classes\";\nimport \"@polymer/paper-icon-button/paper-icon-button\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport CoverEntity from \"../util/cover-model\";\n\nclass HaCoverTiltControls extends PolymerElement {\n  static get template() {\n    return html`\n      <style include=\"iron-flex\"></style>\n      <style>\n        :host {\n          white-space: nowrap;\n        }\n        [invisible] {\n          visibility: hidden !important;\n        }\n      </style>\n      <paper-icon-button\n        icon=\"hass:arrow-top-right\"\n        on-click=\"onOpenTiltTap\"\n        title=\"Open tilt\"\n        invisible$=\"[[!entityObj.supportsOpenTilt]]\"\n        disabled=\"[[computeOpenDisabled(stateObj, entityObj)]]\"\n      ></paper-icon-button>\n      <paper-icon-button\n        icon=\"hass:stop\"\n        on-click=\"onStopTiltTap\"\n        invisible$=\"[[!entityObj.supportsStopTilt]]\"\n        title=\"Stop tilt\"\n      ></paper-icon-button>\n      <paper-icon-button\n        icon=\"hass:arrow-bottom-left\"\n        on-click=\"onCloseTiltTap\"\n        title=\"Close tilt\"\n        invisible$=\"[[!entityObj.supportsCloseTilt]]\"\n        disabled=\"[[computeClosedDisabled(stateObj, entityObj)]]\"\n      ></paper-icon-button>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n      },\n      stateObj: {\n        type: Object,\n      },\n      entityObj: {\n        type: Object,\n        computed: \"computeEntityObj(hass, stateObj)\",\n      },\n    };\n  }\n\n  computeEntityObj(hass, stateObj) {\n    return new CoverEntity(hass, stateObj);\n  }\n\n  computeOpenDisabled(stateObj, entityObj) {\n    var assumedState = stateObj.attributes.assumed_state === true;\n    return entityObj.isFullyOpenTilt && !assumedState;\n  }\n\n  computeClosedDisabled(stateObj, entityObj) {\n    var assumedState = stateObj.attributes.assumed_state === true;\n    return entityObj.isFullyClosedTilt && !assumedState;\n  }\n\n  onOpenTiltTap(ev) {\n    ev.stopPropagation();\n    this.entityObj.openCoverTilt();\n  }\n\n  onCloseTiltTap(ev) {\n    ev.stopPropagation();\n    this.entityObj.closeCoverTilt();\n  }\n\n  onStopTiltTap(ev) {\n    ev.stopPropagation();\n    this.entityObj.stopCoverTilt();\n  }\n}\n\ncustomElements.define(\"ha-cover-tilt-controls\", HaCoverTiltControls);\n","import { PolymerElement } from \"@polymer/polymer/polymer-element\";\nimport { EventsMixin } from \"../mixins/events-mixin\";\n\nlet loaded = null;\n\n/**\n * White list allowed svg tag.\n * Only put in the tag used in QR code, can be extend in future.\n */\nconst svgWhiteList = [\"svg\", \"path\"];\n\n/*\n * @appliesMixin EventsMixin\n */\nclass HaMarkdown extends EventsMixin(PolymerElement) {\n  static get properties() {\n    return {\n      content: {\n        type: String,\n        observer: \"_render\",\n      },\n      allowSvg: {\n        type: Boolean,\n        value: false,\n      },\n    };\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // 0 = not loaded, 1 = success, 2 = error\n    this._scriptLoaded = 0;\n    this._renderScheduled = false;\n    this._resize = () => this.fire(\"iron-resize\");\n\n    if (!loaded) {\n      loaded = import(/* webpackChunkName: \"load_markdown\" */ \"../resources/load_markdown\");\n    }\n    loaded\n      .then(\n        ({ marked, filterXSS }) => {\n          this.marked = marked;\n          this.filterXSS = filterXSS;\n          this._scriptLoaded = 1;\n        },\n        () => {\n          this._scriptLoaded = 2;\n        }\n      )\n      .then(() => this._render());\n  }\n\n  _render() {\n    if (this._scriptLoaded === 0 || this._renderScheduled) return;\n\n    this._renderScheduled = true;\n\n    // debounce it to next microtask.\n    Promise.resolve().then(() => {\n      this._renderScheduled = false;\n\n      if (this._scriptLoaded === 1) {\n        this.innerHTML = this.filterXSS(\n          this.marked(this.content, {\n            gfm: true,\n            tables: true,\n            breaks: true,\n          }),\n          {\n            onIgnoreTag: this.allowSvg\n              ? (tag, html) => (svgWhiteList.indexOf(tag) >= 0 ? html : null)\n              : null,\n          }\n        );\n        this._resize();\n\n        const walker = document.createTreeWalker(\n          this,\n          1 /* SHOW_ELEMENT */,\n          null,\n          false\n        );\n\n        while (walker.nextNode()) {\n          const node = walker.currentNode;\n\n          // Open external links in a new window\n          if (node.tagName === \"A\" && node.host !== document.location.host) {\n            node.target = \"_blank\";\n\n            // Fire a resize event when images loaded to notify content resized\n          } else if (node.tagName === \"IMG\") {\n            node.addEventListener(\"load\", this._resize);\n          }\n        }\n      } else if (this._scriptLoaded === 2) {\n        this.innerText = this.content;\n      }\n    });\n  }\n}\n\ncustomElements.define(\"ha-markdown\", HaMarkdown);\n","import { dom } from \"@polymer/polymer/lib/legacy/polymer.dom\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport relativeTime from \"../common/datetime/relative_time\";\n\nimport LocalizeMixin from \"../mixins/localize-mixin\";\n\n/*\n * @appliesMixin LocalizeMixin\n */\nclass HaRelativeTime extends LocalizeMixin(PolymerElement) {\n  static get properties() {\n    return {\n      hass: Object,\n      datetime: {\n        type: String,\n        observer: \"datetimeChanged\",\n      },\n\n      datetimeObj: {\n        type: Object,\n        observer: \"datetimeObjChanged\",\n      },\n\n      parsedDateTime: Object,\n    };\n  }\n\n  constructor() {\n    super();\n    this.updateRelative = this.updateRelative.bind(this);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // update every 60 seconds\n    this.updateInterval = setInterval(this.updateRelative, 60000);\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    clearInterval(this.updateInterval);\n  }\n\n  datetimeChanged(newVal) {\n    this.parsedDateTime = newVal ? new Date(newVal) : null;\n\n    this.updateRelative();\n  }\n\n  datetimeObjChanged(newVal) {\n    this.parsedDateTime = newVal;\n\n    this.updateRelative();\n  }\n\n  updateRelative() {\n    const root = dom(this);\n    if (!this.parsedDateTime) {\n      root.innerHTML = this.localize(\"ui.components.relative_time.never\");\n    } else {\n      root.innerHTML = relativeTime(this.parsedDateTime, this.localize);\n    }\n  }\n}\n\ncustomElements.define(\"ha-relative-time\", HaRelativeTime);\n","import \"@polymer/paper-slider\";\n\nconst PaperSliderClass = customElements.get(\"paper-slider\");\nlet subTemplate;\n\nclass HaSlider extends PaperSliderClass {\n  static get template() {\n    if (!subTemplate) {\n      subTemplate = PaperSliderClass.template.cloneNode(true);\n\n      const superStyle = subTemplate.content.querySelector(\"style\");\n\n      // append style to add mirroring of pin in RTL\n      superStyle.appendChild(\n        document.createTextNode(`\n          :host([dir=\"rtl\"]) #sliderContainer.pin.expand > .slider-knob > .slider-knob-inner::after {\n            -webkit-transform: scale(1) translate(0, -17px) scaleX(-1) !important;\n            transform: scale(1) translate(0, -17px) scaleX(-1) !important;\n            }\n        `)\n      );\n    }\n    return subTemplate;\n  }\n\n  _calcStep(value) {\n    if (!this.step) {\n      return parseFloat(value);\n    }\n\n    const numSteps = Math.round((value - this.min) / this.step);\n    const stepStr = this.step.toString();\n    const stepPointAt = stepStr.indexOf(\".\");\n    if (stepPointAt !== -1) {\n      /**\n       * For small values of this.step, if we calculate the step using\n       * For non-integer values of this.step, if we calculate the step using\n       * `Math.round(value / step) * step` we may hit a precision point issue\n       * eg. 0.1 * 0.2 =  0.020000000000000004\n       * http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\n       *\n       * as a work around we can round with the decimal precision of `step`\n       */\n      const precision = 10 ** (stepStr.length - stepPointAt - 1);\n      return (\n        Math.round((numSteps * this.step + this.min) * precision) / precision\n      );\n    }\n\n    return numSteps * this.step + this.min;\n  }\n}\ncustomElements.define(\"ha-slider\", HaSlider);\n","import { HomeAssistant } from \"../types\";\n\nexport interface AuthProvider {\n  name: string;\n  id: string;\n  type: string;\n}\n\nexport interface Credential {\n  type: string;\n}\n\nexport interface SignedPath {\n  path: string;\n}\n\nexport const hassUrl = `${location.protocol}//${location.host}`;\n\nexport const getSignedPath = (\n  hass: HomeAssistant,\n  path: string\n): Promise<SignedPath> => hass.callWS({ type: \"auth/sign_path\", path });\n\nexport const fetchAuthProviders = () =>\n  fetch(\"/auth/providers\", {\n    credentials: \"same-origin\",\n  });\n","import { HomeAssistant, CameraEntity } from \"../types\";\nimport { timeCachePromiseFunc } from \"../common/util/time-cache-function-promise\";\nimport { getSignedPath } from \"./auth\";\n\nexport const CAMERA_SUPPORT_ON_OFF = 1;\nexport const CAMERA_SUPPORT_STREAM = 2;\n\nexport interface CameraPreferences {\n  preload_stream: boolean;\n}\n\nexport interface CameraThumbnail {\n  content_type: string;\n  content: string;\n}\n\nexport interface Stream {\n  url: string;\n}\n\nexport const computeMJPEGStreamUrl = (entity: CameraEntity) =>\n  `/api/camera_proxy_stream/${entity.entity_id}?token=${\n    entity.attributes.access_token\n  }`;\n\nexport const fetchThumbnailUrlWithCache = (\n  hass: HomeAssistant,\n  entityId: string\n) =>\n  timeCachePromiseFunc(\n    \"_cameraTmbUrl\",\n    9000,\n    fetchThumbnailUrl,\n    hass,\n    entityId\n  );\n\nexport const fetchThumbnailUrl = (hass: HomeAssistant, entityId: string) =>\n  getSignedPath(hass, `/api/camera_proxy/${entityId}`).then(({ path }) => path);\n\nexport const fetchThumbnail = (hass: HomeAssistant, entityId: string) => {\n  // tslint:disable-next-line: no-console\n  console.warn(\"This method has been deprecated.\");\n  return hass.callWS<CameraThumbnail>({\n    type: \"camera_thumbnail\",\n    entity_id: entityId,\n  });\n};\n\nexport const fetchStreamUrl = (\n  hass: HomeAssistant,\n  entityId: string,\n  format?: \"hls\"\n) => {\n  const data = {\n    type: \"camera/stream\",\n    entity_id: entityId,\n  };\n  if (format) {\n    // @ts-ignore\n    data.format = format;\n  }\n  return hass.callWS<Stream>(data);\n};\n\nexport const fetchCameraPrefs = (hass: HomeAssistant, entityId: string) =>\n  hass.callWS<CameraPreferences>({\n    type: \"camera/get_prefs\",\n    entity_id: entityId,\n  });\n\nexport const updateCameraPrefs = (\n  hass: HomeAssistant,\n  entityId: string,\n  prefs: {\n    preload_stream?: boolean;\n  }\n) =>\n  hass.callWS<CameraPreferences>({\n    type: \"camera/update_prefs\",\n    entity_id: entityId,\n    ...prefs,\n  });\n","import { HomeAssistant } from \"../types\";\n\nexport const setInputSelectOption = (\n  hass: HomeAssistant,\n  entity: string,\n  option: string\n) =>\n  hass.callService(\"input_select\", \"select_option\", {\n    option,\n    entity_id: entity,\n  });\n","import { supportsFeature } from \"../common/entity/supports-feature\";\n\n/* eslint-enable no-bitwise */\nexport default class CoverEntity {\n  constructor(hass, stateObj) {\n    this.hass = hass;\n    this.stateObj = stateObj;\n    this._attr = stateObj.attributes;\n    this._feat = this._attr.supported_features;\n  }\n\n  get isFullyOpen() {\n    if (this._attr.current_position !== undefined) {\n      return this._attr.current_position === 100;\n    }\n    return this.stateObj.state === \"open\";\n  }\n\n  get isFullyClosed() {\n    if (this._attr.current_position !== undefined) {\n      return this._attr.current_position === 0;\n    }\n    return this.stateObj.state === \"closed\";\n  }\n\n  get isFullyOpenTilt() {\n    return this._attr.current_tilt_position === 100;\n  }\n\n  get isFullyClosedTilt() {\n    return this._attr.current_tilt_position === 0;\n  }\n\n  get isOpening() {\n    return this.stateObj.state === \"opening\";\n  }\n\n  get isClosing() {\n    return this.stateObj.state === \"closing\";\n  }\n\n  get supportsOpen() {\n    return supportsFeature(this.stateObj, 1);\n  }\n\n  get supportsClose() {\n    return supportsFeature(this.stateObj, 2);\n  }\n\n  get supportsSetPosition() {\n    return supportsFeature(this.stateObj, 4);\n  }\n\n  get supportsStop() {\n    return supportsFeature(this.stateObj, 8);\n  }\n\n  get supportsOpenTilt() {\n    return supportsFeature(this.stateObj, 16);\n  }\n\n  get supportsCloseTilt() {\n    return supportsFeature(this.stateObj, 32);\n  }\n\n  get supportsStopTilt() {\n    return supportsFeature(this.stateObj, 64);\n  }\n\n  get supportsSetTiltPosition() {\n    return supportsFeature(this.stateObj, 128);\n  }\n\n  get isTiltOnly() {\n    const supportsCover =\n      this.supportsOpen || this.supportsClose || this.supportsStop;\n    const supportsTilt =\n      this.supportsOpenTilt || this.supportsCloseTilt || this.supportsStopTilt;\n    return supportsTilt && !supportsCover;\n  }\n\n  openCover() {\n    this.callService(\"open_cover\");\n  }\n\n  closeCover() {\n    this.callService(\"close_cover\");\n  }\n\n  stopCover() {\n    this.callService(\"stop_cover\");\n  }\n\n  openCoverTilt() {\n    this.callService(\"open_cover_tilt\");\n  }\n\n  closeCoverTilt() {\n    this.callService(\"close_cover_tilt\");\n  }\n\n  stopCoverTilt() {\n    this.callService(\"stop_cover_tilt\");\n  }\n\n  setCoverPosition(position) {\n    this.callService(\"set_cover_position\", { position });\n  }\n\n  setCoverTiltPosition(tiltPosition) {\n    this.callService(\"set_cover_tilt_position\", {\n      tilt_position: tiltPosition,\n    });\n  }\n\n  // helper method\n\n  callService(service, data = {}) {\n    data.entity_id = this.stateObj.entity_id;\n    this.hass.callService(\"cover\", service, data);\n  }\n}\n\nexport const supportsOpen = (stateObj) => supportsFeature(stateObj, 1);\n\nexport const supportsClose = (stateObj) => supportsFeature(stateObj, 2);\n\nexport const supportsSetPosition = (stateObj) => supportsFeature(stateObj, 4);\n\nexport const supportsStop = (stateObj) => supportsFeature(stateObj, 8);\n\nexport const supportsOpenTilt = (stateObj) => supportsFeature(stateObj, 16);\n\nexport const supportsCloseTilt = (stateObj) => supportsFeature(stateObj, 32);\n\nexport const supportsStopTilt = (stateObj) => supportsFeature(stateObj, 64);\n\nexport const supportsSetTiltPosition = (stateObj) =>\n  supportsFeature(stateObj, 128);\n\nexport function isTiltOnly(stateObj) {\n  const supportsCover =\n    supportsOpen(stateObj) || supportsClose(stateObj) || supportsStop(stateObj);\n  const supportsTilt =\n    supportsOpenTilt(stateObj) ||\n    supportsCloseTilt(stateObj) ||\n    supportsStopTilt(stateObj);\n  return supportsTilt && !supportsCover;\n}\n","import { supportsFeature } from \"../common/entity/supports-feature\";\n\nexport default class MediaPlayerEntity {\n  constructor(hass, stateObj) {\n    this.hass = hass;\n    this.stateObj = stateObj;\n    this._attr = stateObj.attributes;\n    this._feat = this._attr.supported_features;\n  }\n\n  get isOff() {\n    return this.stateObj.state === \"off\";\n  }\n\n  get isIdle() {\n    return this.stateObj.state === \"idle\";\n  }\n\n  get isMuted() {\n    return this._attr.is_volume_muted;\n  }\n\n  get isPaused() {\n    return this.stateObj.state === \"paused\";\n  }\n\n  get isPlaying() {\n    return this.stateObj.state === \"playing\";\n  }\n\n  get isMusic() {\n    return this._attr.media_content_type === \"music\";\n  }\n\n  get isTVShow() {\n    return this._attr.media_content_type === \"tvshow\";\n  }\n\n  get hasMediaControl() {\n    return (\n      [\"playing\", \"paused\", \"unknown\", \"on\"].indexOf(this.stateObj.state) !== -1\n    );\n  }\n\n  get volumeSliderValue() {\n    return this._attr.volume_level * 100;\n  }\n\n  get showProgress() {\n    return (\n      (this.isPlaying || this.isPaused) &&\n      \"media_duration\" in this.stateObj.attributes &&\n      \"media_position\" in this.stateObj.attributes &&\n      \"media_position_updated_at\" in this.stateObj.attributes\n    );\n  }\n\n  get currentProgress() {\n    var progress = this._attr.media_position;\n    if (this.isPlaying) {\n      progress +=\n        (Date.now() -\n          new Date(this._attr.media_position_updated_at).getTime()) /\n        1000.0;\n    }\n    return progress;\n  }\n\n  get supportsPause() {\n    return supportsFeature(this.stateObj, 1);\n  }\n\n  get supportsVolumeSet() {\n    return supportsFeature(this.stateObj, 4);\n  }\n\n  get supportsVolumeMute() {\n    return supportsFeature(this.stateObj, 8);\n  }\n\n  get supportsPreviousTrack() {\n    return supportsFeature(this.stateObj, 16);\n  }\n\n  get supportsNextTrack() {\n    return supportsFeature(this.stateObj, 32);\n  }\n\n  get supportsTurnOn() {\n    return supportsFeature(this.stateObj, 128);\n  }\n\n  get supportsTurnOff() {\n    return supportsFeature(this.stateObj, 256);\n  }\n\n  get supportsPlayMedia() {\n    return supportsFeature(this.stateObj, 512);\n  }\n\n  get supportsVolumeButtons() {\n    return supportsFeature(this.stateObj, 1024);\n  }\n\n  get supportsSelectSource() {\n    return supportsFeature(this.stateObj, 2048);\n  }\n\n  get supportsSelectSoundMode() {\n    return supportsFeature(this.stateObj, 65536);\n  }\n\n  get supportsPlay() {\n    return supportsFeature(this.stateObj, 16384);\n  }\n\n  get primaryTitle() {\n    return this._attr.media_title;\n  }\n\n  get secondaryTitle() {\n    if (this.isMusic) {\n      return this._attr.media_artist;\n    }\n    if (this.isTVShow) {\n      var text = this._attr.media_series_title;\n\n      if (this._attr.media_season) {\n        text += \" S\" + this._attr.media_season;\n\n        if (this._attr.media_episode) {\n          text += \"E\" + this._attr.media_episode;\n        }\n      }\n\n      return text;\n    }\n    if (this._attr.app_name) {\n      return this._attr.app_name;\n    }\n    return \"\";\n  }\n\n  get source() {\n    return this._attr.source;\n  }\n\n  get sourceList() {\n    return this._attr.source_list;\n  }\n\n  get soundMode() {\n    return this._attr.sound_mode;\n  }\n\n  get soundModeList() {\n    return this._attr.sound_mode_list;\n  }\n\n  mediaPlayPause() {\n    this.callService(\"media_play_pause\");\n  }\n\n  nextTrack() {\n    this.callService(\"media_next_track\");\n  }\n\n  playbackControl() {\n    this.callService(\"media_play_pause\");\n  }\n\n  previousTrack() {\n    this.callService(\"media_previous_track\");\n  }\n\n  setVolume(volume) {\n    this.callService(\"volume_set\", { volume_level: volume });\n  }\n\n  togglePower() {\n    if (this.isOff) {\n      this.turnOn();\n    } else {\n      this.turnOff();\n    }\n  }\n\n  turnOff() {\n    this.callService(\"turn_off\");\n  }\n\n  turnOn() {\n    this.callService(\"turn_on\");\n  }\n\n  volumeDown() {\n    this.callService(\"volume_down\");\n  }\n\n  volumeMute(mute) {\n    if (!this.supportsVolumeMute) {\n      throw new Error(\"Muting volume not supported\");\n    }\n    this.callService(\"volume_mute\", { is_volume_muted: mute });\n  }\n\n  volumeUp() {\n    this.callService(\"volume_up\");\n  }\n\n  selectSource(source) {\n    this.callService(\"select_source\", { source });\n  }\n\n  selectSoundMode(soundMode) {\n    this.callService(\"select_sound_mode\", { sound_mode: soundMode });\n  }\n\n  // helper method\n\n  callService(service, data = {}) {\n    data.entity_id = this.stateObj.entity_id;\n    this.hass.callService(\"media_player\", service, data);\n  }\n}\n"],"sourceRoot":""}