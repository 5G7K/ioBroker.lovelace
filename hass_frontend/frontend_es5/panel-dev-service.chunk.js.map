{"version":3,"sources":["webpack:///./src/common/entity/compute_object_id.ts","webpack:///./src/common/entity/compute_state_name.ts","webpack:///./src/data/entity.ts","webpack:///./src/mixins/events-mixin.js","webpack:///./src/mixins/localize-mixin.js","webpack:///./src/panels/dev-service/ha-panel-dev-service.js","webpack:///./src/util/app-localstorage-document.js"],"names":["computeObjectId","entityId","substr","indexOf","stateObj","attributes","friendly_name","undefined","entity_id","replace","UNAVAILABLE","ENTITY_COMPONENT_DOMAINS","EventsMixin","dedupingMixin","superClass","type","detail","options","fireEvent","node","localize","hass","Object","Function","computed","ERROR_SENTINEL","HaPanelDevService","serviceData","domain","service","serviceDomains","services","fields","keys","map","field","assign","key","description","domainService","split","JSON","parse","err","parsedJSON","some","attr","includes","alert","callService","_domain","_service","ev","stringify","target","value","html","String","observer","validJSON","Boolean","_attributes","Array","_description","PolymerElement","customElements","define","Polymer","is","behaviors","AppStorageBehavior","properties","notify","sessionOnly","storage","observers","attached","listen","window","top","detached","unlisten","isNew","saveValue","__setStorageValue","data","e","Promise","reject","resolve","reset","zeroValue","destroy","removeItem","getStoredValue","path","__parseValueFromStorage","get","setStoredValue","fire","__computeStorage","sessionStorage","localStorage","__storageSourceChanged","_initializeStoredValue","__onStorage","event","storageArea","syncToMemory","set","__onAppLocalStorageChanged","getItem","console","error","setItem"],"mappings":"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","file":"panel-dev-service.chunk.js","sourcesContent":["/** Compute the object ID of a state. */\nexport default function computeObjectId(entityId: string): string {\n  return entityId.substr(entityId.indexOf(\".\") + 1);\n}\n","import { HassEntity } from \"home-assistant-js-websocket\";\nimport computeObjectId from \"./compute_object_id\";\n\nexport default (stateObj: HassEntity): string =>\n  stateObj.attributes.friendly_name === undefined\n    ? computeObjectId(stateObj.entity_id).replace(/_/g, \" \")\n    : stateObj.attributes.friendly_name || \"\";\n","export const UNAVAILABLE = \"unavailable\";\n\nexport const ENTITY_COMPONENT_DOMAINS = [\n  \"air_quality\",\n  \"alarm_control_panel\",\n  \"automation\",\n  \"binary_sensor\",\n  \"calendar\",\n  \"counter\",\n  \"cover\",\n  \"dominos\",\n  \"fan\",\n  \"geo_location\",\n  \"group\",\n  \"history_graph\",\n  \"image_processing\",\n  \"input_boolean\",\n  \"input_datetime\",\n  \"input_number\",\n  \"input_select\",\n  \"input_text\",\n  \"light\",\n  \"lock\",\n  \"mailbox\",\n  \"media_player\",\n  \"person\",\n  \"plant\",\n  \"remember_the_milk\",\n  \"remote\",\n  \"scene\",\n  \"script\",\n  \"sensor\",\n  \"switch\",\n  \"timer\",\n  \"utility_meter\",\n  \"vacuum\",\n  \"weather\",\n  \"wink\",\n  \"zha\",\n  \"zwave\",\n];\n","import { dedupingMixin } from \"@polymer/polymer/lib/utils/mixin\";\n\nimport { fireEvent } from \"../common/dom/fire_event\";\n\n// Polymer legacy event helpers used courtesy of the Polymer project.\n//\n// Copyright (c) 2017 The Polymer Authors. All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//    * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n//    * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n//    * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n/* @polymerMixin */\nexport const EventsMixin = dedupingMixin(\n  (superClass) =>\n    class extends superClass {\n      /**\n   * Dispatches a custom event with an optional detail value.\n   *\n   * @param {string} type Name of event type.\n   * @param {*=} detail Detail value containing event-specific\n   *   payload.\n   * @param {{ bubbles: (boolean|undefined),\n               cancelable: (boolean|undefined),\n                composed: (boolean|undefined) }=}\n    *  options Object specifying options.  These may include:\n    *  `bubbles` (boolean, defaults to `true`),\n    *  `cancelable` (boolean, defaults to false), and\n    *  `node` on which to fire the event (HTMLElement, defaults to `this`).\n    * @return {Event} The new event that was fired.\n    */\n      fire(type, detail, options) {\n        options = options || {};\n        return fireEvent(options.node || this, type, detail, options);\n      }\n    }\n);\n","import { dedupingMixin } from \"@polymer/polymer/lib/utils/mixin\";\n/**\n * Polymer Mixin to enable a localize function powered by language/resources from hass object.\n *\n * @polymerMixin\n */\nexport default dedupingMixin(\n  (superClass) =>\n    class extends superClass {\n      static get properties() {\n        return {\n          hass: Object,\n\n          /**\n           * Translates a string to the current `language`. Any parameters to the\n           * string should be passed in order, as follows:\n           * `localize(stringKey, param1Name, param1Value, param2Name, param2Value)`\n           */\n          localize: {\n            type: Function,\n            computed: \"__computeLocalize(hass.localize)\",\n          },\n        };\n      }\n\n      __computeLocalize(localize) {\n        return localize;\n      }\n    }\n);\n","import \"@polymer/app-layout/app-header-layout/app-header-layout\";\nimport \"@polymer/app-layout/app-header/app-header\";\nimport \"@polymer/app-layout/app-toolbar/app-toolbar\";\nimport \"@material/mwc-button\";\nimport \"@polymer/paper-input/paper-textarea\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport { ENTITY_COMPONENT_DOMAINS } from \"../../data/entity\";\nimport \"../../components/entity/ha-entity-picker\";\nimport \"../../components/ha-menu-button\";\nimport \"../../components/ha-service-picker\";\nimport \"../../resources/ha-style\";\nimport \"../../util/app-localstorage-document\";\n\nconst ERROR_SENTINEL = {};\nclass HaPanelDevService extends PolymerElement {\n  static get template() {\n    return html`\n      <style include=\"ha-style\">\n        :host {\n          -ms-user-select: initial;\n          -webkit-user-select: initial;\n          -moz-user-select: initial;\n        }\n\n        .content {\n          padding: 16px;\n          direction: ltr;\n        }\n\n        .ha-form {\n          margin-right: 16px;\n          max-width: 400px;\n        }\n\n        .description {\n          margin-top: 24px;\n          white-space: pre-wrap;\n        }\n\n        .header {\n          @apply --paper-font-title;\n        }\n\n        .attributes th {\n          text-align: left;\n        }\n\n        .attributes tr {\n          vertical-align: top;\n        }\n\n        .attributes tr:nth-child(odd) {\n          background-color: var(--table-row-background-color, #eee);\n        }\n\n        .attributes tr:nth-child(even) {\n          background-color: var(--table-row-alternative-background-color, #eee);\n        }\n\n        .attributes td:nth-child(3) {\n          white-space: pre-wrap;\n          word-break: break-word;\n        }\n\n        pre {\n          margin: 0;\n        }\n\n        h1 {\n          white-space: normal;\n        }\n\n        td {\n          padding: 4px;\n        }\n\n        .error {\n          color: var(--google-red-500);\n        }\n      </style>\n\n      <app-header-layout has-scrolling-region>\n        <app-header slot=\"header\" fixed>\n          <app-toolbar>\n            <ha-menu-button></ha-menu-button>\n            <div main-title>Services</div>\n          </app-toolbar>\n        </app-header>\n\n        <app-localstorage-document\n          key=\"panel-dev-service-state-domain-service\"\n          data=\"{{domainService}}\"\n        >\n        </app-localstorage-document>\n        <app-localstorage-document\n          key=\"[[_computeServicedataKey(domainService)]]\"\n          data=\"{{serviceData}}\"\n        >\n        </app-localstorage-document>\n\n        <div class=\"content\">\n          <p>\n            The service dev tool allows you to call any available service in\n            Home Assistant.\n          </p>\n\n          <div class=\"ha-form\">\n            <ha-service-picker\n              hass=\"[[hass]]\"\n              value=\"{{domainService}}\"\n            ></ha-service-picker>\n            <template is=\"dom-if\" if=\"[[_computeHasEntity(_attributes)]]\">\n              <ha-entity-picker\n                hass=\"[[hass]]\"\n                value=\"[[_computeEntityValue(parsedJSON)]]\"\n                on-change=\"_entityPicked\"\n                disabled=\"[[!validJSON]]\"\n                domain-filter=\"[[_computeEntityDomainFilter(_domain)]]\"\n                allow-custom-entity\n              ></ha-entity-picker>\n            </template>\n            <paper-textarea\n              always-float-label\n              label=\"Service Data (JSON, optional)\"\n              value=\"{{serviceData}}\"\n              autocapitalize=\"none\"\n              autocomplete=\"off\"\n              spellcheck=\"false\"\n            ></paper-textarea>\n            <mwc-button on-click=\"_callService\" raised disabled=\"[[!validJSON]]\"\n              >Call Service</mwc-button\n            >\n            <template is=\"dom-if\" if=\"[[!validJSON]]\">\n              <span class=\"error\">Invalid JSON</span>\n            </template>\n          </div>\n\n          <template is=\"dom-if\" if=\"[[!domainService]]\">\n            <h1>Select a service to see the description</h1>\n          </template>\n\n          <template is=\"dom-if\" if=\"[[domainService]]\">\n            <template is=\"dom-if\" if=\"[[!_description]]\">\n              <h1>No description is available</h1>\n            </template>\n            <template is=\"dom-if\" if=\"[[_description]]\">\n              <h3>[[_description]]</h3>\n\n              <table class=\"attributes\">\n                <tr>\n                  <th>Parameter</th>\n                  <th>Description</th>\n                  <th>Example</th>\n                </tr>\n                <template is=\"dom-if\" if=\"[[!_attributes.length]]\">\n                  <tr>\n                    <td colspan=\"3\">This service takes no parameters.</td>\n                  </tr>\n                </template>\n                <template\n                  is=\"dom-repeat\"\n                  items=\"[[_attributes]]\"\n                  as=\"attribute\"\n                >\n                  <tr>\n                    <td><pre>[[attribute.key]]</pre></td>\n                    <td>[[attribute.description]]</td>\n                    <td>[[attribute.example]]</td>\n                  </tr>\n                </template>\n              </table>\n            </template>\n          </template>\n        </div>\n      </app-header-layout>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n      },\n\n      domainService: {\n        type: String,\n        observer: \"_domainServiceChanged\",\n      },\n\n      _domain: {\n        type: String,\n        computed: \"_computeDomain(domainService)\",\n      },\n\n      _service: {\n        type: String,\n        computed: \"_computeService(domainService)\",\n      },\n\n      serviceData: {\n        type: String,\n        value: \"\",\n      },\n\n      parsedJSON: {\n        type: Object,\n        computed: \"_computeParsedServiceData(serviceData)\",\n      },\n\n      validJSON: {\n        type: Boolean,\n        computed: \"_computeValidJSON(parsedJSON)\",\n      },\n\n      _attributes: {\n        type: Array,\n        computed: \"_computeAttributesArray(hass, _domain, _service)\",\n      },\n\n      _description: {\n        type: String,\n        computed: \"_computeDescription(hass, _domain, _service)\",\n      },\n    };\n  }\n\n  _domainServiceChanged() {\n    this.serviceData = \"\";\n  }\n\n  _computeAttributesArray(hass, domain, service) {\n    const serviceDomains = hass.services;\n    if (!(domain in serviceDomains)) return [];\n    if (!(service in serviceDomains[domain])) return [];\n\n    const fields = serviceDomains[domain][service].fields;\n    return Object.keys(fields).map(function(field) {\n      return Object.assign({ key: field }, fields[field]);\n    });\n  }\n\n  _computeDescription(hass, domain, service) {\n    const serviceDomains = hass.services;\n    if (!(domain in serviceDomains)) return undefined;\n    if (!(service in serviceDomains[domain])) return undefined;\n    return serviceDomains[domain][service].description;\n  }\n\n  _computeServicedataKey(domainService) {\n    return `panel-dev-service-state-servicedata.${domainService}`;\n  }\n\n  _computeDomain(domainService) {\n    return domainService.split(\".\", 1)[0];\n  }\n\n  _computeService(domainService) {\n    return domainService.split(\".\", 2)[1] || null;\n  }\n\n  _computeParsedServiceData(serviceData) {\n    try {\n      return serviceData ? JSON.parse(serviceData) : {};\n    } catch (err) {\n      return ERROR_SENTINEL;\n    }\n  }\n\n  _computeValidJSON(parsedJSON) {\n    return parsedJSON !== ERROR_SENTINEL;\n  }\n\n  _computeHasEntity(attributes) {\n    return attributes.some((attr) => attr.key === \"entity_id\");\n  }\n\n  _computeEntityValue(parsedJSON) {\n    return parsedJSON === ERROR_SENTINEL ? \"\" : parsedJSON.entity_id;\n  }\n\n  _computeEntityDomainFilter(domain) {\n    return ENTITY_COMPONENT_DOMAINS.includes(domain) ? domain : null;\n  }\n\n  _callService() {\n    if (this.parsedJSON === ERROR_SENTINEL) {\n      // eslint-disable-next-line\n      alert(`Error parsing JSON: ${this.serviceData}`);\n    }\n\n    this.hass.callService(this._domain, this._service, this.parsedJSON);\n  }\n\n  _entityPicked(ev) {\n    this.serviceData = JSON.stringify(\n      Object.assign({}, this.parsedJSON, {\n        entity_id: ev.target.value,\n      }),\n      null,\n      2\n    );\n  }\n}\n\ncustomElements.define(\"ha-panel-dev-service\", HaPanelDevService);\n","/* Forked because it contained an import.meta which webpack doesn't support. */\n/* eslint-disable */\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport { AppStorageBehavior } from \"@polymer/app-storage/app-storage-behavior\";\nimport { Polymer } from \"@polymer/polymer/lib/legacy/polymer-fn\";\nimport \"@polymer/polymer/polymer-legacy\";\n\n/**\n * app-localstorage-document synchronizes storage between an in-memory\n * value and a location in the browser's localStorage system.\n *\n * localStorage is a simple and widely supported storage API that provides both\n * permanent and session-based storage options. Using app-localstorage-document\n * you can easily integrate localStorage into your app via normal Polymer\n * databinding.\n *\n * app-localstorage-document is the reference implementation of an element\n * that uses `AppStorageBehavior`. Reading its code is a good way to get\n * started writing your own storage element.\n *\n * Example use:\n *\n *     <paper-input value=\"{{search}}\"></paper-input>\n *     <app-localstorage-document key=\"search\" data=\"{{search}}\">\n *     </app-localstorage-document>\n *\n * app-localstorage-document automatically synchronizes changes to the\n * same key across multiple tabs.\n *\n * Only supports storing JSON-serializable values.\n */\nPolymer({\n  is: \"app-localstorage-document\",\n  behaviors: [AppStorageBehavior],\n\n  properties: {\n    /**\n     * Defines the logical location to store the data.\n     *\n     * @type{String}\n     */\n    key: { type: String, notify: true },\n\n    /**\n     * If true, the data will automatically be cleared from storage when\n     * the page session ends (i.e. when the user has navigated away from\n     * the page).\n     */\n    sessionOnly: { type: Boolean, value: false },\n\n    /**\n     * Either `window.localStorage` or `window.sessionStorage`, depending on\n     * `this.sessionOnly`.\n     */\n    storage: { type: Object, computed: \"__computeStorage(sessionOnly)\" },\n  },\n\n  observers: [\"__storageSourceChanged(storage, key)\"],\n\n  attached: function() {\n    this.listen(window, \"storage\", \"__onStorage\");\n    this.listen(\n      window.top,\n      \"app-local-storage-changed\",\n      \"__onAppLocalStorageChanged\"\n    );\n  },\n\n  detached: function() {\n    this.unlisten(window, \"storage\", \"__onStorage\");\n    this.unlisten(\n      window.top,\n      \"app-local-storage-changed\",\n      \"__onAppLocalStorageChanged\"\n    );\n  },\n\n  get isNew() {\n    return !this.key;\n  },\n\n  /**\n   * Stores a value at the given key, and if successful, updates this.key.\n   *\n   * @param {*} key The new key to use.\n   * @return {Promise}\n   */\n  saveValue: function(key) {\n    try {\n      this.__setStorageValue(/*{@type if (key ty){String}}*/ key, this.data);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n\n    this.key = /** @type {String} */ (key);\n\n    return Promise.resolve();\n  },\n\n  reset: function() {\n    this.key = null;\n    this.data = this.zeroValue;\n  },\n\n  destroy: function() {\n    try {\n      this.storage.removeItem(this.key);\n      this.reset();\n    } catch (e) {\n      return Promise.reject(e);\n    }\n\n    return Promise.resolve();\n  },\n\n  getStoredValue: function(path) {\n    var value;\n\n    if (this.key != null) {\n      try {\n        value = this.__parseValueFromStorage();\n\n        if (value != null) {\n          value = this.get(path, { data: value });\n        } else {\n          value = undefined;\n        }\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    }\n\n    return Promise.resolve(value);\n  },\n\n  setStoredValue: function(path, value) {\n    if (this.key != null) {\n      try {\n        this.__setStorageValue(this.key, this.data);\n      } catch (e) {\n        return Promise.reject(e);\n      }\n\n      this.fire(\"app-local-storage-changed\", this, { node: window.top });\n    }\n\n    return Promise.resolve(value);\n  },\n\n  __computeStorage: function(sessionOnly) {\n    return sessionOnly ? window.sessionStorage : window.localStorage;\n  },\n\n  __storageSourceChanged: function(storage, key) {\n    this._initializeStoredValue();\n  },\n\n  __onStorage: function(event) {\n    if (event.key !== this.key || event.storageArea !== this.storage) {\n      return;\n    }\n\n    this.syncToMemory(function() {\n      this.set(\"data\", this.__parseValueFromStorage());\n    });\n  },\n\n  __onAppLocalStorageChanged: function(event) {\n    if (\n      event.detail === this ||\n      event.detail.key !== this.key ||\n      event.detail.storage !== this.storage\n    ) {\n      return;\n    }\n    this.syncToMemory(function() {\n      this.set(\"data\", event.detail.data);\n    });\n  },\n\n  __parseValueFromStorage: function() {\n    try {\n      return JSON.parse(this.storage.getItem(this.key));\n    } catch (e) {\n      console.error(\"Failed to parse value from storage for\", this.key);\n    }\n  },\n\n  __setStorageValue: function(key, value) {\n    if (typeof value === \"undefined\") value = null;\n    this.storage.setItem(key, JSON.stringify(value));\n  },\n});\n"],"sourceRoot":""}