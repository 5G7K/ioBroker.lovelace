{"version":3,"sources":["webpack:///./src/common/string/compare.ts","webpack:///./src/common/util/debounce.ts","webpack:///./src/data/area_registry.ts","webpack:///./src/data/config_entries.ts","webpack:///./src/data/device_registry.ts","webpack:///./src/data/entity_registry.ts","webpack:///./src/dialogs/config-flow/show-dialog-config-flow.ts","webpack:///./src/panels/config/integrations/ha-ce-entities-card.js","webpack:///./src/panels/config/integrations/ha-config-entries-dashboard.js","webpack:///./src/panels/config/integrations/ha-config-entry-page.js","webpack:///./src/panels/config/integrations/ha-config-integrations.js","webpack:///./src/panels/config/integrations/ha-device-card.js","webpack:///./src/panels/config/integrations/show-dialog-device-registry-detail.ts"],"names":["compare","a","b","caseInsensitiveCompare","toLowerCase","debounce","func","wait","immediate","timeout","args","context","later","apply","callNow","clearTimeout","setTimeout","createAreaRegistryEntry","hass","values","callWS","type","updateAreaRegistryEntry","areaId","updates","area_id","deleteAreaRegistryEntry","fetchAreaRegistry","conn","sendMessagePromise","then","areas","sort","ent1","ent2","name","subscribeAreaRegistryUpdates","store","subscribeEvents","setState","subscribeAreaRegistry","onChange","createCollection","createConfigFlow","handler","callApi","fetchConfigFlow","flowId","handleConfigFlowStep","data","deleteConfigFlow","getConfigFlowsInProgress","getConfigFlowHandlers","fetchConfigFlowInProgress","subscribeConfigFlowInProgressUpdates","flows","subscribeConfigFlowInProgress","connection","getConfigEntries","localizeConfigFlowTitle","localize","flow","placeholders","title_placeholders","placeholderKeys","Object","keys","length","forEach","key","push","updateDeviceRegistryEntry","deviceId","device_id","fetchDeviceRegistry","subscribeDeviceRegistryUpdates","devices","subscribeDeviceRegistry","computeEntityRegistryName","entry","state","states","entity_id","computeStateName","updateEntityRegistryEntry","entityId","removeEntityRegistryEntry","fetchEntityRegistry","subscribeEntityRegistryUpdates","entities","subscribeEntityRegistry","loadConfigFlowDialog","showConfigFlowDialog","element","dialogParams","fireEvent","dialogTag","dialogImport","HaCeEntitiesCard","LocalizeMixIn","EventsMixin","PolymerElement","template","html","properties","heading","String","Array","_computeStateObj","entity","_computeEntityName","_openMoreInfo","ev","fire","model","customElements","define","HaConfigManagerDashboard","LocalizeMixin","isWide","Boolean","entries","progress","handlers","rtl","reflectToAttribute","computed","connectedCallback","_createFlow","dialogClosedCallback","_continueFlow","continueFlowId","item","flow_id","_computeIntegrationTitle","integration","_computeActiveFlowTitle","_computeConfigEntryEntities","configEntry","config_entry_id","entry_id","_computeStateName","stateObj","_handleMoreInfo","_computeRTL","computeRTL","HaConfigEntryPage","NavigateMixin","narrow","value","_configEntryDevices","_noDeviceEntities","_computeConfigEntryDevices","filter","device","config_entries","includes","dev1","dev2","hub_device_id","_computeNoDeviceEntities","ent","_computeIsEmpty","configEntryDevices","noDeviceEntities","_removeEntry","confirm","entryId","result","require_restart","alert","navigate","HaConfigIntegrations","route","_configEntry","_entries","_entities","_devices","_areas","_progress","_handlers","_routeData","_routeTail","ready","addEventListener","_loadData","_unsubAreas","_debouncer","Debouncer","timeOut","after","unsub","_unsubEvents","disconnectedCallback","conf1","conf2","title","_computeConfigEntry","routeData","find","page","computeEntityName","HaDeviceCard","_childDevices","firstUpdated","changedProps","loadDeviceRegistryDetailDialog","_unsubDevices","id","_computeArea","area","_computeChildDevices","dev","_computeDeviceEntities","_deviceName","name_by_user","_computeDeviceName","_gotoSettings","showDeviceRegistryDetailDialog","updateEntry","deviceRegistryDetailParams"],"mappings":"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","file":"panel-config-integrations.chunk.js","sourcesContent":["export const compare = (a: string, b: string) => {\n  if (a < b) {\n    return -1;\n  }\n  if (a > b) {\n    return 1;\n  }\n\n  return 0;\n};\n\nexport const caseInsensitiveCompare = (a: string, b: string) =>\n  compare(a.toLowerCase(), b.toLowerCase());\n","// From: https://davidwalsh.name/javascript-debounce-function\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\n// tslint:disable-next-line: ban-types\nexport const debounce = <T extends Function>(\n  func: T,\n  wait,\n  immediate = false\n): T => {\n  let timeout;\n  // @ts-ignore\n  return function(...args) {\n    // tslint:disable:no-this-assignment\n    // @ts-ignore\n    const context = this;\n    const later = () => {\n      timeout = null;\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n};\n","import { createCollection, Connection } from \"home-assistant-js-websocket\";\nimport { HomeAssistant } from \"../types\";\nimport { compare } from \"../common/string/compare\";\nimport { debounce } from \"../common/util/debounce\";\n\nexport interface AreaRegistryEntry {\n  area_id: string;\n  name: string;\n}\n\nexport interface AreaRegistryEntryMutableParams {\n  name: string;\n}\n\nexport const createAreaRegistryEntry = (\n  hass: HomeAssistant,\n  values: AreaRegistryEntryMutableParams\n) =>\n  hass.callWS<AreaRegistryEntry>({\n    type: \"config/area_registry/create\",\n    ...values,\n  });\n\nexport const updateAreaRegistryEntry = (\n  hass: HomeAssistant,\n  areaId: string,\n  updates: Partial<AreaRegistryEntryMutableParams>\n) =>\n  hass.callWS<AreaRegistryEntry>({\n    type: \"config/area_registry/update\",\n    area_id: areaId,\n    ...updates,\n  });\n\nexport const deleteAreaRegistryEntry = (hass: HomeAssistant, areaId: string) =>\n  hass.callWS({\n    type: \"config/area_registry/delete\",\n    area_id: areaId,\n  });\n\nconst fetchAreaRegistry = (conn) =>\n  conn\n    .sendMessagePromise({\n      type: \"config/area_registry/list\",\n    })\n    .then((areas) => areas.sort((ent1, ent2) => compare(ent1.name, ent2.name)));\n\nconst subscribeAreaRegistryUpdates = (conn, store) =>\n  conn.subscribeEvents(\n    debounce(\n      () =>\n        fetchAreaRegistry(conn).then((areas) => store.setState(areas, true)),\n      500,\n      true\n    ),\n    \"area_registry_updated\"\n  );\n\nexport const subscribeAreaRegistry = (\n  conn: Connection,\n  onChange: (areas: AreaRegistryEntry[]) => void\n) =>\n  createCollection<AreaRegistryEntry[]>(\n    \"_areaRegistry\",\n    fetchAreaRegistry,\n    subscribeAreaRegistryUpdates,\n    conn,\n    onChange\n  );\n","import { HomeAssistant } from \"../types\";\nimport { createCollection } from \"home-assistant-js-websocket\";\nimport { debounce } from \"../common/util/debounce\";\nimport { LocalizeFunc } from \"../common/translations/localize\";\n\nexport interface DataEntryFlowProgressedEvent {\n  type: \"data_entry_flow_progressed\";\n  data: {\n    handler: string;\n    flow_id: string;\n    refresh: boolean;\n  };\n}\n\nexport interface ConfigEntry {\n  entry_id: string;\n  domain: string;\n  title: string;\n  source: string;\n  state: string;\n  connection_class: string;\n  supports_options: boolean;\n}\n\nexport interface FieldSchema {\n  name: string;\n  default?: any;\n  optional: boolean;\n}\n\nexport interface ConfigFlowProgress {\n  flow_id: string;\n  handler: string;\n  context: {\n    title_placeholders: { [key: string]: string };\n    [key: string]: any;\n  };\n}\n\nexport interface ConfigFlowStepForm {\n  type: \"form\";\n  flow_id: string;\n  handler: string;\n  step_id: string;\n  data_schema: FieldSchema[];\n  errors: { [key: string]: string };\n  description_placeholders: { [key: string]: string };\n}\n\nexport interface ConfigFlowStepExternal {\n  type: \"external\";\n  flow_id: string;\n  handler: string;\n  step_id: string;\n  url: string;\n  description_placeholders: { [key: string]: string };\n}\n\nexport interface ConfigFlowStepCreateEntry {\n  type: \"create_entry\";\n  version: number;\n  flow_id: string;\n  handler: string;\n  title: string;\n  // Config entry ID\n  result: string;\n  description: string;\n  description_placeholders: { [key: string]: string };\n}\n\nexport interface ConfigFlowStepAbort {\n  type: \"abort\";\n  flow_id: string;\n  handler: string;\n  reason: string;\n  description_placeholders: { [key: string]: string };\n}\n\nexport type ConfigFlowStep =\n  | ConfigFlowStepForm\n  | ConfigFlowStepExternal\n  | ConfigFlowStepCreateEntry\n  | ConfigFlowStepAbort;\n\nexport const createConfigFlow = (hass: HomeAssistant, handler: string) =>\n  hass.callApi<ConfigFlowStep>(\"POST\", \"config/config_entries/flow\", {\n    handler,\n  });\n\nexport const fetchConfigFlow = (hass: HomeAssistant, flowId: string) =>\n  hass.callApi<ConfigFlowStep>(\"GET\", `config/config_entries/flow/${flowId}`);\n\nexport const handleConfigFlowStep = (\n  hass: HomeAssistant,\n  flowId: string,\n  data: { [key: string]: any }\n) =>\n  hass.callApi<ConfigFlowStep>(\n    \"POST\",\n    `config/config_entries/flow/${flowId}`,\n    data\n  );\n\nexport const deleteConfigFlow = (hass: HomeAssistant, flowId: string) =>\n  hass.callApi(\"DELETE\", `config/config_entries/flow/${flowId}`);\n\nexport const getConfigFlowsInProgress = (hass: HomeAssistant) =>\n  hass.callApi<ConfigFlowProgress[]>(\"GET\", \"config/config_entries/flow\");\n\nexport const getConfigFlowHandlers = (hass: HomeAssistant) =>\n  hass.callApi<string[]>(\"GET\", \"config/config_entries/flow_handlers\");\n\nconst fetchConfigFlowInProgress = (conn) =>\n  conn.sendMessagePromise({\n    type: \"config/entity_registry/list\",\n  });\n\nconst subscribeConfigFlowInProgressUpdates = (conn, store) =>\n  debounce(\n    conn.subscribeEvents(\n      () =>\n        fetchConfigFlowInProgress(conn).then((flows) =>\n          store.setState(flows, true)\n        ),\n      500,\n      true\n    ),\n    \"config_entry_discovered\"\n  );\n\nexport const subscribeConfigFlowInProgress = (\n  hass: HomeAssistant,\n  onChange: (flows: ConfigFlowProgress[]) => void\n) =>\n  createCollection<ConfigFlowProgress[]>(\n    \"_configFlowProgress\",\n    fetchConfigFlowInProgress,\n    subscribeConfigFlowInProgressUpdates,\n    hass.connection,\n    onChange\n  );\n\nexport const getConfigEntries = (hass: HomeAssistant) =>\n  hass.callApi<ConfigEntry[]>(\"GET\", \"config/config_entries/entry\");\n\nexport const localizeConfigFlowTitle = (\n  localize: LocalizeFunc,\n  flow: ConfigFlowProgress\n) => {\n  const placeholders = flow.context.title_placeholders || {};\n  const placeholderKeys = Object.keys(placeholders);\n  if (placeholderKeys.length === 0) {\n    return localize(`component.${flow.handler}.config.title`);\n  }\n  const args: string[] = [];\n  placeholderKeys.forEach((key) => {\n    args.push(key);\n    args.push(placeholders[key]);\n  });\n  return localize(`component.${flow.handler}.config.flow_title`, ...args);\n};\n","import { HomeAssistant } from \"../types\";\nimport { createCollection, Connection } from \"home-assistant-js-websocket\";\nimport { debounce } from \"../common/util/debounce\";\n\nexport interface DeviceRegistryEntry {\n  id: string;\n  config_entries: string[];\n  connections: Array<[string, string]>;\n  manufacturer: string;\n  model?: string;\n  name?: string;\n  sw_version?: string;\n  hub_device_id?: string;\n  area_id?: string;\n  name_by_user?: string;\n}\n\nexport interface DeviceRegistryEntryMutableParams {\n  area_id?: string | null;\n  name_by_user?: string | null;\n}\n\nexport const updateDeviceRegistryEntry = (\n  hass: HomeAssistant,\n  deviceId: string,\n  updates: Partial<DeviceRegistryEntryMutableParams>\n) =>\n  hass.callWS<DeviceRegistryEntry>({\n    type: \"config/device_registry/update\",\n    device_id: deviceId,\n    ...updates,\n  });\n\nconst fetchDeviceRegistry = (conn) =>\n  conn.sendMessagePromise({\n    type: \"config/device_registry/list\",\n  });\n\nconst subscribeDeviceRegistryUpdates = (conn, store) =>\n  conn.subscribeEvents(\n    debounce(\n      () =>\n        fetchDeviceRegistry(conn).then((devices) =>\n          store.setState(devices, true)\n        ),\n      500,\n      true\n    ),\n    \"device_registry_updated\"\n  );\n\nexport const subscribeDeviceRegistry = (\n  conn: Connection,\n  onChange: (devices: DeviceRegistryEntry[]) => void\n) =>\n  createCollection<DeviceRegistryEntry[]>(\n    \"_dr\",\n    fetchDeviceRegistry,\n    subscribeDeviceRegistryUpdates,\n    conn,\n    onChange\n  );\n","import { createCollection, Connection } from \"home-assistant-js-websocket\";\nimport { HomeAssistant } from \"../types\";\nimport computeStateName from \"../common/entity/compute_state_name\";\nimport { debounce } from \"../common/util/debounce\";\n\nexport interface EntityRegistryEntry {\n  entity_id: string;\n  name: string;\n  platform: string;\n  config_entry_id?: string;\n  device_id?: string;\n  disabled_by?: string;\n}\n\nexport interface EntityRegistryEntryUpdateParams {\n  name: string | null;\n  new_entity_id: string;\n}\n\nexport const computeEntityRegistryName = (\n  hass: HomeAssistant,\n  entry: EntityRegistryEntry\n): string | null => {\n  if (entry.name) {\n    return entry.name;\n  }\n  const state = hass.states[entry.entity_id];\n  return state ? computeStateName(state) : null;\n};\n\nexport const updateEntityRegistryEntry = (\n  hass: HomeAssistant,\n  entityId: string,\n  updates: Partial<EntityRegistryEntryUpdateParams>\n): Promise<EntityRegistryEntry> =>\n  hass.callWS<EntityRegistryEntry>({\n    type: \"config/entity_registry/update\",\n    entity_id: entityId,\n    ...updates,\n  });\n\nexport const removeEntityRegistryEntry = (\n  hass: HomeAssistant,\n  entityId: string\n): Promise<void> =>\n  hass.callWS({\n    type: \"config/entity_registry/remove\",\n    entity_id: entityId,\n  });\n\nconst fetchEntityRegistry = (conn) =>\n  conn.sendMessagePromise({\n    type: \"config/entity_registry/list\",\n  });\n\nconst subscribeEntityRegistryUpdates = (conn, store) =>\n  conn.subscribeEvents(\n    debounce(\n      () =>\n        fetchEntityRegistry(conn).then((entities) =>\n          store.setState(entities, true)\n        ),\n      500,\n      true\n    ),\n    \"entity_registry_updated\"\n  );\n\nexport const subscribeEntityRegistry = (\n  conn: Connection,\n  onChange: (entities: EntityRegistryEntry[]) => void\n) =>\n  createCollection<EntityRegistryEntry[]>(\n    \"_entityRegistry\",\n    fetchEntityRegistry,\n    subscribeEntityRegistryUpdates,\n    conn,\n    onChange\n  );\n","import { fireEvent } from \"../../common/dom/fire_event\";\n\nexport interface HaConfigFlowParams {\n  continueFlowId?: string;\n  dialogClosedCallback: (params: { flowFinished: boolean }) => void;\n}\n\nexport const loadConfigFlowDialog = () =>\n  import(/* webpackChunkName: \"dialog-config-flow\" */ \"./dialog-config-flow\");\n\nexport const showConfigFlowDialog = (\n  element: HTMLElement,\n  dialogParams: HaConfigFlowParams\n): void => {\n  fireEvent(element, \"show-dialog\", {\n    dialogTag: \"dialog-config-flow\",\n    dialogImport: loadConfigFlowDialog,\n    dialogParams,\n  });\n};\n","import \"@polymer/paper-item/paper-icon-item\";\nimport \"@polymer/paper-item/paper-item-body\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport \"../../../components/ha-card\";\nimport \"../../../layouts/hass-subpage\";\n\nimport { EventsMixin } from \"../../../mixins/events-mixin\";\nimport LocalizeMixIn from \"../../../mixins/localize-mixin\";\nimport \"../../../components/entity/state-badge\";\nimport { computeEntityRegistryName } from \"../../../data/entity_registry\";\n\n/*\n * @appliesMixin LocalizeMixIn\n * @appliesMixin EventsMixin\n */\nclass HaCeEntitiesCard extends LocalizeMixIn(EventsMixin(PolymerElement)) {\n  static get template() {\n    return html`\n      <style>\n        ha-card {\n          flex: 1 0 100%;\n          padding-bottom: 8px;\n        }\n        paper-icon-item {\n          cursor: pointer;\n          padding-top: 4px;\n          padding-bottom: 4px;\n        }\n      </style>\n      <ha-card header=\"[[heading]]\">\n        <template is=\"dom-repeat\" items=\"[[entities]]\" as=\"entity\">\n          <paper-icon-item on-click=\"_openMoreInfo\">\n            <state-badge\n              state-obj=\"[[_computeStateObj(entity, hass)]]\"\n              slot=\"item-icon\"\n            ></state-badge>\n            <paper-item-body>\n              <div class=\"name\">[[_computeEntityName(entity, hass)]]</div>\n              <div class=\"secondary entity-id\">[[entity.entity_id]]</div>\n            </paper-item-body>\n          </paper-icon-item>\n        </template>\n      </ha-card>\n    `;\n  }\n\n  static get properties() {\n    return {\n      heading: String,\n      entities: Array,\n      hass: Object,\n    };\n  }\n\n  _computeStateObj(entity, hass) {\n    return hass.states[entity.entity_id];\n  }\n\n  _computeEntityName(entity, hass) {\n    return (\n      computeEntityRegistryName(hass, entity) ||\n      `(${this.localize(\n        \"ui.panel.config.integrations.config_entry.entity_unavailable\"\n      )})`\n    );\n  }\n\n  _openMoreInfo(ev) {\n    this.fire(\"hass-more-info\", { entityId: ev.model.entity.entity_id });\n  }\n}\n\ncustomElements.define(\"ha-ce-entities-card\", HaCeEntitiesCard);\n","import \"@polymer/iron-flex-layout/iron-flex-layout-classes\";\nimport \"@polymer/paper-tooltip/paper-tooltip\";\nimport \"@material/mwc-button\";\nimport \"@polymer/paper-fab/paper-fab\";\nimport \"@polymer/iron-icon/iron-icon\";\nimport \"@polymer/paper-item/paper-item\";\nimport \"@polymer/paper-item/paper-item-body\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport \"../../../components/ha-card\";\nimport \"../../../components/entity/ha-state-icon\";\nimport \"../../../layouts/hass-subpage\";\nimport \"../../../resources/ha-style\";\nimport \"../../../components/ha-icon-next\";\n\nimport { computeRTL } from \"../../../common/util/compute_rtl\";\nimport \"../ha-config-section\";\nimport { EventsMixin } from \"../../../mixins/events-mixin\";\nimport LocalizeMixin from \"../../../mixins/localize-mixin\";\nimport computeStateName from \"../../../common/entity/compute_state_name\";\nimport {\n  loadConfigFlowDialog,\n  showConfigFlowDialog,\n} from \"../../../dialogs/config-flow/show-dialog-config-flow\";\nimport { localizeConfigFlowTitle } from \"../../../data/config_entries\";\n\n/*\n * @appliesMixin LocalizeMixin\n * @appliesMixin EventsMixin\n */\nclass HaConfigManagerDashboard extends LocalizeMixin(\n  EventsMixin(PolymerElement)\n) {\n  static get template() {\n    return html`\n      <style include=\"iron-flex ha-style\">\n        ha-card {\n          overflow: hidden;\n        }\n        mwc-button {\n          top: 3px;\n          margin-right: -0.57em;\n        }\n        .config-entry-row {\n          display: flex;\n          padding: 0 16px;\n        }\n        ha-state-icon {\n          cursor: pointer;\n        }\n        .configured a {\n          color: var(--primary-text-color);\n          text-decoration: none;\n        }\n        paper-fab {\n          position: fixed;\n          bottom: 16px;\n          right: 16px;\n          z-index: 1;\n        }\n\n        paper-fab[is-wide] {\n          bottom: 24px;\n          right: 24px;\n        }\n\n        paper-fab[rtl] {\n          right: auto;\n          left: 16px;\n        }\n\n        paper-fab[rtl][is-wide] {\n          bottom: 24px;\n          right: auto;\n          left: 24px;\n        }\n      </style>\n\n      <hass-subpage\n        header=\"[[localize('ui.panel.config.integrations.caption')]]\"\n      >\n        <template is=\"dom-if\" if=\"[[progress.length]]\">\n          <ha-config-section>\n            <span slot=\"header\"\n              >[[localize('ui.panel.config.integrations.discovered')]]</span\n            >\n            <ha-card>\n              <template is=\"dom-repeat\" items=\"[[progress]]\">\n                <div class=\"config-entry-row\">\n                  <paper-item-body>\n                    [[_computeActiveFlowTitle(localize, item)]]\n                  </paper-item-body>\n                  <mwc-button on-click=\"_continueFlow\"\n                    >[[localize('ui.panel.config.integrations.configure')]]</mwc-button\n                  >\n                </div>\n              </template>\n            </ha-card>\n          </ha-config-section>\n        </template>\n\n        <ha-config-section class=\"configured\">\n          <span slot=\"header\"\n            >[[localize('ui.panel.config.integrations.configured')]]</span\n          >\n          <ha-card>\n            <template is=\"dom-if\" if=\"[[!entries.length]]\">\n              <div class=\"config-entry-row\">\n                <paper-item-body two-line>\n                  <div>[[localize('ui.panel.config.integrations.none')]]</div>\n                </paper-item-body>\n              </div>\n            </template>\n            <template is=\"dom-repeat\" items=\"[[entries]]\">\n              <a href=\"/config/integrations/[[item.entry_id]]\">\n                <paper-item>\n                  <paper-item-body two-line>\n                    <div>\n                      [[_computeIntegrationTitle(localize, item.domain)]]:\n                      [[item.title]]\n                    </div>\n                    <div secondary>\n                      <template\n                        is=\"dom-repeat\"\n                        items=\"[[_computeConfigEntryEntities(hass, item, entities)]]\"\n                      >\n                        <span>\n                          <ha-state-icon\n                            state-obj=\"[[item]]\"\n                            on-click=\"_handleMoreInfo\"\n                          ></ha-state-icon>\n                          <paper-tooltip position=\"bottom\"\n                            >[[_computeStateName(item)]]</paper-tooltip\n                          >\n                        </span>\n                      </template>\n                    </div>\n                  </paper-item-body>\n                  <ha-icon-next></ha-icon-next>\n                </paper-item>\n              </a>\n            </template>\n          </ha-card>\n        </ha-config-section>\n\n        <paper-fab\n          icon=\"hass:plus\"\n          title=\"[[localize('ui.panel.config.integrations.new')]]\"\n          on-click=\"_createFlow\"\n          is-wide$=\"[[isWide]]\"\n          rtl$=\"[[rtl]]\"\n        ></paper-fab>\n      </hass-subpage>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      isWide: Boolean,\n\n      /**\n       * Existing entries.\n       */\n      entries: Array,\n\n      /**\n       * Entity Registry entries.\n       */\n      entities: Array,\n\n      /**\n       * Current flows that are in progress and have not been started by a user.\n       * For example, can be discovered devices that require more config.\n       */\n      progress: Array,\n\n      handlers: Array,\n\n      rtl: {\n        type: Boolean,\n        reflectToAttribute: true,\n        computed: \"_computeRTL(hass)\",\n      },\n    };\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    loadConfigFlowDialog();\n  }\n\n  _createFlow() {\n    showConfigFlowDialog(this, {\n      dialogClosedCallback: () => this.fire(\"hass-reload-entries\"),\n    });\n  }\n\n  _continueFlow(ev) {\n    showConfigFlowDialog(this, {\n      continueFlowId: ev.model.item.flow_id,\n      dialogClosedCallback: () => this.fire(\"hass-reload-entries\"),\n    });\n  }\n\n  _computeIntegrationTitle(localize, integration) {\n    return localize(`component.${integration}.config.title`);\n  }\n\n  _computeActiveFlowTitle(localize, flow) {\n    return localizeConfigFlowTitle(localize, flow);\n  }\n\n  _computeConfigEntryEntities(hass, configEntry, entities) {\n    if (!entities) {\n      return [];\n    }\n    const states = [];\n    entities.forEach((entity) => {\n      if (\n        entity.config_entry_id === configEntry.entry_id &&\n        entity.entity_id in hass.states\n      ) {\n        states.push(hass.states[entity.entity_id]);\n      }\n    });\n    return states;\n  }\n\n  _computeStateName(stateObj) {\n    return computeStateName(stateObj);\n  }\n\n  _handleMoreInfo(ev) {\n    this.fire(\"hass-more-info\", { entityId: ev.model.item.entity_id });\n  }\n\n  _computeRTL(hass) {\n    return computeRTL(hass);\n  }\n}\n\ncustomElements.define(\"ha-config-entries-dashboard\", HaConfigManagerDashboard);\n","import { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport \"../../../layouts/hass-subpage\";\n\nimport \"../../../components/entity/state-badge\";\nimport { compare } from \"../../../common/string/compare\";\n\nimport \"./ha-device-card\";\nimport \"./ha-ce-entities-card\";\nimport { EventsMixin } from \"../../../mixins/events-mixin\";\nimport LocalizeMixin from \"../../../mixins/localize-mixin\";\nimport NavigateMixin from \"../../../mixins/navigate-mixin\";\n\nclass HaConfigEntryPage extends NavigateMixin(\n  EventsMixin(LocalizeMixin(PolymerElement))\n) {\n  static get template() {\n    return html`\n      <style>\n        .content {\n          display: flex;\n          flex-wrap: wrap;\n          padding: 4px;\n          justify-content: center;\n        }\n        .card {\n          box-sizing: border-box;\n          display: flex;\n          flex: 1 0 300px;\n          min-width: 0;\n          max-width: 500px;\n          padding: 8px;\n        }\n      </style>\n      <hass-subpage header=\"[[configEntry.title]]\">\n        <paper-icon-button\n          slot=\"toolbar-icon\"\n          icon=\"hass:delete\"\n          on-click=\"_removeEntry\"\n        ></paper-icon-button>\n        <div class=\"content\">\n          <template\n            is=\"dom-if\"\n            if=\"[[_computeIsEmpty(_configEntryDevices, _noDeviceEntities)]]\"\n          >\n            <p>\n              [[localize('ui.panel.config.integrations.config_entry.no_devices')]]\n            </p>\n          </template>\n          <template is=\"dom-repeat\" items=\"[[_configEntryDevices]]\" as=\"device\">\n            <ha-device-card\n              class=\"card\"\n              hass=\"[[hass]]\"\n              areas=\"[[areas]]\"\n              devices=\"[[devices]]\"\n              device=\"[[device]]\"\n              entities=\"[[entities]]\"\n              narrow=\"[[narrow]]\"\n            ></ha-device-card>\n          </template>\n          <template is=\"dom-if\" if=\"[[_noDeviceEntities.length]]\">\n            <ha-ce-entities-card\n              class=\"card\"\n              heading=\"[[localize('ui.panel.config.integrations.config_entry.no_device')]]\"\n              entities=\"[[_noDeviceEntities]]\"\n              hass=\"[[hass]]\"\n              narrow=\"[[narrow]]\"\n            ></ha-ce-entities-card>\n          </template>\n        </div>\n      </hass-subpage>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      isWide: Boolean,\n      narrow: Boolean,\n      configEntry: {\n        type: Object,\n        value: null,\n      },\n\n      _configEntryDevices: {\n        type: Array,\n        computed: \"_computeConfigEntryDevices(configEntry, devices)\",\n      },\n\n      /**\n       * All entity registry entries for this config entry that do not belong\n       * to a device.\n       */\n      _noDeviceEntities: {\n        type: Array,\n        computed: \"_computeNoDeviceEntities(configEntry, entities)\",\n      },\n\n      /**\n       * Area registry entries\n       */\n      areas: Array,\n\n      /**\n       * Device registry entries\n       */\n      devices: Array,\n\n      /**\n       * Existing entries.\n       */\n      entries: Array,\n\n      /**\n       * Entity Registry entries.\n       */\n      entities: Array,\n    };\n  }\n\n  _computeConfigEntryDevices(configEntry, devices) {\n    if (!devices) return [];\n    return devices\n      .filter((device) => device.config_entries.includes(configEntry.entry_id))\n      .sort(\n        (dev1, dev2) =>\n          !!dev1.hub_device_id - !!dev2.hub_device_id ||\n          compare(dev1.name, dev2.name)\n      );\n  }\n\n  _computeNoDeviceEntities(configEntry, entities) {\n    if (!entities) return [];\n    return entities.filter(\n      (ent) => !ent.device_id && ent.config_entry_id === configEntry.entry_id\n    );\n  }\n\n  _computeIsEmpty(configEntryDevices, noDeviceEntities) {\n    return configEntryDevices.length === 0 && noDeviceEntities.length === 0;\n  }\n\n  _removeEntry() {\n    if (\n      !confirm(\n        this.localize(\n          \"ui.panel.config.integrations.config_entry.delete_confirm\"\n        )\n      )\n    )\n      return;\n\n    const entryId = this.configEntry.entry_id;\n\n    this.hass\n      .callApi(\"delete\", `config/config_entries/entry/${entryId}`)\n      .then((result) => {\n        this.fire(\"hass-reload-entries\");\n        if (result.require_restart) {\n          alert(\n            this.localize(\n              \"ui.panel.config.integrations.config_entry.restart_confirm\"\n            )\n          );\n        }\n        this.navigate(\"/config/integrations/dashboard\", true);\n      });\n  }\n}\n\ncustomElements.define(\"ha-config-entry-page\", HaConfigEntryPage);\n","import \"@polymer/app-route/app-route\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\nimport { Debouncer } from \"@polymer/polymer/lib/utils/debounce\";\nimport { timeOut } from \"@polymer/polymer/lib/utils/async\";\n\nimport \"./ha-config-entries-dashboard\";\nimport \"./ha-config-entry-page\";\nimport NavigateMixin from \"../../../mixins/navigate-mixin\";\nimport { compare } from \"../../../common/string/compare\";\nimport { subscribeAreaRegistry } from \"../../../data/area_registry\";\n\nclass HaConfigIntegrations extends NavigateMixin(PolymerElement) {\n  static get template() {\n    return html`\n      <app-route\n        route=\"[[route]]\"\n        pattern=\"/:page\"\n        data=\"{{_routeData}}\"\n        tail=\"{{_routeTail}}\"\n      ></app-route>\n\n      <template is=\"dom-if\" if=\"[[_configEntry]]\">\n        <ha-config-entry-page\n          hass=\"[[hass]]\"\n          config-entry=\"[[_configEntry]]\"\n          areas=\"[[_areas]]\"\n          entries=\"[[_entries]]\"\n          entities=\"[[_entities]]\"\n          devices=\"[[_devices]]\"\n          narrow=\"[[narrow]]\"\n        ></ha-config-entry-page>\n      </template>\n      <template is=\"dom-if\" if=\"[[!_configEntry]]\">\n        <ha-config-entries-dashboard\n          hass=\"[[hass]]\"\n          entries=\"[[_entries]]\"\n          entities=\"[[_entities]]\"\n          handlers=\"[[_handlers]]\"\n          progress=\"[[_progress]]\"\n        ></ha-config-entries-dashboard>\n      </template>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      isWide: Boolean,\n      narrow: Boolean,\n      route: Object,\n\n      _configEntry: {\n        type: Object,\n        computed: \"_computeConfigEntry(_routeData, _entries)\",\n      },\n\n      /**\n       * Existing entries.\n       */\n      _entries: Array,\n\n      /**\n       * Entity Registry entries.\n       */\n      _entities: Array,\n\n      /**\n       * Device Registry entries.\n       */\n      _devices: Array,\n\n      /**\n       * Area Registry entries.\n       */\n      _areas: Array,\n\n      /**\n       * Current flows that are in progress and have not been started by a user.\n       * For example, can be discovered devices that require more config.\n       */\n      _progress: Array,\n\n      _handlers: Array,\n\n      _routeData: Object,\n      _routeTail: Object,\n    };\n  }\n\n  ready() {\n    super.ready();\n    this.addEventListener(\"hass-reload-entries\", () => this._loadData());\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._loadData();\n    this._unsubAreas = subscribeAreaRegistry(this.hass.connection, (areas) => {\n      this._areas = areas;\n    });\n\n    this.hass.connection\n      .subscribeEvents(() => {\n        this._debouncer = Debouncer.debounce(\n          this._debouncer,\n          timeOut.after(500),\n          () => this._loadData()\n        );\n      }, \"config_entry_discovered\")\n      .then((unsub) => {\n        this._unsubEvents = unsub;\n      });\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    if (this._unsubEvents) this._unsubEvents();\n    if (this._unsubAreas) this._unsubAreas();\n  }\n\n  _loadData() {\n    this.hass.callApi(\"get\", \"config/config_entries/entry\").then((entries) => {\n      this._entries = entries.sort((conf1, conf2) =>\n        compare(conf1.title, conf2.title)\n      );\n    });\n\n    this.hass.callApi(\"get\", \"config/config_entries/flow\").then((progress) => {\n      this._progress = progress;\n    });\n\n    this.hass\n      .callApi(\"get\", \"config/config_entries/flow_handlers\")\n      .then((handlers) => {\n        this._handlers = handlers;\n      });\n\n    this.hass\n      .callWS({ type: \"config/entity_registry/list\" })\n      .then((entities) => {\n        this._entities = entities;\n      });\n\n    this.hass\n      .callWS({ type: \"config/device_registry/list\" })\n      .then((devices) => {\n        this._devices = devices;\n      });\n  }\n\n  _computeConfigEntry(routeData, entries) {\n    return (\n      !!entries &&\n      !!routeData &&\n      entries.find((ent) => ent.entry_id === routeData.page)\n    );\n  }\n}\n\ncustomElements.define(\"ha-config-integrations\", HaConfigIntegrations);\n","import \"@polymer/paper-item/paper-icon-item\";\nimport \"@polymer/paper-item/paper-item-body\";\nimport \"@polymer/paper-dropdown-menu/paper-dropdown-menu\";\nimport \"@polymer/paper-item/paper-item\";\nimport \"@polymer/paper-listbox/paper-listbox\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport \"../../../components/ha-card\";\nimport \"../../../layouts/hass-subpage\";\n\nimport { EventsMixin } from \"../../../mixins/events-mixin\";\nimport LocalizeMixin from \"../../../mixins/localize-mixin\";\nimport computeStateName from \"../../../common/entity/compute_state_name\";\nimport \"../../../components/entity/state-badge\";\nimport { compare } from \"../../../common/string/compare\";\nimport {\n  subscribeDeviceRegistry,\n  updateDeviceRegistryEntry,\n} from \"../../../data/device_registry\";\nimport { subscribeAreaRegistry } from \"../../../data/area_registry\";\n\nimport {\n  showDeviceRegistryDetailDialog,\n  loadDeviceRegistryDetailDialog,\n} from \"./show-dialog-device-registry-detail\";\n\nfunction computeEntityName(hass, entity) {\n  if (entity.name) return entity.name;\n  const state = hass.states[entity.entity_id];\n  return state ? computeStateName(state) : null;\n}\n\n/*\n * @appliesMixin EventsMixin\n */\nclass HaDeviceCard extends EventsMixin(LocalizeMixin(PolymerElement)) {\n  static get template() {\n    return html`\n      <style>\n        :host(:not([narrow])) .device-entities {\n          max-height: 225px;\n          overflow: auto;\n        }\n        ha-card {\n          flex: 1 0 100%;\n          padding-bottom: 10px;\n          min-width: 0;\n        }\n        .card-header {\n          display: flex;\n          justify-content: space-between;\n        }\n        .card-header .name {\n          width: 90%;\n        }\n        .device {\n          width: 30%;\n        }\n        .device .name {\n          font-weight: bold;\n        }\n        .device .model,\n        .device .manuf,\n        .device .area {\n          color: var(--secondary-text-color);\n        }\n        .area .extra-info .name {\n          color: var(--primary-text-color);\n        }\n        .extra-info {\n          margin-top: 8px;\n        }\n        paper-icon-item {\n          cursor: pointer;\n          padding-top: 4px;\n          padding-bottom: 4px;\n        }\n        .manuf,\n        .entity-id,\n        .area {\n          color: var(--secondary-text-color);\n        }\n      </style>\n      <ha-card>\n        <div class=\"card-header\">\n          <div class=\"name\">[[_deviceName(device)]]</div>\n          <paper-icon-button\n            icon=\"hass:settings\"\n            on-click=\"_gotoSettings\"\n          ></paper-icon-button>\n        </div>\n        <div class=\"card-content\">\n          <div class=\"info\">\n            <div class=\"model\">[[device.model]]</div>\n            <div class=\"manuf\">\n              [[localize('ui.panel.config.integrations.config_entry.manuf',\n              'manufacturer', device.manufacturer)]]\n            </div>\n            <template is=\"dom-if\" if=\"[[device.area_id]]\">\n              <div class=\"area\">\n                <div class=\"extra-info\">\n                  [[localize('ui.panel.config.integrations.device_registry.area')]]\n                  <span class=\"name\">{{_computeArea(areas, device)}}</span>\n                </div>\n              </div>\n            </template>\n          </div>\n          <template is=\"dom-if\" if=\"[[device.hub_device_id]]\">\n            <div class=\"extra-info\">\n              [[localize('ui.panel.config.integrations.config_entry.hub')]]\n              <span class=\"hub\"\n                >[[_computeDeviceName(devices, device.hub_device_id)]]</span\n              >\n            </div>\n          </template>\n          <template is=\"dom-if\" if=\"[[device.sw_version]]\">\n            <div class=\"extra-info\">\n              [[localize('ui.panel.config.integrations.config_entry.firmware',\n              'version', device.sw_version)]]\n            </div>\n          </template>\n        </div>\n\n        <div class=\"device-entities\">\n          <template\n            is=\"dom-repeat\"\n            items=\"[[_computeDeviceEntities(hass, device, entities)]]\"\n            as=\"entity\"\n          >\n            <paper-icon-item on-click=\"_openMoreInfo\">\n              <state-badge\n                state-obj=\"[[_computeStateObj(entity, hass)]]\"\n                slot=\"item-icon\"\n              ></state-badge>\n              <paper-item-body>\n                <div class=\"name\">[[_computeEntityName(entity, hass)]]</div>\n                <div class=\"secondary entity-id\">[[entity.entity_id]]</div>\n              </paper-item-body>\n            </paper-icon-item>\n          </template>\n        </div>\n      </ha-card>\n    `;\n  }\n\n  static get properties() {\n    return {\n      device: Object,\n      devices: Array,\n      areas: Array,\n      entities: Array,\n      hass: Object,\n      narrow: {\n        type: Boolean,\n        reflectToAttribute: true,\n      },\n      _childDevices: {\n        type: Array,\n        computed: \"_computeChildDevices(device, devices)\",\n      },\n    };\n  }\n\n  firstUpdated(changedProps) {\n    super.firstUpdated(changedProps);\n    loadDeviceRegistryDetailDialog();\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._unsubAreas = subscribeAreaRegistry(this.hass.connection, (areas) => {\n      this._areas = areas;\n    });\n    this._unsubDevices = subscribeDeviceRegistry(\n      this.hass.connection,\n      (devices) => {\n        this.devices = devices;\n        this.device = devices.find((device) => device.id === this.device.id);\n      }\n    );\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    if (this._unsubAreas) {\n      this._unsubAreas();\n    }\n    if (this._unsubDevices) {\n      this._unsubDevices();\n    }\n  }\n\n  _computeArea(areas, device) {\n    if (!areas || !device || !device.area_id) {\n      return \"No Area\";\n    }\n    // +1 because of \"No Area\" entry\n    return areas.find((area) => area.area_id === device.area_id).name;\n  }\n\n  _computeChildDevices(device, devices) {\n    return devices\n      .filter((dev) => dev.hub_device_id === device.id)\n      .sort((dev1, dev2) => compare(dev1.name, dev2.name));\n  }\n\n  _computeDeviceEntities(hass, device, entities) {\n    return entities\n      .filter((entity) => entity.device_id === device.id)\n      .sort((ent1, ent2) =>\n        compare(\n          computeEntityName(hass, ent1) || `zzz${ent1.entity_id}`,\n          computeEntityName(hass, ent2) || `zzz${ent2.entity_id}`\n        )\n      );\n  }\n\n  _computeStateObj(entity, hass) {\n    return hass.states[entity.entity_id];\n  }\n\n  _computeEntityName(entity, hass) {\n    return (\n      computeEntityName(hass, entity) ||\n      `(${this.localize(\n        \"ui.panel.config.integrations.config_entry.entity_unavailable\"\n      )})`\n    );\n  }\n\n  _deviceName(device) {\n    return device.name_by_user || device.name;\n  }\n\n  _computeDeviceName(devices, deviceId) {\n    const device = devices.find((dev) => dev.id === deviceId);\n    return device\n      ? this._deviceName(device)\n      : `(${this.localize(\n          \"ui.panel.config.integrations.config_entry.device_unavailable\"\n        )})`;\n  }\n\n  _gotoSettings() {\n    const device = this.device;\n    showDeviceRegistryDetailDialog(this, {\n      device,\n      updateEntry: async (updates) => {\n        await updateDeviceRegistryEntry(this.hass, device.id, updates);\n      },\n    });\n  }\n\n  _openMoreInfo(ev) {\n    this.fire(\"hass-more-info\", { entityId: ev.model.entity.entity_id });\n  }\n}\n\ncustomElements.define(\"ha-device-card\", HaDeviceCard);\n","import { fireEvent } from \"../../../common/dom/fire_event\";\nimport {\n  DeviceRegistryEntry,\n  DeviceRegistryEntryMutableParams,\n} from \"../../../data/device_registry\";\n\nexport interface DeviceRegistryDetailDialogParams {\n  device: DeviceRegistryEntry;\n  updateEntry: (\n    updates: Partial<DeviceRegistryEntryMutableParams>\n  ) => Promise<unknown>;\n}\n\nexport const loadDeviceRegistryDetailDialog = () =>\n  import(/* webpackChunkName: \"device-registry-detail-dialog\" */ \"./dialog-device-registry-detail\");\n\nexport const showDeviceRegistryDetailDialog = (\n  element: HTMLElement,\n  deviceRegistryDetailParams: DeviceRegistryDetailDialogParams\n): void => {\n  fireEvent(element, \"show-dialog\", {\n    dialogTag: \"dialog-device-registry-detail\",\n    dialogImport: loadDeviceRegistryDetailDialog,\n    dialogParams: deviceRegistryDetailParams,\n  });\n};\n"],"sourceRoot":""}