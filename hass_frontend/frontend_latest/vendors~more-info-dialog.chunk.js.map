{"version":3,"sources":["webpack:///./node_modules/@polymer/app-layout/app-toolbar/app-toolbar.js","webpack:///./node_modules/@polymer/iron-icon/iron-icon.js","webpack:///./node_modules/@polymer/iron-media-query/iron-media-query.js","webpack:///./node_modules/@polymer/paper-card/paper-card.js","webpack:///./node_modules/@polymer/paper-dialog-behavior/paper-dialog-behavior.js","webpack:///./node_modules/@polymer/paper-dialog-behavior/paper-dialog-shared-styles.js","webpack:///./node_modules/@vaadin/vaadin-button/src/vaadin-button.js","webpack:///./node_modules/@vaadin/vaadin-button/theme/lumo/vaadin-button-styles.js","webpack:///./node_modules/@vaadin/vaadin-button/theme/lumo/vaadin-button.js","webpack:///./node_modules/@vaadin/vaadin-control-state-mixin/vaadin-control-state-mixin.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/src/vaadin-date-picker-helper.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/src/vaadin-date-picker-mixin.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/src/vaadin-date-picker-overlay-content.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/src/vaadin-date-picker-overlay.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/src/vaadin-date-picker-styles.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/src/vaadin-date-picker.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/src/vaadin-infinite-scroller.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/src/vaadin-month-calendar.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/theme/lumo/vaadin-date-picker-overlay-content-styles.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/theme/lumo/vaadin-date-picker-overlay-styles.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/theme/lumo/vaadin-date-picker-styles.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/theme/lumo/vaadin-date-picker.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/theme/lumo/vaadin-month-calendar-styles.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/vaadin-date-picker.js","webpack:///./node_modules/@vaadin/vaadin-development-mode-detector/vaadin-development-mode-detector.js","webpack:///./node_modules/@vaadin/vaadin-element-mixin/vaadin-element-mixin.js","webpack:///./node_modules/@vaadin/vaadin-lumo-styles/mixins/field-button.js","webpack:///./node_modules/@vaadin/vaadin-lumo-styles/mixins/required-field.js","webpack:///./node_modules/@vaadin/vaadin-text-field/src/vaadin-text-field-mixin.js","webpack:///./node_modules/@vaadin/vaadin-text-field/src/vaadin-text-field.js","webpack:///./node_modules/@vaadin/vaadin-text-field/theme/lumo/vaadin-text-field-styles.js","webpack:///./node_modules/@vaadin/vaadin-text-field/theme/lumo/vaadin-text-field.js","webpack:///./node_modules/@vaadin/vaadin-usage-statistics/vaadin-usage-statistics.js"],"names":["Polymer","_template","html","is","properties","icon","type","String","theme","src","_meta","value","Base","create","observers","_DEFAULT_ICONSET","_iconChanged","parts","split","_iconName","pop","_iconsetName","_updateIcon","_srcChanged","_usesIconset","_img","parentNode","dom","root","removeChild","_iconset","removeIcon","byKey","applyIcon","unlisten","window","listen","document","createElement","style","width","height","draggable","appendChild","queryMatches","Boolean","readOnly","notify","query","observer","full","_boundMQHandler","queryHandler","bind","_mq","attached","display","queryChanged","detached","_remove","_add","addListener","removeListener","matchMedia","mq","_setQueryMatches","matches","heading","image","alt","preloadImage","fadeImage","placeholderImage","elevation","Number","reflectToAttribute","animatedShadow","animated","computed","_isHidden","_headingChanged","currentHeading","getAttribute","currentLabel","setAttribute","_computeHeadingClass","_computeAnimated","PaperDialogBehaviorImpl","hostAttributes","modal","__readied","listeners","ready","__prevNoCancelOnOutsideClick","noCancelOnOutsideClick","__prevNoCancelOnEscKey","noCancelOnEscKey","__prevWithBackdrop","withBackdrop","_modalChanged","readied","_updateClosingReasonConfirmed","confirmed","closingReason","_onDialogClick","event","path","i","l","indexOf","target","hasAttribute","close","stopPropagation","PaperDialogBehavior","IronOverlayBehavior","$_documentContainer","innerHTML","head","content","ButtonElement","ElementMixin","ControlStateMixin","ThemableMixin","GestureEventListeners","PolymerElement","template","version","$","button","_addActiveListeners","disconnectedCallback","removeAttribute","disabled","addEventListener","e","keyCode","focusElement","customElements","define","TabIndexMixin","superClass","VaadinTabIndexMixin","tabindex","ShadyDOM","VaadinControlStateMixin","autofocus","_previousTabIndex","_isShiftTabbing","composedPath","_focus","_setFocused","ensureEventComposed","composed","dispatchEvent","CustomEvent","bubbles","cancelable","shadowRoot","defaultPrevented","shiftKey","HTMLElement","prototype","focus","apply","setTimeout","firefox","navigator","userAgent","match","parseFloat","nextSibling","fakeTarget","position","opacity","tabIndex","insertBefore","focused","requestAnimationFrame","_boundKeydownListener","_bodyKeydownListener","_boundKeyupListener","_bodyKeyupListener","connectedCallback","body","removeEventListener","_tabPressed","console","warn","localName","blur","_disabledChanged","_tabindexChanged","undefined","setProperties","click","DatePickerHelper","VaadinDatePickerHelper","_getISOWeekNumber","date","dayOfWeek","getDay","nearestThursdayDiff","nearestThursday","Date","getTime","firstOfJanuary","setFullYear","getFullYear","timeDiff","daysSinceFirstOfJanuary","Math","round","floor","_dateEquals","date1","date2","getMonth","getDate","_dateAllowed","min","max","_getClosestDate","dates","filter","reduce","closestDate","candidate","candidateDiff","abs","closestDateDiff","_extractDateParts","day","month","year","DatePickerMixin","subclass","VaadinDatePickerMixin","mixinBehaviors","IronResizableBehavior","_selectedDate","_focusedDate","required","name","initialPosition","label","opened","showWeekNumbers","_fullscreen","_fullscreenMediaQuery","_touchPrevented","Array","i18n","Object","monthNames","weekdays","weekdaysShort","firstDayOfWeek","week","calendar","clear","today","cancel","formatDate","d","yearStr","replace","y","substr","length","join","parseDate","text","parseInt","formatTitle","monthName","fullYear","_minDate","_maxDate","_noInput","_ios","_webkitOverflowScroll","webkitOverflowScrolling","_ignoreAnnounce","_focusOverlayOnOpen","_overlayInitialized","_boundOnScroll","_onScroll","_boundFocus","_boundUpdateAlignmentAndPosition","_updateAlignmentAndPosition","open","_preventDefault","_onKeydown","_onUserInput","_initOverlay","overlay","detail","_overlayContent","_close","_focusAndSelect","_onVaadinOverlayClose","readonly","_inputElement","_input","_nativeInput","inputElement","unwrap","_parseDate","str","exec","setMonth","setDate","_isNoInput","fullscreen","ios","_formatISO","pad","num","fmt","yearSign","yearFmt","yearAbs","_openedChanged","_selectedDateChanged","selectedDate","__userInputOccurred","__dispatchChange","inputValue","validate","_inputValue","_focusedDateChanged","focusedDate","_ignoreFocusedDateChange","_updateHasValue","__getOverlayTheme","overlayInitialized","_handleDateChange","property","oldValue","_valueChanged","_minChanged","_maxChanged","inputRect","getBoundingClientRect","bottomAlign","top","innerHeight","rightAlign","left","clientWidth","innerWidth","viewportWidth","documentElement","removeProperty","right","viewportHeight","clientHeight","bottom","getComputedStyle","getPropertyValue","_repositionYearScroller","_fullscreenChanged","_onOverlayOpened","_openedWithFocusRing","parsedInitialPosition","scrollToDate","_preventWebkitOverflowScrollingTouch","parentElement","updateStyles","element","result","oldInlineValue","push","_onOverlayClosed","forEach","prevented","dateObject","parsedDate","_isValidDate","selectionStart","selectionEnd","invalid","checkValidity","inputValid","minMaxValid","inputValidity","contains","_setSelectionRange","a","b","setSelectionRange","preventDefault","_eventKey","keys","k","IronA11yKeysBehavior","keyboardEventMatchesKeys","isNaN","allowedKeys","focusCancel","revealDate","_validateInput","_userInputValueChanged","_announceFocusedDate","announceFocusedDate","querySelector","DatePickerOverlayContentElement","ThemePropertyMixin","_focusedMonthDate","_originDate","_visibleMonthIndex","_desktopMode","_translateX","_yearScrollerWidth","_ignoreTaps","_notTapping","minDate","maxDate","_focused","_stopPropagation","_onOverlayFocus","_onOverlayBlur","_closeYearScroller","_toggleAnimateClass","setTouchAction","scrollers","IronA11yAnnouncer","requestAvailability","_currentlyFocusedDate","announce","concat","cancelButton","animate","_scrollToPosition","_differenceInMonths","_isCurrentYear","yearsFromNow","_isSelectedYear","diff","scrolledAboveViewport","monthScroller","visibleItems","itemHeight","scrolledBelowViewport","_initialPositionChanged","yearScroller","_repositionMonthScroller","_onMonthScroll","_doIgnoreTaps","_onYearScroll","_onYearScrollTouchStart","_onMonthScrollTouchStart","_debouncer","Debouncer","debounce","timeOut","after","_formatDisplayed","_onTodayTap","_scrollToCurrentMonth","_showClear","_onYearTap","scrollDelta","yearDelta","targetPosition","_targetPosition","easingFunction","t","c","duration","start","smoothScroll","timestamp","currentTime","currentPos","oldPosition","_limit","range","_handleTrack","dx","ddy","ddx","newTranslateX","_track","state","_openYearScroller","enable","classList","add","remove","_toggleYearScroller","_isYearScrollerVisible","_translateXChanged","x","transform","_yearAfterXYears","index","_yearAfterXMonths","months","_dateAfterXMonths","_differenceInYears","_clear","overlayContent","getRootNode","host","_cancel","isToday","todayButton","isCancel","isScroller","eventKey","isFullscreen","isShift","_moveFocusByDays","_moveFocusInsideMonth","_moveFocusByMonths","_focusDate","dateToFocus","_focusClosestDate","days","targetMonth","_isTodayAllowed","todayMidnight","DatePickerOverlayElement","DisableUpgradeMixin","OverlayElement","DatePickerElement","errorMessage","placeholder","_userInputValue","afterNextRender","sourceEvent","prevent","_clearTouchend","_toggle","input","_getAriaExpanded","toString","InfiniteScrollerElement","bufferSize","_initialScroll","_initialIndex","_buffers","_preventScrollEvent","_mayHaveMomentum","_initialized","active","slice","call","querySelectorAll","fullHeight","tpl","_TemplateClass","templatize","forwardHostProp","prop","buffer","children","insertionPoint","_itemWrapper","instance","isFirefox","toLowerCase","scroller","_activated","_createPool","_finishInit","_initDone","_ensureStampedInstance","translateY","_reset","_translateBuffer","up","_bufferHeight","updated","reverse","_scroll","_scrollDisabled","scrollTop","bufferOffset","offsetTop","upperThresholdReached","lowerThresholdReached","_updateClones","_debouncerScrollFinish","scrollerRect","_isVisible","_firstIndex","_itemHeightVal","ShadyCSS","nativeCss","getComputedStyleValue","tmpStyleProp","setProperty","itemHeightPx","_debouncerUpdateClones","container","itemWrapper","contentId","_contentIndex","slotName","flush","firstElementChild","tmpInstance","set","viewPortOnly","bufferIndex","firstIndex","rect","MonthCalendarElement","ignoreTaps","_days","_isDisabled","firstDate","lastDate","_getTitle","_onMonthGridTouchStart","_dateAdd","delta","_applyFirstDayOfWeek","weekDayNames","_getWeekDayNames","weekDayNamesShort","map","weekDay","weekDayShort","_getDate","_showWeekNumbersChanged","_showWeekSeparator","_isToday","_getDays","startMonth","_getWeekNumber","acc","_getWeekNumbers","arr","_handleTap","_getRole","_getAriaLabel","ariaLabel","_getAriaDisabled","DEV_MODE_CODE_REGEXP","isMinified","test","uncommentAndRun","isDevelopmentMode","isForcedDevelopmentMode","isLocalhost","isFlowProductionMode","localStorage","getItem","location","hostname","Vaadin","Flow","clients","productionModeApps","key","client","productionMode","callback","args","Function","log","runIfDevelopmentMode","developmentMode","registrations","developmentModeCallback","usageStatistics","statsJob","VaadinElementMixin","_finalizeClass","idlePeriod","enqueueDebouncer","doctype","HOST_PROPS","default","accessible","PROP_TYPE","DEFAULT","ACCESSIBLE","TextFieldMixin","VaadinTextFieldMixin","autocomplete","autocorrect","autocapitalize","autoselect","clearButtonVisible","maxlength","minlength","hasValue","preventInvalidInput","_labelId","_errorId","slotted","_slottedTagName","_onInput","__preventInput","stopImmediatePropagation","_inputDebouncer","__fromClearButton","__userInput","_stateChanged","clearButton","_onChange","_valueClearing","changeEvent","newVal","oldVal","_labelChanged","_onSlotChange","_slottedInput","_validateSlottedValue","_addInputListeners","_addIEListeners","_removeInputListeners","_removeIEListeners","_propagateHostAttributes","attr","_hostPropsChanged","attributesValues","_hostAccessiblePropsChanged","attributeNames","_setOrToggleAttribute","node","pattern","_boundOnInput","_boundOnChange","_boundOnBlur","_boundOnFocus","_onBlur","_onFocus","defaultInput","_onClearButtonClick","_onKeyDown","uniqueId","_uniqueId","constructor","select","inputEvent","Event","_shouldPreventInput","_createPropertyObserver","_getActiveErrorId","errorId","_getActiveLabelId","labelId","_getErrorMessageAriaHidden","attributeChangedCallback","isSafari","WEBKIT_PROPERTY","el","TextFieldElement","list","title","maybeGatherAndSendStats"],"mappings":"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","file":"vendors~more-info-dialog.chunk.js","sourcesContent":["/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\n\n/**\napp-toolbar is a horizontal toolbar containing items that can be used for\nlabel, navigation, search and actions.\n\n### Example\n\nAdd a title to the toolbar.\n\n```html\n<app-toolbar>\n  <div main-title>App name</div>\n</app-toolbar>\n```\n\nAdd a button to the left and right side of the toolbar.\n\n```html\n<app-toolbar>\n  <paper-icon-button icon=\"menu\"></paper-icon-button>\n  <div main-title>App name</div>\n  <paper-icon-button icon=\"search\"></paper-icon-button>\n</app-toolbar>\n```\n\nYou can use the attributes `top-item` or `bottom-item` to completely fit an\nelement to the top or bottom of the toolbar respectively.\n\n### Content attributes\n\nAttribute            | Description\n---------------------|---------------------------------------------------------\n`main-title`         | The main title element.\n`condensed-title`    | The title element if used inside a condensed app-header.\n`spacer`             | Adds a left margin of `64px`.\n`bottom-item`        | Sticks the element to the bottom of the toolbar.\n`top-item`           | Sticks the element to the top of the toolbar.\n\n### Styling\n\nCustom property              | Description                  | Default\n-----------------------------|------------------------------|-----------------------\n`--app-toolbar-font-size`    | Toolbar font size            | 20px\n\n@group App Elements\n@element app-toolbar\n@demo app-toolbar/demo/index.html\n*/\nPolymer({\n  _template: html`\n    <style>\n\n      :host {\n        @apply --layout-horizontal;\n        @apply --layout-center;\n        position: relative;\n        height: 64px;\n        padding: 0 16px;\n        pointer-events: none;\n        font-size: var(--app-toolbar-font-size, 20px);\n      }\n\n      :host ::slotted(*) {\n        pointer-events: auto;\n      }\n\n      :host ::slotted(paper-icon-button) {\n        /* paper-icon-button/issues/33 */\n        font-size: 0;\n      }\n\n      :host ::slotted([main-title]),\n      :host ::slotted([condensed-title]) {\n        pointer-events: none;\n        @apply --layout-flex;\n      }\n\n      :host ::slotted([bottom-item]) {\n        position: absolute;\n        right: 0;\n        bottom: 0;\n        left: 0;\n      }\n\n      :host ::slotted([top-item]) {\n        position: absolute;\n        top: 0;\n        right: 0;\n        left: 0;\n      }\n\n      :host ::slotted([spacer]) {\n        margin-left: 64px;\n      }\n    </style>\n\n    <slot></slot>\n`,\n\n  is: 'app-toolbar'\n});\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\n\nimport {IronMeta} from '@polymer/iron-meta/iron-meta.js';\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {dom} from '@polymer/polymer/lib/legacy/polymer.dom.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\nimport {Base} from '@polymer/polymer/polymer-legacy.js';\n\n/**\n\nThe `iron-icon` element displays an icon. By default an icon renders as a 24px\nsquare.\n\nExample using src:\n\n    <iron-icon src=\"star.png\"></iron-icon>\n\nExample setting size to 32px x 32px:\n\n    <iron-icon class=\"big\" src=\"big_star.png\"></iron-icon>\n\n    <style is=\"custom-style\">\n      .big {\n        --iron-icon-height: 32px;\n        --iron-icon-width: 32px;\n      }\n    </style>\n\nThe iron elements include several sets of icons. To use the default set of\nicons, import `iron-icons.js` and use the `icon` attribute to specify an icon:\n\n    <script type=\"module\">\n      import \"@polymer/iron-icons/iron-icons.js\";\n    </script>\n\n    <iron-icon icon=\"menu\"></iron-icon>\n\nTo use a different built-in set of icons, import the specific\n`iron-icons/<iconset>-icons.js`, and specify the icon as `<iconset>:<icon>`.\nFor example, to use a communication icon, you would use:\n\n    <script type=\"module\">\n      import \"@polymer/iron-icons/communication-icons.js\";\n    </script>\n\n    <iron-icon icon=\"communication:email\"></iron-icon>\n\nYou can also create custom icon sets of bitmap or SVG icons.\n\nExample of using an icon named `cherry` from a custom iconset with the ID\n`fruit`:\n\n    <iron-icon icon=\"fruit:cherry\"></iron-icon>\n\nSee `<iron-iconset>` and `<iron-iconset-svg>` for more information about how to\ncreate a custom iconset.\n\nSee the `iron-icons` demo to see the icons available in the various iconsets.\n\n### Styling\n\nThe following custom properties are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--iron-icon` | Mixin applied to the icon | {}\n`--iron-icon-width` | Width of the icon | `24px`\n`--iron-icon-height` | Height of the icon | `24px`\n`--iron-icon-fill-color` | Fill color of the svg icon | `currentcolor`\n`--iron-icon-stroke-color` | Stroke color of the svg icon | none\n\n@group Iron Elements\n@element iron-icon\n@demo demo/index.html\n@hero hero.svg\n@homepage polymer.github.io\n*/\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        @apply --layout-inline;\n        @apply --layout-center-center;\n        position: relative;\n\n        vertical-align: middle;\n\n        fill: var(--iron-icon-fill-color, currentcolor);\n        stroke: var(--iron-icon-stroke-color, none);\n\n        width: var(--iron-icon-width, 24px);\n        height: var(--iron-icon-height, 24px);\n        @apply --iron-icon;\n      }\n\n      :host([hidden]) {\n        display: none;\n      }\n    </style>\n`,\n\n  is: 'iron-icon',\n\n  properties: {\n\n    /**\n     * The name of the icon to use. The name should be of the form:\n     * `iconset_name:icon_name`.\n     */\n    icon: {type: String},\n\n    /**\n     * The name of the theme to used, if one is specified by the\n     * iconset.\n     */\n    theme: {type: String},\n\n    /**\n     * If using iron-icon without an iconset, you can set the src to be\n     * the URL of an individual icon image file. Note that this will take\n     * precedence over a given icon attribute.\n     */\n    src: {type: String},\n\n    /**\n     * @type {!IronMeta}\n     */\n    _meta: {value: Base.create('iron-meta', {type: 'iconset'})}\n\n  },\n\n  observers: [\n    '_updateIcon(_meta, isAttached)',\n    '_updateIcon(theme, isAttached)',\n    '_srcChanged(src, isAttached)',\n    '_iconChanged(icon, isAttached)'\n  ],\n\n  _DEFAULT_ICONSET: 'icons',\n\n  _iconChanged: function(icon) {\n    var parts = (icon || '').split(':');\n    this._iconName = parts.pop();\n    this._iconsetName = parts.pop() || this._DEFAULT_ICONSET;\n    this._updateIcon();\n  },\n\n  _srcChanged: function(src) {\n    this._updateIcon();\n  },\n\n  _usesIconset: function() {\n    return this.icon || !this.src;\n  },\n\n  /** @suppress {visibility} */\n  _updateIcon: function() {\n    if (this._usesIconset()) {\n      if (this._img && this._img.parentNode) {\n        dom(this.root).removeChild(this._img);\n      }\n      if (this._iconName === '') {\n        if (this._iconset) {\n          this._iconset.removeIcon(this);\n        }\n      } else if (this._iconsetName && this._meta) {\n        this._iconset = /** @type {?Polymer.Iconset} */ (\n            this._meta.byKey(this._iconsetName));\n        if (this._iconset) {\n          this._iconset.applyIcon(this, this._iconName, this.theme);\n          this.unlisten(window, 'iron-iconset-added', '_updateIcon');\n        } else {\n          this.listen(window, 'iron-iconset-added', '_updateIcon');\n        }\n      }\n    } else {\n      if (this._iconset) {\n        this._iconset.removeIcon(this);\n      }\n      if (!this._img) {\n        this._img = document.createElement('img');\n        this._img.style.width = '100%';\n        this._img.style.height = '100%';\n        this._img.draggable = false;\n      }\n      this._img.src = this.src;\n      dom(this.root).appendChild(this._img);\n    }\n  }\n});\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\n\n/**\n`iron-media-query` can be used to data bind to a CSS media query.\nThe `query` property is a bare CSS media query.\nThe `query-matches` property is a boolean representing whether the page matches\nthat media query.\n\nExample:\n\n```html\n<iron-media-query query=\"(min-width: 600px)\" query-matches=\"{{queryMatches}}\">\n</iron-media-query>\n```\n\n@group Iron Elements\n@demo demo/index.html\n@hero hero.svg\n@element iron-media-query\n*/\nPolymer({\n\n  is: 'iron-media-query',\n\n  properties: {\n\n    /**\n     * The Boolean return value of the media query.\n     */\n    queryMatches: {type: Boolean, value: false, readOnly: true, notify: true},\n\n    /**\n     * The CSS media query to evaluate.\n     */\n    query: {type: String, observer: 'queryChanged'},\n\n    /**\n     * If true, the query attribute is assumed to be a complete media query\n     * string rather than a single media feature.\n     */\n    full: {type: Boolean, value: false},\n\n    /**\n     * @type {function(MediaQueryList)}\n     */\n    _boundMQHandler: {\n      value: function() {\n        return this.queryHandler.bind(this);\n      }\n    },\n\n    /**\n     * @type {MediaQueryList}\n     */\n    _mq: {value: null}\n  },\n\n  attached: function() {\n    this.style.display = 'none';\n    this.queryChanged();\n  },\n\n  detached: function() {\n    this._remove();\n  },\n\n  _add: function() {\n    if (this._mq) {\n      this._mq.addListener(this._boundMQHandler);\n    }\n  },\n\n  _remove: function() {\n    if (this._mq) {\n      this._mq.removeListener(this._boundMQHandler);\n    }\n    this._mq = null;\n  },\n\n  queryChanged: function() {\n    this._remove();\n    var query = this.query;\n    if (!query) {\n      return;\n    }\n    if (!this.full && query[0] !== '(') {\n      query = '(' + query + ')';\n    }\n    this._mq = window.matchMedia(query);\n    this._add();\n    this.queryHandler(this._mq);\n  },\n\n  queryHandler: function(mq) {\n    this._setQueryMatches(mq.matches);\n  }\n\n});\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport '@polymer/iron-image/iron-image.js';\nimport '@polymer/paper-styles/element-styles/paper-material-styles.js';\nimport '@polymer/paper-styles/default-theme.js';\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\n\n/**\nMaterial design:\n[Cards](https://www.google.com/design/spec/components/cards.html)\n\n`paper-card` is a container with a drop shadow.\n\nExample:\n\n    <paper-card heading=\"Card Title\">\n      <div class=\"card-content\">Some content</div>\n      <div class=\"card-actions\">\n        <paper-button>Some action</paper-button>\n      </div>\n    </paper-card>\n\nExample - top card image:\n\n    <paper-card heading=\"Card Title\" image=\"/path/to/image.png\" alt=\"image\">\n      ...\n    </paper-card>\n\n### Accessibility\n\nBy default, the `aria-label` will be set to the value of the `heading`\nattribute.\n\n### Styling\n\nThe following custom properties and mixins are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-card-background-color` | The background color of the card | `--primary-background-color`\n`--paper-card-header-color` | The color of the header text | `#000`\n`--paper-card-header` | Mixin applied to the card header section | `{}`\n`--paper-card-header-text` | Mixin applied to the title in the card header section | `{}`\n`--paper-card-header-image` | Mixin applied to the image in the card header section | `{}`\n`--paper-card-header-image-text` | Mixin applied to the text overlapping the image in the card header section | `{}`\n`--paper-card-content` | Mixin applied to the card content section| `{}`\n`--paper-card-actions` | Mixin applied to the card action section | `{}`\n`--paper-card` | Mixin applied to the card | `{}`\n\n@group Paper Elements\n@element paper-card\n@demo demo/index.html\n*/\nPolymer({\n  _template: html`\n    <style include=\"paper-material-styles\">\n      :host {\n        display: inline-block;\n        position: relative;\n        box-sizing: border-box;\n        background-color: var(--paper-card-background-color, var(--primary-background-color));\n        border-radius: 2px;\n\n        @apply --paper-font-common-base;\n        @apply --paper-card;\n      }\n\n      /* IE 10 support for HTML5 hidden attr */\n      :host([hidden]), [hidden] {\n        display: none !important;\n      }\n\n      .header {\n        position: relative;\n        border-top-left-radius: inherit;\n        border-top-right-radius: inherit;\n        overflow: hidden;\n\n        @apply --paper-card-header;\n      }\n\n      .header iron-image {\n        display: block;\n        width: 100%;\n        --iron-image-width: 100%;\n        pointer-events: none;\n\n        @apply --paper-card-header-image;\n      }\n\n      .header .title-text {\n        padding: 16px;\n        font-size: 24px;\n        font-weight: 400;\n        color: var(--paper-card-header-color, #000);\n\n        @apply --paper-card-header-text;\n      }\n\n      .header .title-text.over-image {\n        position: absolute;\n        bottom: 0px;\n\n        @apply --paper-card-header-image-text;\n      }\n\n      :host ::slotted(.card-content) {\n        padding: 16px;\n        position:relative;\n\n        @apply --paper-card-content;\n      }\n\n      :host ::slotted(.card-actions) {\n        border-top: 1px solid #e8e8e8;\n        padding: 5px 16px;\n        position:relative;\n\n        @apply --paper-card-actions;\n      }\n\n      :host([elevation=\"1\"]) {\n        @apply --paper-material-elevation-1;\n      }\n\n      :host([elevation=\"2\"]) {\n        @apply --paper-material-elevation-2;\n      }\n\n      :host([elevation=\"3\"]) {\n        @apply --paper-material-elevation-3;\n      }\n\n      :host([elevation=\"4\"]) {\n        @apply --paper-material-elevation-4;\n      }\n\n      :host([elevation=\"5\"]) {\n        @apply --paper-material-elevation-5;\n      }\n    </style>\n\n    <div class=\"header\">\n      <iron-image hidden\\$=\"[[!image]]\" aria-hidden\\$=\"[[_isHidden(image)]]\" src=\"[[image]]\" alt=\"[[alt]]\" placeholder=\"[[placeholderImage]]\" preload=\"[[preloadImage]]\" fade=\"[[fadeImage]]\"></iron-image>\n      <div hidden\\$=\"[[!heading]]\" class\\$=\"title-text [[_computeHeadingClass(image)]]\">[[heading]]</div>\n    </div>\n\n    <slot></slot>\n`,\n\n  is: 'paper-card',\n\n  properties: {\n    /**\n     * The title of the card.\n     */\n    heading: {type: String, value: '', observer: '_headingChanged'},\n\n    /**\n     * The url of the title image of the card.\n     */\n    image: {type: String, value: ''},\n\n    /**\n     * The text alternative of the card's title image.\n     */\n    alt: {type: String},\n\n    /**\n     * When `true`, any change to the image url property will cause the\n     * `placeholder` image to be shown until the image is fully rendered.\n     */\n    preloadImage: {type: Boolean, value: false},\n\n    /**\n     * When `preloadImage` is true, setting `fadeImage` to true will cause the\n     * image to fade into place.\n     */\n    fadeImage: {type: Boolean, value: false},\n\n    /**\n     * This image will be used as a background/placeholder until the src image\n     * has loaded. Use of a data-URI for placeholder is encouraged for instant\n     * rendering.\n     */\n    placeholderImage: {type: String, value: null},\n\n    /**\n     * The z-depth of the card, from 0-5.\n     */\n    elevation: {type: Number, value: 1, reflectToAttribute: true},\n\n    /**\n     * Set this to true to animate the card shadow when setting a new\n     * `z` value.\n     */\n    animatedShadow: {type: Boolean, value: false},\n\n    /**\n     * Read-only property used to pass down the `animatedShadow` value to\n     * the underlying paper-material style (since they have different names).\n     */\n    animated: {\n      type: Boolean,\n      reflectToAttribute: true,\n      readOnly: true,\n      computed: '_computeAnimated(animatedShadow)'\n    }\n  },\n\n  /**\n   * Format function for aria-hidden. Use the ! operator results in the\n   * empty string when given a falsy value.\n   */\n  _isHidden: function(image) {\n    return image ? 'false' : 'true';\n  },\n\n  _headingChanged: function(heading) {\n    var currentHeading = this.getAttribute('heading'),\n        currentLabel = this.getAttribute('aria-label');\n\n    if (typeof currentLabel !== 'string' || currentLabel === currentHeading) {\n      this.setAttribute('aria-label', heading);\n    }\n  },\n\n  _computeHeadingClass: function(image) {\n    return image ? ' over-image' : '';\n  },\n\n  _computeAnimated: function(animatedShadow) {\n    return animatedShadow;\n  }\n});\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport {IronOverlayBehavior} from '@polymer/iron-overlay-behavior/iron-overlay-behavior.js';\nimport {dom} from '@polymer/polymer/lib/legacy/polymer.dom.js';\n\n/**\n  Use `Polymer.PaperDialogBehavior` and `paper-dialog-shared-styles.html` to\n  implement a Material Design dialog.\n\n  For example, if `<paper-dialog-impl>` implements this behavior:\n\n      <paper-dialog-impl>\n          <h2>Header</h2>\n          <div>Dialog body</div>\n          <div class=\"buttons\">\n              <paper-button dialog-dismiss>Cancel</paper-button>\n              <paper-button dialog-confirm>Accept</paper-button>\n          </div>\n      </paper-dialog-impl>\n\n  `paper-dialog-shared-styles.html` provide styles for a header, content area,\n  and an action area for buttons. Use the `<h2>` tag for the header and the\n  `buttons` class for the action area. You can use the `paper-dialog-scrollable`\n  element (in its own repository) if you need a scrolling content area.\n\n  Use the `dialog-dismiss` and `dialog-confirm` attributes on interactive\n  controls to close the dialog. If the user dismisses the dialog with\n  `dialog-confirm`, the `closingReason` will update to include `confirmed:\n  true`.\n\n  ### Accessibility\n\n  This element has `role=\"dialog\"` by default. Depending on the context, it may\n  be more appropriate to override this attribute with `role=\"alertdialog\"`.\n\n  If `modal` is set, the element will prevent the focus from exiting the\n  element. It will also ensure that focus remains in the dialog.\n\n  @hero hero.svg\n  @demo demo/index.html\n  @polymerBehavior PaperDialogBehavior\n */\nexport const PaperDialogBehaviorImpl = {\n\n  hostAttributes: {'role': 'dialog', 'tabindex': '-1'},\n\n  properties: {\n\n    /**\n     * If `modal` is true, this implies `no-cancel-on-outside-click`,\n     * `no-cancel-on-esc-key` and `with-backdrop`.\n     */\n    modal: {type: Boolean, value: false},\n\n    __readied: {type: Boolean, value: false}\n\n  },\n\n  observers: ['_modalChanged(modal, __readied)'],\n\n  listeners: {'tap': '_onDialogClick'},\n\n  /**\n   * @return {void}\n   */\n  ready: function() {\n    // Only now these properties can be read.\n    this.__prevNoCancelOnOutsideClick = this.noCancelOnOutsideClick;\n    this.__prevNoCancelOnEscKey = this.noCancelOnEscKey;\n    this.__prevWithBackdrop = this.withBackdrop;\n    this.__readied = true;\n  },\n\n  _modalChanged: function(modal, readied) {\n    // modal implies noCancelOnOutsideClick, noCancelOnEscKey and withBackdrop.\n    // We need to wait for the element to be ready before we can read the\n    // properties values.\n    if (!readied) {\n      return;\n    }\n\n    if (modal) {\n      this.__prevNoCancelOnOutsideClick = this.noCancelOnOutsideClick;\n      this.__prevNoCancelOnEscKey = this.noCancelOnEscKey;\n      this.__prevWithBackdrop = this.withBackdrop;\n      this.noCancelOnOutsideClick = true;\n      this.noCancelOnEscKey = true;\n      this.withBackdrop = true;\n    } else {\n      // If the value was changed to false, let it false.\n      this.noCancelOnOutsideClick =\n          this.noCancelOnOutsideClick && this.__prevNoCancelOnOutsideClick;\n      this.noCancelOnEscKey =\n          this.noCancelOnEscKey && this.__prevNoCancelOnEscKey;\n      this.withBackdrop = this.withBackdrop && this.__prevWithBackdrop;\n    }\n  },\n\n  _updateClosingReasonConfirmed: function(confirmed) {\n    this.closingReason = this.closingReason || {};\n    this.closingReason.confirmed = confirmed;\n  },\n\n  /**\n   * Will dismiss the dialog if user clicked on an element with dialog-dismiss\n   * or dialog-confirm attribute.\n   */\n  _onDialogClick: function(event) {\n    // Search for the element with dialog-confirm or dialog-dismiss,\n    // from the root target until this (excluded).\n    var path = dom(event).path;\n    for (var i = 0, l = path.indexOf(this); i < l; i++) {\n      var target = path[i];\n      if (target.hasAttribute &&\n          (target.hasAttribute('dialog-dismiss') ||\n           target.hasAttribute('dialog-confirm'))) {\n        this._updateClosingReasonConfirmed(\n            target.hasAttribute('dialog-confirm'));\n        this.close();\n        event.stopPropagation();\n        break;\n      }\n    }\n  }\n\n};\n\n/** @polymerBehavior */\nexport const PaperDialogBehavior =\n    [IronOverlayBehavior, PaperDialogBehaviorImpl];\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\n/*\n### Styling\n\nThe following custom properties and mixins are available for styling.\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-dialog-background-color` | Dialog background color | `--primary-background-color`\n`--paper-dialog-color` | Dialog foreground color | `--primary-text-color`\n`--paper-dialog` | Mixin applied to the dialog | `{}`\n`--paper-dialog-title` | Mixin applied to the title (`<h2>`) element | `{}`\n`--paper-dialog-button-color` | Button area foreground color | `--default-primary-color`\n*/\nimport '@polymer/polymer/polymer-legacy.js';\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport '@polymer/paper-styles/default-theme.js';\nimport '@polymer/paper-styles/typography.js';\nimport '@polymer/paper-styles/shadow.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.setAttribute('style', 'display: none;');\n\n$_documentContainer.innerHTML = `<dom-module id=\"paper-dialog-shared-styles\">\n  <template>\n    <style>\n      :host {\n        display: block;\n        margin: 24px 40px;\n\n        background: var(--paper-dialog-background-color, var(--primary-background-color));\n        color: var(--paper-dialog-color, var(--primary-text-color));\n\n        @apply --paper-font-body1;\n        @apply --shadow-elevation-16dp;\n        @apply --paper-dialog;\n      }\n\n      :host > ::slotted(*) {\n        margin-top: 20px;\n        padding: 0 24px;\n      }\n\n      :host > ::slotted(.no-padding) {\n        padding: 0;\n      }\n\n      \n      :host > ::slotted(*:first-child) {\n        margin-top: 24px;\n      }\n\n      :host > ::slotted(*:last-child) {\n        margin-bottom: 24px;\n      }\n\n      /* In 1.x, this selector was \\`:host > ::content h2\\`. In 2.x <slot> allows\n      to select direct children only, which increases the weight of this\n      selector, so we have to re-define first-child/last-child margins below. */\n      :host > ::slotted(h2) {\n        position: relative;\n        margin: 0;\n\n        @apply --paper-font-title;\n        @apply --paper-dialog-title;\n      }\n\n      /* Apply mixin again, in case it sets margin-top. */\n      :host > ::slotted(h2:first-child) {\n        margin-top: 24px;\n        @apply --paper-dialog-title;\n      }\n\n      /* Apply mixin again, in case it sets margin-bottom. */\n      :host > ::slotted(h2:last-child) {\n        margin-bottom: 24px;\n        @apply --paper-dialog-title;\n      }\n\n      :host > ::slotted(.paper-dialog-buttons),\n      :host > ::slotted(.buttons) {\n        position: relative;\n        padding: 8px 8px 8px 24px;\n        margin: 0;\n\n        color: var(--paper-dialog-button-color, var(--primary-color));\n\n        @apply --layout-horizontal;\n        @apply --layout-end-justified;\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport { GestureEventListeners } from '@polymer/polymer/lib/mixins/gesture-event-listeners.js';\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { ControlStateMixin } from '@vaadin/vaadin-control-state-mixin/vaadin-control-state-mixin.js';\nimport { ElementMixin } from '@vaadin/vaadin-element-mixin/vaadin-element-mixin.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { addListener } from '@polymer/polymer/lib/utils/gestures.js';\n/**\n * `<vaadin-button>` is a Web Component providing an accessible and customizable button.\n *\n * ```html\n * <vaadin-button>\n * </vaadin-button>\n * ```\n *\n * ```js\n * document.querySelector('vaadin-button').addEventListener('click', () => alert('Hello World!'));\n * ```\n *\n * ### Styling\n *\n * The following shadow DOM parts are exposed for styling:\n *\n * Part name | Description\n * ----------------|----------------\n * `label` | The label (text) inside the button\n * `prefix` | A slot for e.g. an icon before the label\n * `suffix` | A slot for e.g. an icon after the label\n *\n *\n * The following attributes are exposed for styling:\n *\n * Attribute | Description\n * --------- | -----------\n * `active` | Set when the button is pressed down, either with mouse, touch or the keyboard.\n * `disabled` | Set when the button is disabled.\n * `focus-ring` | Set when the button is focused using the keyboard.\n * `focused` | Set when the button is focused.\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @memberof Vaadin\n * @mixes Vaadin.ElementMixin\n * @mixes Vaadin.ControlStateMixin\n * @mixes Vaadin.ThemableMixin\n * @mixes Polymer.GestureEventListeners\n * @demo demo/index.html\n */\nclass ButtonElement extends\n  ElementMixin(\n    ControlStateMixin(\n      ThemableMixin(\n        GestureEventListeners(PolymerElement)))) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: inline-block;\n        position: relative;\n        outline: none;\n        white-space: nowrap;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      /* Ensure the button is always aligned on the baseline */\n      .vaadin-button-container::before {\n        content: \"\\\\2003\";\n        display: inline-block;\n        width: 0;\n      }\n\n      .vaadin-button-container {\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        text-align: center;\n        width: 100%;\n        height: 100%;\n        min-height: inherit;\n        text-shadow: inherit;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        user-select: none;\n      }\n\n      [part=\"prefix\"],\n      [part=\"suffix\"] {\n        flex: none;\n      }\n\n      [part=\"label\"] {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n\n      #button {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        opacity: 0;\n        cursor: inherit;\n      }\n    </style>\n    <div class=\"vaadin-button-container\">\n      <div part=\"prefix\">\n        <slot name=\"prefix\"></slot>\n      </div>\n      <div part=\"label\">\n        <slot></slot>\n      </div>\n      <div part=\"suffix\">\n        <slot name=\"suffix\"></slot>\n      </div>\n    </div>\n    <button id=\"button\" type=\"button\"></button>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-button';\n  }\n\n  static get version() {\n    return '2.2.0';\n  }\n\n  ready() {\n    super.ready();\n\n    // Leaving default role in the native button, makes navigation announcement\n    // being different when using focus navigation (tab) versus using normal\n    // navigation (arrows). The first way announces the label on a button\n    // since the focus is moved programmatically, and the second on a group.\n    this.setAttribute('role', 'button');\n    this.$.button.setAttribute('role', 'presentation');\n\n    this._addActiveListeners();\n  }\n\n  /**\n   * @protected\n   */\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n    // `active` state is preserved when the element is disconnected between keydown and keyup events.\n    // reproducible in `<vaadin-date-picker>` when closing on `Cancel` or `Today` click.\n    if (this.hasAttribute('active')) {\n      this.removeAttribute('active');\n    }\n  }\n\n  _addActiveListeners() {\n    addListener(this, 'down', () => !this.disabled && this.setAttribute('active', ''));\n    addListener(this, 'up', () => this.removeAttribute('active'));\n    this.addEventListener('keydown', e => !this.disabled && [13, 32].indexOf(e.keyCode) >= 0 && this.setAttribute('active', ''));\n    this.addEventListener('keyup', () => this.removeAttribute('active'));\n    this.addEventListener('blur', () => this.removeAttribute('active'));\n  }\n\n  /**\n   * @protected\n   */\n  get focusElement() {\n    return this.$.button;\n  }\n}\n\ncustomElements.define(ButtonElement.is, ButtonElement);\n\nexport { ButtonElement };\n","import '@vaadin/vaadin-lumo-styles/color.js';\nimport '@vaadin/vaadin-lumo-styles/sizing.js';\nimport '@vaadin/vaadin-lumo-styles/spacing.js';\nimport '@vaadin/vaadin-lumo-styles/style.js';\nimport '@vaadin/vaadin-lumo-styles/typography.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\n\nconst $_documentContainer = html`<dom-module id=\"lumo-button\" theme-for=\"vaadin-button\">\n  <template>\n    <style>\n      :host {\n        /* Sizing */\n        --lumo-button-size: var(--lumo-size-m);\n        min-width: calc(var(--lumo-button-size) * 2);\n        height: var(--lumo-button-size);\n        padding: 0 calc(var(--lumo-button-size) / 3 + var(--lumo-border-radius) / 2);\n        margin: var(--lumo-space-xs) 0;\n        box-sizing: border-box;\n        /* Style */\n        font-family: var(--lumo-font-family);\n        font-size: var(--lumo-font-size-m);\n        font-weight: 500;\n        color: var(--_lumo-button-color, var(--lumo-primary-text-color));\n        background-color: var(--_lumo-button-background-color, var(--lumo-contrast-5pct));\n        border-radius: var(--lumo-border-radius);\n        cursor: default;\n        -webkit-tap-highlight-color: transparent;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n      }\n\n      /* Set only for the internal parts so we don’t affect the host vertical alignment */\n      [part=\"label\"],\n      [part=\"prefix\"],\n      [part=\"suffix\"] {\n        line-height: var(--lumo-line-height-xs);\n      }\n\n      [part=\"label\"] {\n        padding: calc(var(--lumo-button-size) / 6) 0;\n      }\n\n      :host([theme~=\"small\"]) {\n        font-size: var(--lumo-font-size-s);\n        --lumo-button-size: var(--lumo-size-s);\n      }\n\n      :host([theme~=\"large\"]) {\n        font-size: var(--lumo-font-size-l);\n        --lumo-button-size: var(--lumo-size-l);\n      }\n\n      /* This needs to be the last selector for it to take priority */\n      :host([disabled][disabled]) {\n        pointer-events: none;\n        color: var(--lumo-disabled-text-color);\n        background-color: var(--lumo-contrast-5pct);\n      }\n\n      /* For interaction states */\n      :host::before,\n      :host::after {\n        content: \"\";\n        /* We rely on the host always being relative */\n        position: absolute;\n        z-index: 1;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        background-color: currentColor;\n        border-radius: inherit;\n        opacity: 0;\n        transition: opacity 0.2s;\n        pointer-events: none;\n      }\n\n      /* Hover */\n\n      :host(:hover)::before {\n        opacity: 0.05;\n      }\n\n      /* Disable hover for touch devices */\n      @media (pointer: coarse) {\n        :host(:not([active]):hover)::before {\n          opacity: 0;\n        }\n      }\n\n      /* Active */\n\n      :host::after {\n        transition: opacity 1.4s, transform 0.1s;\n        filter: blur(8px);\n      }\n\n      :host([active])::before {\n        opacity: 0.1;\n        transition-duration: 0s;\n      }\n\n      :host([active])::after {\n        opacity: 0.1;\n        transition-duration: 0s, 0s;\n        transform: scale(0);\n      }\n\n      /* Keyboard focus */\n\n      :host([focus-ring]) {\n        box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);\n      }\n\n      /* Types (primary, tertiary, tertiary-inline */\n\n      :host([theme~=\"tertiary\"]),\n      :host([theme~=\"tertiary-inline\"]) {\n        background-color: transparent !important;\n        transition: opacity 0.2s;\n        min-width: 0;\n      }\n\n      :host([theme~=\"tertiary\"])::before,\n      :host([theme~=\"tertiary-inline\"])::before {\n        display: none;\n      }\n\n      :host([theme~=\"tertiary\"]) {\n        padding: 0 calc(var(--lumo-button-size) / 6);\n      }\n\n      @media (hover: hover) {\n        :host([theme*=\"tertiary\"]:not([active]):hover) {\n          opacity: 0.8;\n        }\n      }\n\n      :host([theme~=\"tertiary\"][active]),\n      :host([theme~=\"tertiary-inline\"][active]) {\n        opacity: 0.5;\n        transition-duration: 0s;\n      }\n\n      :host([theme~=\"tertiary-inline\"]) {\n        margin: 0;\n        height: auto;\n        padding: 0;\n        line-height: inherit;\n        font-size: inherit;\n      }\n\n      :host([theme~=\"tertiary-inline\"]) [part=\"label\"] {\n        padding: 0;\n        overflow: visible;\n        line-height: inherit;\n      }\n\n      :host([theme~=\"primary\"]) {\n        background-color: var(--_lumo-button-primary-background-color, var(--lumo-primary-color));\n        color: var(--_lumo-button-primary-color, var(--lumo-primary-contrast-color));\n        font-weight: 600;\n        min-width: calc(var(--lumo-button-size) * 2.5);\n      }\n\n      :host([theme~=\"primary\"][disabled]) {\n        background-color: var(--lumo-primary-color-50pct);\n        color: var(--lumo-primary-contrast-color);\n      }\n\n      :host([theme~=\"primary\"]:hover)::before {\n        opacity: 0.1;\n      }\n\n      :host([theme~=\"primary\"][active])::before {\n        background-color: var(--lumo-shade-20pct);\n      }\n\n      @media (pointer: coarse) {\n        :host([theme~=\"primary\"][active])::before {\n          background-color: var(--lumo-shade-60pct);\n        }\n\n        :host([theme~=\"primary\"]:not([active]):hover)::before {\n          opacity: 0;\n        }\n      }\n\n      :host([theme~=\"primary\"][active])::after {\n        opacity: 0.2;\n      }\n\n      /* Colors (success, error, contrast) */\n\n      :host([theme~=\"success\"]) {\n        color: var(--lumo-success-text-color);\n      }\n\n      :host([theme~=\"success\"][theme~=\"primary\"]) {\n        background-color: var(--lumo-success-color);\n        color: var(--lumo-success-contrast-color);\n      }\n\n      :host([theme~=\"success\"][theme~=\"primary\"][disabled]) {\n        background-color: var(--lumo-success-color-50pct);\n      }\n\n      :host([theme~=\"error\"]) {\n        color: var(--lumo-error-text-color);\n      }\n\n      :host([theme~=\"error\"][theme~=\"primary\"]) {\n        background-color: var(--lumo-error-color);\n        color: var(--lumo-error-contrast-color);\n      }\n\n      :host([theme~=\"error\"][theme~=\"primary\"][disabled]) {\n        background-color: var(--lumo-error-color-50pct);\n      }\n\n      :host([theme~=\"contrast\"]) {\n        color: var(--lumo-contrast);\n      }\n\n      :host([theme~=\"contrast\"][theme~=\"primary\"]) {\n        background-color: var(--lumo-contrast);\n        color: var(--lumo-base-color);\n      }\n\n      :host([theme~=\"contrast\"][theme~=\"primary\"][disabled]) {\n        background-color: var(--lumo-contrast-50pct);\n      }\n\n      /* Icons */\n\n      [part] ::slotted(iron-icon) {\n        display: inline-block;\n        width: var(--lumo-icon-size-m);\n        height: var(--lumo-icon-size-m);\n      }\n\n      /* Vaadin icons are based on a 16x16 grid (unlike Lumo and Material icons with 24x24), so they look too big by default */\n      [part] ::slotted(iron-icon[icon^=\"vaadin:\"]) {\n        padding: 0.25em;\n        box-sizing: border-box !important;\n      }\n\n      [part=\"prefix\"] {\n        margin-left: -0.25em;\n        margin-right: 0.25em;\n      }\n\n      [part=\"suffix\"] {\n        margin-left: 0.25em;\n        margin-right: -0.25em;\n      }\n\n      /* Icon-only */\n\n      :host([theme~=\"icon\"]) {\n        min-width: var(--lumo-button-size);\n        padding-left: calc(var(--lumo-button-size) / 4);\n        padding-right: calc(var(--lumo-button-size) / 4);\n      }\n\n      :host([theme~=\"icon\"]) [part=\"prefix\"],\n      :host([theme~=\"icon\"]) [part=\"suffix\"] {\n        margin-left: 0;\n        margin-right: 0;\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n","import './vaadin-button-styles.js';\nimport '../../src/vaadin-button.js';\n","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n/**\n * A private mixin to avoid problems with dynamic properties and Polymer Analyzer.\n * No need to expose these properties in the API docs.\n * @polymerMixin\n */\nconst TabIndexMixin = superClass => class VaadinTabIndexMixin extends superClass {\n  static get properties() {\n    var properties = {\n      /**\n       * Internal property needed to listen to `tabindex` attribute changes.\n       *\n       * For changing the tabindex of this component use the native `tabIndex` property.\n       * @private\n       */\n      tabindex: {\n        type: Number,\n        value: 0,\n        reflectToAttribute: true,\n        observer: '_tabindexChanged'\n      }\n    };\n\n    if (window.ShadyDOM) {\n      // ShadyDOM browsers need the `tabIndex` in order to notify when the user changes it programmatically.\n      properties['tabIndex'] = properties.tabindex;\n    }\n\n    return properties;\n  }\n};\n\n/**\n * Polymer.IronControlState is not a proper 2.0 class, also, its tabindex\n * implementation fails in the shadow dom, so we have this for vaadin elements.\n * @polymerMixin\n */\nexport const ControlStateMixin = superClass => class VaadinControlStateMixin extends TabIndexMixin(superClass) {\n  static get properties() {\n    return {\n      /**\n       * Specify that this control should have input focus when the page loads.\n       */\n      autofocus: {\n        type: Boolean\n      },\n\n      /**\n       * Stores the previous value of tabindex attribute of the disabled element\n       */\n      _previousTabIndex: {\n        type: Number\n      },\n\n      /**\n       * If true, the user cannot interact with this element.\n       */\n      disabled: {\n        type: Boolean,\n        observer: '_disabledChanged',\n        reflectToAttribute: true\n      },\n\n      _isShiftTabbing: {\n        type: Boolean\n      }\n    };\n  }\n\n  ready() {\n    this.addEventListener('focusin', e => {\n      if (e.composedPath()[0] === this) {\n        this._focus(e);\n      } else if (e.composedPath().indexOf(this.focusElement) !== -1 && !this.disabled) {\n        this._setFocused(true);\n      }\n    });\n    this.addEventListener('focusout', e => this._setFocused(false));\n\n    // In super.ready() other 'focusin' and 'focusout' listeners might be\n    // added, so we call it after our own ones to ensure they execute first.\n    // Issue to watch out: when incorrect, <vaadin-combo-box> refocuses the\n    // input field on iOS after “Done” is pressed.\n    super.ready();\n\n    // This fixes the bug in Firefox 61 (https://bugzilla.mozilla.org/show_bug.cgi?id=1472887)\n    // where focusout event does not go out of shady DOM because composed property in the event is not true\n    const ensureEventComposed = e => {\n      if (!e.composed) {\n        e.target.dispatchEvent(new CustomEvent(e.type, {\n          bubbles: true,\n          composed: true,\n          cancelable: false\n        }));\n      }\n    };\n    this.shadowRoot.addEventListener('focusin', ensureEventComposed);\n    this.shadowRoot.addEventListener('focusout', ensureEventComposed);\n\n    this.addEventListener('keydown', e => {\n      if (!e.defaultPrevented && e.keyCode === 9) {\n        if (e.shiftKey) {\n          // Flag is checked in _focus event handler.\n          this._isShiftTabbing = true;\n          HTMLElement.prototype.focus.apply(this);\n          this._setFocused(false);\n          // Event handling in IE is asynchronous and the flag is removed asynchronously as well\n          setTimeout(() => this._isShiftTabbing = false, 0);\n        } else {\n          // Workaround for FF63-65 bug that causes the focus to get lost when\n          // blurring a slotted component with focusable shadow root content\n          // https://bugzilla.mozilla.org/show_bug.cgi?id=1528686\n          // TODO: Remove when safe\n          const firefox = window.navigator.userAgent.match(/Firefox\\/(\\d\\d\\.\\d)/);\n          if (firefox\n            && parseFloat(firefox[1]) >= 63\n            && parseFloat(firefox[1]) < 66\n            && this.parentNode\n            && this.nextSibling) {\n            const fakeTarget = document.createElement('input');\n            fakeTarget.style.position = 'absolute';\n            fakeTarget.style.opacity = 0;\n            fakeTarget.tabIndex = this.tabIndex;\n\n            this.parentNode.insertBefore(fakeTarget, this.nextSibling);\n            fakeTarget.focus();\n            fakeTarget.addEventListener('focusout', () => this.parentNode.removeChild(fakeTarget));\n          }\n        }\n\n      }\n    });\n\n    if (this.autofocus && !this.focused && !this.disabled) {\n      window.requestAnimationFrame(() => {\n        this._focus();\n        this._setFocused(true);\n        this.setAttribute('focus-ring', '');\n      });\n    }\n\n    this._boundKeydownListener = this._bodyKeydownListener.bind(this);\n    this._boundKeyupListener = this._bodyKeyupListener.bind(this);\n  }\n\n  /**\n   * @protected\n   */\n  connectedCallback() {\n    super.connectedCallback();\n\n    document.body.addEventListener('keydown', this._boundKeydownListener, true);\n    document.body.addEventListener('keyup', this._boundKeyupListener, true);\n  }\n\n  /**\n   * @protected\n   */\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n    document.body.removeEventListener('keydown', this._boundKeydownListener, true);\n    document.body.removeEventListener('keyup', this._boundKeyupListener, true);\n\n    // in non-Chrome browsers, blur does not fire on the element when it is disconnected.\n    // reproducible in `<vaadin-date-picker>` when closing on `Cancel` or `Today` click.\n    if (this.hasAttribute('focused')) {\n      this._setFocused(false);\n    }\n  }\n\n  _setFocused(focused) {\n    if (focused) {\n      this.setAttribute('focused', '');\n    } else {\n      this.removeAttribute('focused');\n    }\n\n    // focus-ring is true when the element was focused from the keyboard.\n    // Focus Ring [A11ycasts]: https://youtu.be/ilj2P5-5CjI\n    if (focused && this._tabPressed) {\n      this.setAttribute('focus-ring', '');\n    } else {\n      this.removeAttribute('focus-ring');\n    }\n  }\n\n  _bodyKeydownListener(e) {\n    this._tabPressed = e.keyCode === 9;\n  }\n\n  _bodyKeyupListener() {\n    this._tabPressed = false;\n  }\n\n  /**\n   * Any element extending this mixin is required to implement this getter.\n   * It returns the actual focusable element in the component.\n   */\n  get focusElement() {\n    window.console.warn(`Please implement the 'focusElement' property in <${this.localName}>`);\n    return this;\n  }\n\n  _focus(e) {\n    if (this._isShiftTabbing) {\n      return;\n    }\n\n    this.focusElement.focus();\n    this._setFocused(true);\n  }\n\n  /**\n   * Moving the focus from the host element causes firing of the blur event what leads to problems in IE.\n   * @private\n   */\n  focus() {\n    if (!this.focusElement || this.disabled) {\n      return;\n    }\n\n    this.focusElement.focus();\n    this._setFocused(true);\n  }\n\n  /**\n   * Native bluring in the host element does nothing because it does not have the focus.\n   * In chrome it works, but not in FF.\n   * @private\n   */\n  blur() {\n    this.focusElement.blur();\n    this._setFocused(false);\n  }\n\n  _disabledChanged(disabled) {\n    this.focusElement.disabled = disabled;\n    if (disabled) {\n      this.blur();\n      this._previousTabIndex = this.tabindex;\n      this.tabindex = -1;\n      this.setAttribute('aria-disabled', 'true');\n    } else {\n      if (typeof this._previousTabIndex !== 'undefined') {\n        this.tabindex = this._previousTabIndex;\n      }\n      this.removeAttribute('aria-disabled');\n    }\n  }\n\n  _tabindexChanged(tabindex) {\n    if (tabindex !== undefined) {\n      this.focusElement.tabIndex = tabindex;\n    }\n\n    if (this.disabled && this.tabindex) {\n      // If tabindex attribute was changed while checkbox was disabled\n      if (this.tabindex !== -1) {\n        this._previousTabIndex = this.tabindex;\n      }\n      this.tabindex = tabindex = undefined;\n    }\n\n    if (window.ShadyDOM) {\n      this.setProperties({tabIndex: tabindex, tabindex: tabindex});\n    }\n  }\n\n  /**\n   * @protected\n   */\n  click() {\n    if (!this.disabled) {\n      super.click();\n    }\n  }\n};\n","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nexport const DatePickerHelper = class VaadinDatePickerHelper {\n  /**\n   * Get ISO 8601 week number for the given date.\n   *\n   * @param {Date} Date object\n   * @return {Number} Week number\n   */\n  static _getISOWeekNumber(date) {\n    // Ported from Vaadin Framework method com.vaadin.client.DateTimeService.getISOWeekNumber(date)\n    var dayOfWeek = date.getDay(); // 0 == sunday\n\n    // ISO 8601 use weeks that start on monday so we use\n    // mon=1,tue=2,...sun=7;\n    if (dayOfWeek === 0) {\n      dayOfWeek = 7;\n    }\n    // Find nearest thursday (defines the week in ISO 8601). The week number\n    // for the nearest thursday is the same as for the target date.\n    var nearestThursdayDiff = 4 - dayOfWeek; // 4 is thursday\n    var nearestThursday = new Date(date.getTime() + nearestThursdayDiff * 24 * 3600 * 1000);\n\n    var firstOfJanuary = new Date(0, 0);\n    firstOfJanuary.setFullYear(nearestThursday.getFullYear());\n\n    var timeDiff = nearestThursday.getTime() - firstOfJanuary.getTime();\n\n    // Rounding the result, as the division doesn't result in an integer\n    // when the given date is inside daylight saving time period.\n    var daysSinceFirstOfJanuary = Math.round(timeDiff / (24 * 3600 * 1000));\n\n    return Math.floor((daysSinceFirstOfJanuary) / 7 + 1);\n  }\n\n  /**\n   * Check if two dates are equal.\n   *\n   * @param {Date} date1\n   * @param {Date} date2\n   * @return {Boolean} True if the given date objects refer to the same date\n   */\n  static _dateEquals(date1, date2) {\n    return date1 instanceof Date && date2 instanceof Date &&\n        date1.getFullYear() === date2.getFullYear() &&\n        date1.getMonth() === date2.getMonth() &&\n        date1.getDate() === date2.getDate();\n  }\n\n  /**\n   * Check if the given date is in the range of allowed dates.\n   *\n   * @param {Date} date The date to check\n   * @param {Date} min Range start\n   * @param {Date} max Range end\n   * @return {Boolean} True if the date is in the range\n   */\n  static _dateAllowed(date, min, max) {\n    return (!min || date >= min) && (!max || date <= max);\n  }\n\n  /**\n   * Get closest date from array of dates.\n   *\n   * @param {Date} date The date to compare dates with\n   * @param {Array} dates Array of date objects\n   * @return {Date} Closest date\n   */\n  static _getClosestDate(date, dates) {\n    return dates.filter(date => date !== undefined)\n      .reduce((closestDate, candidate) => {\n        if (!candidate) {\n          return closestDate;\n        }\n\n        if (!closestDate) {\n          return candidate;\n        }\n\n        var candidateDiff = Math.abs(date.getTime() - candidate.getTime());\n        var closestDateDiff = Math.abs(closestDate.getTime() - date.getTime());\n        return candidateDiff < closestDateDiff ? candidate : closestDate;\n      });\n  }\n\n  /**\n   * Extracts the basic component parts of a date (day, month and year)\n   * to the expected format.\n   */\n  static _extractDateParts(date) {\n    return {\n      day: date.getDate(),\n      month: date.getMonth(),\n      year: date.getFullYear()\n    };\n  }\n};\n","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { IronA11yKeysBehavior } from '@polymer/iron-a11y-keys-behavior/iron-a11y-keys-behavior.js';\n\nimport { IronResizableBehavior } from '@polymer/iron-resizable-behavior/iron-resizable-behavior.js';\nimport { DatePickerHelper } from './vaadin-date-picker-helper.js';\nimport { addListener } from '@polymer/polymer/lib/utils/gestures.js';\nimport { mixinBehaviors } from '@polymer/polymer/lib/legacy/class.js';\n\n/**\n * @polymerMixin\n */\nexport const DatePickerMixin = subclass => class VaadinDatePickerMixin extends mixinBehaviors(\n  [IronResizableBehavior], subclass\n) {\n\n  static get properties() {\n    return {\n      /**\n       * The current selected date.\n       */\n      _selectedDate: {\n        type: Date\n      },\n\n      _focusedDate: Date,\n\n      /**\n       * The value for this element.\n       *\n       * Supported date formats:\n       * - ISO 8601 `\"YYYY-MM-DD\"` (default)\n       * - 6-digit extended ISO 8601 `\"+YYYYYY-MM-DD\"`, `\"-YYYYYY-MM-DD\"`\n       *\n       * @type {String}\n       */\n      value: {\n        type: String,\n        observer: '_valueChanged',\n        notify: true,\n        value: ''\n      },\n\n      /**\n       * Set to true to mark the input as required.\n       */\n      required: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * The name of this element.\n       */\n      name: {\n        type: String\n      },\n\n      /**\n       * Date which should be visible when there is no value selected.\n       *\n       * The same date formats as for the `value` property are supported.\n       */\n      initialPosition: String,\n\n      /**\n       * The label for this element.\n       */\n      label: String,\n\n      /**\n       * Set true to open the date selector overlay.\n       */\n      opened: {\n        type: Boolean,\n        reflectToAttribute: true,\n        notify: true,\n        observer: '_openedChanged'\n      },\n\n      /**\n       * Set true to display ISO-8601 week numbers in the calendar. Notice that\n       * displaying week numbers is only supported when `i18n.firstDayOfWeek`\n       * is 1 (Monday).\n       */\n      showWeekNumbers: {\n        type: Boolean\n      },\n\n      _fullscreen: {\n        value: false,\n        observer: '_fullscreenChanged'\n      },\n\n      _fullscreenMediaQuery: {\n        value: '(max-width: 420px), (max-height: 420px)'\n      },\n\n      // An array of ancestor elements whose -webkit-overflow-scrolling is forced from value\n      // 'touch' to value 'auto' in order to prevent them from clipping the dropdown. iOS only.\n      _touchPrevented: Array,\n\n      /**\n       * The object used to localize this component.\n       * To change the default localization, replace the entire\n       * _i18n_ object or just the property you want to modify.\n       *\n       * The object has the following JSON structure and default values:\n\n          {\n            // An array with the full names of months starting\n            // with January.\n            monthNames: [\n              'January', 'February', 'March', 'April', 'May',\n              'June', 'July', 'August', 'September',\n              'October', 'November', 'December'\n            ],\n\n            // An array of weekday names starting with Sunday. Used\n            // in screen reader announcements.\n            weekdays: [\n              'Sunday', 'Monday', 'Tuesday', 'Wednesday',\n              'Thursday', 'Friday', 'Saturday'\n            ],\n\n            // An array of short weekday names starting with Sunday.\n            // Displayed in the calendar.\n            weekdaysShort: [\n              'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'\n            ],\n\n            // An integer indicating the first day of the week\n            // (0 = Sunday, 1 = Monday, etc.).\n            firstDayOfWeek: 0,\n\n            // Used in screen reader announcements along with week\n            // numbers, if they are displayed.\n            week: 'Week',\n\n            // Translation of the Calendar icon button title.\n            calendar: 'Calendar',\n\n            // Translation of the Clear icon button title.\n            clear: 'Clear',\n\n            // Translation of the Today shortcut button text.\n            today: 'Today',\n\n            // Translation of the Cancel button text.\n            cancel: 'Cancel',\n\n            // A function to format given `Object` as\n            // date string. Object is in the format `{ day: ..., month: ..., year: ... }`\n            // Note: The argument month is 0-based. This means that January = 0 and December = 11.\n            formatDate: d => {\n              // returns a string representation of the given\n              // object in 'MM/DD/YYYY' -format\n            },\n\n            // A function to parse the given text to an `Object` in the format `{ day: ..., month: ..., year: ... }`.\n            // Must properly parse (at least) text formatted by `formatDate`.\n            // Setting the property to null will disable keyboard input feature.\n            // Note: The argument month is 0-based. This means that January = 0 and December = 11.\n            parseDate: text => {\n              // Parses a string in 'MM/DD/YY', 'MM/DD' or 'DD' -format to\n              // an `Object` in the format `{ day: ..., month: ..., year: ... }`.\n            }\n\n            // A function to format given `monthName` and\n            // `fullYear` integer as calendar title string.\n            formatTitle: (monthName, fullYear) => {\n              return monthName + ' ' + fullYear;\n            }\n          }\n\n       *\n       * @default {English/US}\n       */\n      i18n: {\n        type: Object,\n        value: () => {\n          return {\n            monthNames: [\n              'January', 'February', 'March', 'April', 'May',\n              'June', 'July', 'August', 'September', 'October', 'November', 'December'\n            ],\n            weekdays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n            weekdaysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n            firstDayOfWeek: 0,\n            week: 'Week',\n            calendar: 'Calendar',\n            clear: 'Clear',\n            today: 'Today',\n            cancel: 'Cancel',\n            formatDate: d => {\n              const yearStr = String(d.year).replace(/\\d+/, y => '0000'.substr(y.length) + y);\n              return [d.month + 1, d.day, yearStr].join('/');\n            },\n            parseDate: text => {\n              const parts = text.split('/');\n              const today = new Date();\n              let date, month = today.getMonth(), year = today.getFullYear();\n\n              if (parts.length === 3) {\n                year = parseInt(parts[2]);\n                if (parts[2].length < 3 && year >= 0) {\n                  year += year < 50 ? 2000 : 1900;\n                }\n                month = parseInt(parts[0]) - 1;\n                date = parseInt(parts[1]);\n              } else if (parts.length === 2) {\n                month = parseInt(parts[0]) - 1;\n                date = parseInt(parts[1]);\n              } else if (parts.length === 1) {\n                date = parseInt(parts[0]);\n              }\n\n              if (date !== undefined) {\n                return {day: date, month, year};\n              }\n            },\n            formatTitle: (monthName, fullYear) => {\n              return monthName + ' ' + fullYear;\n            }\n          };\n        }\n      },\n\n      /**\n       * The earliest date that can be selected. All earlier dates will be disabled.\n       *\n       * Supported date formats:\n       * - ISO 8601 `\"YYYY-MM-DD\"` (default)\n       * - 6-digit extended ISO 8601 `\"+YYYYYY-MM-DD\"`, `\"-YYYYYY-MM-DD\"`\n       *\n       * @type {String}\n       */\n      min: {\n        type: String,\n        observer: '_minChanged'\n      },\n\n      /**\n       * The latest date that can be selected. All later dates will be disabled.\n       *\n       * Supported date formats:\n       * - ISO 8601 `\"YYYY-MM-DD\"` (default)\n       * - 6-digit extended ISO 8601 `\"+YYYYYY-MM-DD\"`, `\"-YYYYYY-MM-DD\"`\n       *\n       * @type {String}\n       */\n      max: {\n        type: String,\n        observer: '_maxChanged'\n      },\n\n      /**\n       * The earliest date that can be selected. All earlier dates will be disabled.\n       */\n      _minDate: {\n        type: Date,\n        // null does not work here because minimizer passes undefined to overlay (#351)\n        value: ''\n      },\n\n      /**\n       * The latest date that can be selected. All later dates will be disabled.\n       */\n      _maxDate: {\n        type: Date,\n        value: ''\n      },\n\n      _noInput: {\n        type: Boolean,\n        computed: '_isNoInput(_fullscreen, _ios, i18n, i18n.*)'\n      },\n\n      _ios: {\n        type: Boolean,\n        value: navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\\d+)/)\n      },\n\n      _webkitOverflowScroll: {\n        type: Boolean,\n        value: document.createElement('div').style.webkitOverflowScrolling === ''\n      },\n\n      _ignoreAnnounce: {\n        value: true\n      },\n\n      _focusOverlayOnOpen: Boolean,\n\n      _overlayInitialized: Boolean\n    };\n  }\n\n  static get observers() {\n    return [\n      '_updateHasValue(value)',\n      '_validateInput(_selectedDate, _minDate, _maxDate)',\n      '_selectedDateChanged(_selectedDate, i18n.formatDate)',\n      '_focusedDateChanged(_focusedDate, i18n.formatDate)',\n      '_announceFocusedDate(_focusedDate, opened, _ignoreAnnounce)'\n    ];\n  }\n\n  ready() {\n    super.ready();\n    this._boundOnScroll = this._onScroll.bind(this);\n    this._boundFocus = this._focus.bind(this);\n    this._boundUpdateAlignmentAndPosition = this._updateAlignmentAndPosition.bind(this);\n    addListener(this, 'tap', this.open);\n    this.addEventListener('touchend', this._preventDefault.bind(this));\n    this.addEventListener('keydown', this._onKeydown.bind(this));\n    this.addEventListener('input', this._onUserInput.bind(this));\n    this.addEventListener('focus', e => this._noInput && e.target.blur());\n  }\n\n  _initOverlay() {\n    this.$.overlay.removeAttribute('disable-upgrade');\n    this._overlayInitialized = true;\n\n    this.$.overlay.addEventListener('opened-changed', e => this.opened = e.detail.value);\n\n    this._overlayContent.addEventListener('close', this._close.bind(this));\n    this._overlayContent.addEventListener('focus-input', this._focusAndSelect.bind(this));\n    this.$.overlay.addEventListener('vaadin-overlay-escape-press', this._boundFocus);\n\n    // Keep focus attribute in focusElement for styling\n    this._overlayContent.addEventListener('focus', () => this.focusElement._setFocused(true));\n\n    this.$.overlay.addEventListener('vaadin-overlay-close', this._onVaadinOverlayClose.bind(this));\n  }\n\n  /**\n   * @protected\n   */\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n    if (this._overlayInitialized) {\n      this.$.overlay.removeEventListener('vaadin-overlay-escape-press', this._boundFocus);\n    }\n\n    this.opened = false;\n  }\n\n  /**\n   * Opens the dropdown.\n   */\n  open() {\n    if (!this.disabled && !this.readonly) {\n      this.opened = true;\n    }\n  }\n\n  _close(e) {\n    if (e) {\n      e.stopPropagation();\n    }\n    this._focus();\n    this.close();\n  }\n\n  /**\n   * Closes the dropdown.\n   */\n  close() {\n    if (this._overlayInitialized) {\n      this.$.overlay.close();\n    }\n  }\n\n  get _inputElement() {\n    return this._input();\n  }\n\n  get _nativeInput() {\n    if (this._inputElement) {\n      // vaadin-text-field's input is focusElement\n      // iron-input's input is inputElement\n      return this._inputElement.focusElement ? this._inputElement.focusElement :\n        this._inputElement.inputElement ? this._inputElement.inputElement :\n          window.unwrap ? window.unwrap(this._inputElement) : this._inputElement;\n    }\n  }\n\n  _parseDate(str) {\n    // Parsing with RegExp to ensure correct format\n    var parts = /^([-+]\\d{1}|\\d{2,4}|[-+]\\d{6})-(\\d{1,2})-(\\d{1,2})$/.exec(str);\n    if (!parts) {\n      return;\n    }\n\n    var date = new Date(0, 0); // Wrong date (1900-01-01), but with midnight in local time\n    date.setFullYear(parseInt(parts[1], 10));\n    date.setMonth(parseInt(parts[2], 10) - 1);\n    date.setDate(parseInt(parts[3], 10));\n    return date;\n  }\n\n  _isNoInput(fullscreen, ios, i18n) {\n    return !this._inputElement || fullscreen || ios || !i18n.parseDate;\n  }\n\n  _formatISO(date) {\n    if (!(date instanceof Date)) {\n      return '';\n    }\n\n    const pad = (num, fmt = '00') => (fmt + num).substr((fmt + num).length - fmt.length);\n\n    let yearSign = '';\n    let yearFmt = '0000';\n    let yearAbs = date.getFullYear();\n    if (yearAbs < 0) {\n      yearAbs = -yearAbs;\n      yearSign = '-';\n      yearFmt = '000000';\n    } else if (date.getFullYear() >= 10000) {\n      yearSign = '+';\n      yearFmt = '000000';\n    }\n\n    const year = yearSign + pad(yearAbs, yearFmt);\n    const month = pad(date.getMonth() + 1);\n    const day = pad(date.getDate());\n    return [year, month, day].join('-');\n  }\n\n  _openedChanged(opened) {\n    if (opened && !this._overlayInitialized) {\n      this._initOverlay();\n    }\n    if (this._overlayInitialized) {\n      this.$.overlay.opened = opened;\n    }\n    if (opened) {\n      this._updateAlignmentAndPosition();\n    }\n  }\n\n  _selectedDateChanged(selectedDate, formatDate) {\n    if (selectedDate === undefined || formatDate === undefined) {\n      return;\n    }\n    if (this.__userInputOccurred) {\n      this.__dispatchChange = true;\n    }\n    const inputValue = selectedDate && formatDate(DatePickerHelper._extractDateParts(selectedDate));\n    const value = this._formatISO(selectedDate);\n    if (value !== this.value) {\n      this.validate(inputValue);\n      this.value = value;\n    }\n    this.__userInputOccurred = false;\n    this.__dispatchChange = false;\n    this._focusedDate = selectedDate;\n    this._inputValue = selectedDate ? inputValue : '';\n  }\n\n  _focusedDateChanged(focusedDate, formatDate) {\n    if (focusedDate === undefined || formatDate === undefined) {\n      return;\n    }\n    this.__userInputOccurred = true;\n    if (!this._ignoreFocusedDateChange && !this._noInput) {\n      this._inputValue = focusedDate ? formatDate(DatePickerHelper._extractDateParts(focusedDate)) : '';\n    }\n  }\n\n  _updateHasValue(value) {\n    if (value) {\n      this.setAttribute('has-value', '');\n    } else {\n      this.removeAttribute('has-value');\n    }\n  }\n\n\n  __getOverlayTheme(theme, overlayInitialized) {\n    if (overlayInitialized) {\n      return theme;\n    }\n  }\n\n  _handleDateChange(property, value, oldValue) {\n    if (!value) {\n      this[property] = '';\n      return;\n    }\n\n    var date = this._parseDate(value);\n    if (!date) {\n      this.value = oldValue;\n      return;\n    }\n    if (!DatePickerHelper._dateEquals(this[property], date)) {\n      this[property] = date;\n    }\n  }\n\n  _valueChanged(value, oldValue) {\n    if (this.__dispatchChange) {\n      this.dispatchEvent(new CustomEvent('change', {bubbles: true}));\n    }\n    this._handleDateChange('_selectedDate', value, oldValue);\n  }\n\n  _minChanged(value, oldValue) {\n    this._handleDateChange('_minDate', value, oldValue);\n  }\n\n  _maxChanged(value, oldValue) {\n    this._handleDateChange('_maxDate', value, oldValue);\n  }\n\n  _updateAlignmentAndPosition() {\n    if (!this._overlayInitialized) {\n      return;\n    }\n    if (!this._fullscreen) {\n      const inputRect = this._inputElement.getBoundingClientRect();\n\n      const bottomAlign = inputRect.top > window.innerHeight / 2;\n      const rightAlign = inputRect.left + this.clientWidth / 2 > window.innerWidth / 2;\n\n      if (rightAlign) {\n        const viewportWidth = Math.min(window.innerWidth, document.documentElement.clientWidth);\n        this.$.overlay.setAttribute('right-aligned', '');\n        this.$.overlay.style.removeProperty('left');\n        this.$.overlay.style.right = (viewportWidth - inputRect.right) + 'px';\n      } else {\n        this.$.overlay.removeAttribute('right-aligned');\n        this.$.overlay.style.removeProperty('right');\n        this.$.overlay.style.left = inputRect.left + 'px';\n      }\n\n      if (bottomAlign) {\n        const viewportHeight = Math.min(window.innerHeight, document.documentElement.clientHeight);\n        this.$.overlay.setAttribute('bottom-aligned', '');\n        this.$.overlay.style.removeProperty('top');\n        this.$.overlay.style.bottom = (viewportHeight - inputRect.top) + 'px';\n      } else {\n        this.$.overlay.removeAttribute('bottom-aligned');\n        this.$.overlay.style.removeProperty('bottom');\n        this.$.overlay.style.top = inputRect.bottom + 'px';\n      }\n    }\n\n    this.$.overlay.setAttribute('dir',\n      getComputedStyle(this._inputElement).getPropertyValue('direction')\n    );\n    this._overlayContent._repositionYearScroller();\n  }\n\n  _fullscreenChanged() {\n    if (this._overlayInitialized && this.$.overlay.opened) {\n      this._updateAlignmentAndPosition();\n    }\n  }\n\n  _onOverlayOpened() {\n    this._openedWithFocusRing = this.hasAttribute('focus-ring') || (this.focusElement && this.focusElement.hasAttribute('focus-ring'));\n\n    var parsedInitialPosition = this._parseDate(this.initialPosition);\n\n    var initialPosition = this._selectedDate || this._overlayContent.initialPosition ||\n      parsedInitialPosition || new Date();\n\n    if (parsedInitialPosition ||\n      DatePickerHelper._dateAllowed(initialPosition, this._minDate, this._maxDate)) {\n      this._overlayContent.initialPosition = initialPosition;\n    } else {\n      this._overlayContent.initialPosition =\n        DatePickerHelper._getClosestDate(initialPosition, [this._minDate, this._maxDate]);\n    }\n\n    this._overlayContent.scrollToDate(this._overlayContent.focusedDate || this._overlayContent.initialPosition);\n    // Have a default focused date\n    this._ignoreFocusedDateChange = true;\n    this._overlayContent.focusedDate = this._overlayContent.focusedDate || this._overlayContent.initialPosition;\n    this._ignoreFocusedDateChange = false;\n\n    window.addEventListener('scroll', this._boundOnScroll, true);\n    this.addEventListener('iron-resize', this._boundUpdateAlignmentAndPosition);\n\n    if (this._webkitOverflowScroll) {\n      this._touchPrevented = this._preventWebkitOverflowScrollingTouch(this.parentElement);\n    }\n\n    if (this._focusOverlayOnOpen) {\n      this._overlayContent.focus();\n      this._focusOverlayOnOpen = false;\n    } else {\n      this._focus();\n    }\n\n    if (this._noInput && this.focusElement) {\n      this.focusElement.blur();\n    }\n\n    this.updateStyles();\n\n    this._ignoreAnnounce = false;\n  }\n\n  // A hack needed for iOS to prevent dropdown from being clipped in an\n  // ancestor container with -webkit-overflow-scrolling: touch;\n  _preventWebkitOverflowScrollingTouch(element) {\n    var result = [];\n    while (element) {\n      if (window.getComputedStyle(element).webkitOverflowScrolling === 'touch') {\n        var oldInlineValue = element.style.webkitOverflowScrolling;\n        element.style.webkitOverflowScrolling = 'auto';\n        result.push({\n          element: element,\n          oldInlineValue: oldInlineValue\n        });\n      }\n      element = element.parentElement;\n    }\n    return result;\n  }\n\n  _onOverlayClosed() {\n    this._ignoreAnnounce = true;\n\n    window.removeEventListener('scroll', this._boundOnScroll, true);\n    this.removeEventListener('iron-resize', this._boundUpdateAlignmentAndPosition);\n\n    if (this._touchPrevented) {\n      this._touchPrevented.forEach(prevented =>\n        prevented.element.style.webkitOverflowScrolling = prevented.oldInlineValue);\n      this._touchPrevented = [];\n    }\n\n    this.updateStyles();\n\n    // Select the parsed input or focused date\n    this._ignoreFocusedDateChange = true;\n    if (this.i18n.parseDate) {\n      var inputValue = this._inputValue || '';\n      const dateObject = this.i18n.parseDate(inputValue);\n      const parsedDate = dateObject &&\n        this._parseDate(`${dateObject.year}-${dateObject.month + 1}-${dateObject.day}`);\n\n      if (this._isValidDate(parsedDate)) {\n        this._selectedDate = parsedDate;\n      } else {\n        this._selectedDate = null;\n        this._inputValue = inputValue;\n      }\n    } else if (this._focusedDate) {\n      this._selectedDate = this._focusedDate;\n    }\n    this._ignoreFocusedDateChange = false;\n\n    if (this._nativeInput && this._nativeInput.selectionStart) {\n      this._nativeInput.selectionStart = this._nativeInput.selectionEnd;\n    }\n    this.validate();\n  }\n\n  /**\n   * Returns true if `value` is valid, and sets the `invalid` flag appropriately.\n   *\n   * @param {string} value Value to validate. Optional, defaults to user's input value.\n   * @return {boolean} True if the value is valid and sets the `invalid` flag appropriately\n   */\n  validate(value) {\n    // reset invalid state on the underlying text field\n    this.invalid = false;\n    value = value !== undefined ? value : this._inputValue;\n    return !(this.invalid = !this.checkValidity(value));\n  }\n\n  /**\n   * Returns true if the current input value satisfies all constraints (if any)\n   *\n   * Override the `checkValidity` method for custom validations.\n   *\n   * @param {string} value Value to validate. Optional, defaults to the selected date.\n   * @return {boolean} True if the value is valid\n   */\n  checkValidity(value) {\n    var inputValid = !value ||\n      (this._selectedDate && value === this.i18n.formatDate(DatePickerHelper._extractDateParts(this._selectedDate)));\n    var minMaxValid = !this._selectedDate ||\n      DatePickerHelper._dateAllowed(this._selectedDate, this._minDate, this._maxDate);\n\n    var inputValidity = true;\n    if (this._inputElement) {\n      if (this._inputElement.checkValidity) {\n        // vaadin native input elements have the checkValidity method\n        inputValidity = this._inputElement.checkValidity(value);\n      } else if (this._inputElement.validate) {\n        // iron-form-elements have the validate API\n        inputValidity = this._inputElement.validate(value);\n      }\n    }\n\n    return inputValid && minMaxValid && inputValidity;\n  }\n\n  _onScroll(e) {\n    if (e.target === window || !this._overlayContent.contains(e.target)) {\n      this._updateAlignmentAndPosition();\n    }\n  }\n\n  _focus() {\n    if (this._noInput) {\n      this._overlayInitialized && this._overlayContent.focus();\n    } else {\n      this._inputElement.focus();\n    }\n  }\n\n  _focusAndSelect() {\n    this._focus();\n    this._setSelectionRange(0, this._inputValue.length);\n  }\n\n  _setSelectionRange(a, b) {\n    if (this._nativeInput && this._nativeInput.setSelectionRange) {\n      this._nativeInput.setSelectionRange(a, b);\n    }\n  }\n\n  _preventDefault(e) {\n    e.preventDefault();\n  }\n\n  /**\n   * Keyboard Navigation\n   */\n  _eventKey(e) {\n    var keys = ['down', 'up', 'enter', 'esc', 'tab'];\n\n    for (var i = 0; i < keys.length; i++) {\n      var k = keys[i];\n      if (IronA11yKeysBehavior.keyboardEventMatchesKeys(e, k)) {\n        return k;\n      }\n    }\n  }\n\n  _isValidDate(d) {\n    return d && !isNaN(d.getTime());\n  }\n\n  _onKeydown(e) {\n    if (this._noInput) {\n      // The input element cannot be readonly as it would conflict with\n      // the required attribute. Both are not allowed on an input element.\n      // Therefore we prevent default on most keydown events.\n      var allowedKeys = [\n        9 // tab\n      ];\n      if (allowedKeys.indexOf(e.keyCode) === -1) {\n        e.preventDefault();\n      }\n    }\n\n    switch (this._eventKey(e)) {\n      case 'down':\n      case 'up':\n        // prevent scrolling the page with arrows\n        e.preventDefault();\n\n        if (this.opened) {\n          this._overlayContent.focus();\n          this._overlayContent._onKeydown(e);\n        } else {\n          this._focusOverlayOnOpen = true;\n          this.open();\n        }\n\n        break;\n      case 'enter': {\n        const dateObject = this.i18n.parseDate(this._inputValue);\n        const parsedDate = dateObject &&\n          this._parseDate(dateObject.year + '-' + (dateObject.month + 1) + '-' + dateObject.day);\n\n        if (this._overlayContent.focusedDate && this._isValidDate(parsedDate)) {\n          this._selectedDate = this._overlayContent.focusedDate;\n        }\n        this.close();\n        break;\n      }\n      case 'esc':\n        this._focusedDate = this._selectedDate;\n        this._close();\n        break;\n      case 'tab':\n        if (this.opened) {\n          e.preventDefault();\n          // Clear the selection range (remains visible on IE)\n          this._setSelectionRange(0, 0);\n          if (e.shiftKey) {\n            this._overlayContent.focusCancel();\n          } else {\n            this._overlayContent.focus();\n            this._overlayContent.revealDate(this._focusedDate);\n          }\n\n        }\n        break;\n    }\n  }\n\n  _validateInput(date, min, max) {\n    if (date && (min || max)) {\n      this.invalid = !DatePickerHelper._dateAllowed(date, min, max);\n    }\n  }\n\n  _onUserInput(e) {\n    if (!this.opened) {\n      this.open();\n    }\n    this._userInputValueChanged();\n  }\n\n  _userInputValueChanged(value) {\n    if (this.opened && this._inputValue) {\n      const dateObject = this.i18n.parseDate && this.i18n.parseDate(this._inputValue);\n      const parsedDate = dateObject &&\n        this._parseDate(`${dateObject.year}-${dateObject.month + 1}-${dateObject.day}`);\n\n      if (this._isValidDate(parsedDate)) {\n        this._ignoreFocusedDateChange = true;\n        if (!DatePickerHelper._dateEquals(parsedDate, this._focusedDate)) {\n          this._focusedDate = parsedDate;\n        }\n        this._ignoreFocusedDateChange = false;\n      }\n    }\n  }\n\n  _announceFocusedDate(_focusedDate, opened, _ignoreAnnounce) {\n    if (opened && !_ignoreAnnounce) {\n      this._overlayContent.announceFocusedDate();\n    }\n  }\n\n  get _overlayContent() {\n    return this.$.overlay.content.querySelector('#overlay-content');\n  }\n\n  /**\n   * Fired when the user commits a value change.\n   *\n   * @event change\n   */\n};\n","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport { GestureEventListeners } from '@polymer/polymer/lib/mixins/gesture-event-listeners.js';\nimport '@polymer/iron-media-query/iron-media-query.js';\nimport { IronA11yKeysBehavior } from '@polymer/iron-a11y-keys-behavior/iron-a11y-keys-behavior.js';\nimport { IronA11yAnnouncer } from '@polymer/iron-a11y-announcer/iron-a11y-announcer.js';\nimport '@vaadin/vaadin-button/src/vaadin-button.js';\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { ThemePropertyMixin } from '@vaadin/vaadin-themable-mixin/vaadin-theme-property-mixin.js';\nimport './vaadin-month-calendar.js';\nimport './vaadin-infinite-scroller.js';\nimport { DatePickerHelper } from './vaadin-date-picker-helper.js';\nimport './vaadin-date-picker-styles.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { addListener, setTouchAction } from '@polymer/polymer/lib/utils/gestures.js';\nimport { Debouncer } from '@polymer/polymer/lib/utils/debounce.js';\nimport { timeOut } from '@polymer/polymer/lib/utils/async.js';\n/**\n * @memberof Vaadin\n * @private\n */\nclass DatePickerOverlayContentElement extends\n  ThemableMixin(\n    ThemePropertyMixin(\n      GestureEventListeners(PolymerElement))) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: flex;\n        flex-direction: column;\n        height: 100%;\n        width: 100%;\n        outline: none;\n        background: #fff;\n      }\n\n      [part=\"overlay-header\"] {\n        display: flex;\n        flex-shrink: 0;\n        flex-wrap: nowrap;\n        align-items: center;\n      }\n\n      :host(:not([fullscreen])) [part=\"overlay-header\"] {\n        display: none;\n      }\n\n      [part=\"label\"] {\n        flex-grow: 1;\n      }\n\n      [part=\"clear-button\"]:not([showclear]) {\n        display: none;\n      }\n\n      [part=\"years-toggle-button\"] {\n        display: flex;\n      }\n\n      [part=\"years-toggle-button\"][desktop] {\n        display: none;\n      }\n\n      :host(:not([years-visible])) [part=\"years-toggle-button\"]::before {\n        transform: rotate(180deg);\n      }\n\n      #scrollers {\n        display: flex;\n        height: 100%;\n        width: 100%;\n        position: relative;\n        overflow: hidden;\n      }\n\n      [part=\"months\"],\n      [part=\"years\"] {\n        height: 100%;\n      }\n\n      [part=\"months\"] {\n        --vaadin-infinite-scroller-item-height: 270px;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n      }\n\n      #scrollers[desktop] [part=\"months\"] {\n        right: 50px;\n        transform: none !important;\n      }\n\n      [part=\"years\"] {\n        --vaadin-infinite-scroller-item-height: 80px;\n        width: 50px;\n        position: absolute;\n        right: 0;\n        transform: translateX(100%);\n        -webkit-tap-highlight-color: transparent;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        /* Center the year scroller position. */\n        --vaadin-infinite-scroller-buffer-offset: 50%;\n      }\n\n      #scrollers[desktop] [part=\"years\"] {\n        position: absolute;\n        transform: none !important;\n      }\n\n      [part=\"years\"]::before {\n        content: '';\n        display: block;\n        background: transparent;\n        width: 0;\n        height: 0;\n        position: absolute;\n        left: 0;\n        top: 50%;\n        transform: translateY(-50%);\n        border-width: 6px;\n        border-style: solid;\n        border-color: transparent;\n        border-left-color: #000;\n      }\n\n      :host(.animate) [part=\"months\"],\n      :host(.animate) [part=\"years\"] {\n        transition: all 200ms;\n      }\n\n      [part=\"toolbar\"] {\n        display: flex;\n        justify-content: space-between;\n        z-index: 2;\n        flex-shrink: 0;\n      }\n\n      [part~=\"overlay-header\"]:not([desktop]) {\n        padding-bottom: 40px;\n      }\n\n      [part~=\"years-toggle-button\"] {\n        position: absolute;\n        top: auto;\n        right: 8px;\n        bottom: 0;\n        z-index: 1;\n        padding: 8px;\n      }\n\n      #announcer {\n        display: inline-block;\n        position: fixed;\n        clip: rect(0, 0, 0, 0);\n        clip-path: inset(100%);\n      }\n    </style>\n\n    <div id=\"announcer\" role=\"alert\" aria-live=\"polite\">\n      [[i18n.calendar]]\n    </div>\n\n    <div part=\"overlay-header\" on-touchend=\"_preventDefault\" desktop\\$=\"[[_desktopMode]]\" aria-hidden=\"true\">\n      <div part=\"label\">[[_formatDisplayed(selectedDate, i18n.formatDate, label)]]</div>\n      <div part=\"clear-button\" on-tap=\"_clear\" showclear\\$=\"[[_showClear(selectedDate)]]\"></div>\n      <div part=\"toggle-button\" on-tap=\"_cancel\"></div>\n\n      <div part=\"years-toggle-button\" desktop\\$=\"[[_desktopMode]]\" on-tap=\"_toggleYearScroller\" aria-hidden=\"true\">\n        [[_yearAfterXMonths(_visibleMonthIndex)]]\n      </div>\n    </div>\n\n    <div id=\"scrollers\" desktop\\$=\"[[_desktopMode]]\" on-track=\"_track\">\n      <vaadin-infinite-scroller id=\"monthScroller\" on-custom-scroll=\"_onMonthScroll\" on-touchstart=\"_onMonthScrollTouchStart\" buffer-size=\"3\" active=\"[[initialPosition]]\" part=\"months\">\n        <template>\n          <vaadin-month-calendar i18n=\"[[i18n]]\" month=\"[[_dateAfterXMonths(index)]]\" selected-date=\"{{selectedDate}}\" focused-date=\"[[focusedDate]]\" ignore-taps=\"[[_ignoreTaps]]\" show-week-numbers=\"[[showWeekNumbers]]\" min-date=\"[[minDate]]\" max-date=\"[[maxDate]]\" focused\\$=\"[[_focused]]\" part=\"month\" theme\\$=\"[[theme]]\">\n          </vaadin-month-calendar>\n        </template>\n      </vaadin-infinite-scroller>\n      <vaadin-infinite-scroller id=\"yearScroller\" on-tap=\"_onYearTap\" on-custom-scroll=\"_onYearScroll\" on-touchstart=\"_onYearScrollTouchStart\" buffer-size=\"12\" active=\"[[initialPosition]]\" part=\"years\">\n        <template>\n          <div part=\"year-number\" role=\"button\" current\\$=\"[[_isCurrentYear(index)]]\" selected\\$=\"[[_isSelectedYear(index, selectedDate)]]\">\n            [[_yearAfterXYears(index)]]\n          </div>\n          <div part=\"year-separator\" aria-hidden=\"true\"></div>\n        </template>\n      </vaadin-infinite-scroller>\n    </div>\n\n    <div on-touchend=\"_preventDefault\" role=\"toolbar\" part=\"toolbar\">\n      <vaadin-button id=\"todayButton\" part=\"today-button\" disabled=\"[[!_isTodayAllowed(minDate, maxDate)]]\" on-tap=\"_onTodayTap\">\n        [[i18n.today]]\n      </vaadin-button>\n      <vaadin-button id=\"cancelButton\" part=\"cancel-button\" on-tap=\"_cancel\">\n        [[i18n.cancel]]\n      </vaadin-button>\n    </div>\n\n    <iron-media-query query=\"(min-width: 375px)\" query-matches=\"{{_desktopMode}}\"></iron-media-query>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-date-picker-overlay-content';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * The value for this element.\n       */\n      selectedDate: {\n        type: Date,\n        notify: true\n      },\n\n      /**\n       * Date value which is focused using keyboard.\n       */\n      focusedDate: {\n        type: Date,\n        notify: true,\n        observer: '_focusedDateChanged'\n      },\n\n      _focusedMonthDate: Number,\n\n      /**\n       * Date which should be visible when there is no value selected.\n       */\n      initialPosition: {\n        type: Date,\n        observer: '_initialPositionChanged'\n      },\n\n      _originDate: {\n        value: new Date()\n      },\n\n      _visibleMonthIndex: Number,\n\n      _desktopMode: Boolean,\n\n      _translateX: {\n        observer: '_translateXChanged'\n      },\n\n      _yearScrollerWidth: {\n        value: 50\n      },\n\n      i18n: {\n        type: Object\n      },\n\n      showWeekNumbers: {\n        type: Boolean\n      },\n\n      _ignoreTaps: Boolean,\n\n      _notTapping: Boolean,\n\n      /**\n       * The earliest date that can be selected. All earlier dates will be disabled.\n       */\n      minDate: Date,\n\n      /**\n       * The latest date that can be selected. All later dates will be disabled.\n       */\n      maxDate: Date,\n\n      _focused: Boolean,\n\n      /**\n       * Input label\n       */\n      label: String\n    };\n  }\n\n  ready() {\n    super.ready();\n    this.setAttribute('tabindex', 0);\n    this.addEventListener('keydown', this._onKeydown.bind(this));\n    addListener(this, 'tap', this._stopPropagation);\n    this.addEventListener('focus', this._onOverlayFocus.bind(this));\n    this.addEventListener('blur', this._onOverlayBlur.bind(this));\n  }\n\n  /**\n   * Fired when the scroller reaches the target scrolling position.\n   * @event scroll-animation-finished\n   * @param {Number} detail.position new position\n   * @param {Number} detail.oldPosition old position\n   */\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._closeYearScroller();\n    this._toggleAnimateClass(true);\n    setTouchAction(this.$.scrollers, 'pan-y');\n    IronA11yAnnouncer.requestAvailability();\n  }\n\n  announceFocusedDate() {\n    var focusedDate = this._currentlyFocusedDate();\n    var announce = [];\n    if (DatePickerHelper._dateEquals(focusedDate, new Date())) {\n      announce.push(this.i18n.today);\n    }\n    announce = announce.concat([\n      this.i18n.weekdays[focusedDate.getDay()],\n      focusedDate.getDate(),\n      this.i18n.monthNames[focusedDate.getMonth()],\n      focusedDate.getFullYear()\n    ]);\n    if (this.showWeekNumbers && this.i18n.firstDayOfWeek === 1) {\n      announce.push(this.i18n.week);\n      announce.push(DatePickerHelper._getISOWeekNumber(focusedDate));\n    }\n    this.dispatchEvent(new CustomEvent('iron-announce', {\n      bubbles: true,\n      composed: true,\n      detail: {\n        text: announce.join(' ')\n      }\n    }));\n    return;\n  }\n\n  /**\n   * Focuses the cancel button\n   */\n  focusCancel() {\n    this.$.cancelButton.focus();\n  }\n\n  /**\n   * Scrolls the list to the given Date.\n   */\n  scrollToDate(date, animate) {\n    this._scrollToPosition(this._differenceInMonths(date, this._originDate), animate);\n  }\n\n  _focusedDateChanged(focusedDate) {\n    this.revealDate(focusedDate);\n  }\n\n  _isCurrentYear(yearsFromNow) {\n    return yearsFromNow === 0;\n  }\n\n  _isSelectedYear(yearsFromNow, selectedDate) {\n    if (selectedDate) {\n      return selectedDate.getFullYear() === this._originDate.getFullYear() + yearsFromNow;\n    }\n  }\n\n  /**\n   * Scrolls the month and year scrollers enough to reveal the given date.\n   */\n  revealDate(date) {\n    if (date) {\n      var diff = this._differenceInMonths(date, this._originDate);\n      var scrolledAboveViewport = this.$.monthScroller.position > diff;\n\n      var visibleItems = this.$.monthScroller.clientHeight / this.$.monthScroller.itemHeight;\n      var scrolledBelowViewport = this.$.monthScroller.position + visibleItems - 1 < diff;\n\n      if (scrolledAboveViewport) {\n        this._scrollToPosition(diff, true);\n      } else if (scrolledBelowViewport) {\n        this._scrollToPosition(diff - visibleItems + 1, true);\n      }\n    }\n  }\n\n  _onOverlayFocus() {\n    this._focused = true;\n  }\n\n  _onOverlayBlur() {\n    this._focused = false;\n  }\n\n  _initialPositionChanged(initialPosition) {\n    this.scrollToDate(initialPosition);\n  }\n\n  _repositionYearScroller() {\n    this._visibleMonthIndex = Math.floor(this.$.monthScroller.position);\n    this.$.yearScroller.position = (this.$.monthScroller.position + this._originDate.getMonth()) / 12;\n  }\n\n  _repositionMonthScroller() {\n    this.$.monthScroller.position = this.$.yearScroller.position * 12 - this._originDate.getMonth();\n    this._visibleMonthIndex = Math.floor(this.$.monthScroller.position);\n  }\n\n  _onMonthScroll() {\n    this._repositionYearScroller();\n    this._doIgnoreTaps();\n  }\n\n  _onYearScroll() {\n    this._repositionMonthScroller();\n    this._doIgnoreTaps();\n  }\n\n  _onYearScrollTouchStart() {\n    this._notTapping = false;\n    setTimeout(() => this._notTapping = true, 300);\n\n    this._repositionMonthScroller();\n  }\n\n  _onMonthScrollTouchStart() {\n    this._repositionYearScroller();\n  }\n\n  _doIgnoreTaps() {\n    this._ignoreTaps = true;\n    this._debouncer = Debouncer.debounce(this._debouncer,\n      timeOut.after(300), () => this._ignoreTaps = false);\n  }\n\n  _formatDisplayed(date, formatDate, label) {\n    if (date) {\n      return formatDate(DatePickerHelper._extractDateParts(date));\n    } else {\n      return label;\n    }\n  }\n\n  _onTodayTap() {\n    var today = new Date();\n\n    if (Math.abs(this.$.monthScroller.position - this._differenceInMonths(today, this._originDate)) < 0.001) {\n      // Select today only if the month scroller is positioned approximately\n      // at the beginning of the current month\n      this.selectedDate = today;\n      this._close();\n    } else {\n      this._scrollToCurrentMonth();\n    }\n  }\n\n  _scrollToCurrentMonth() {\n    if (this.focusedDate) {\n      this.focusedDate = new Date();\n    }\n\n    this.scrollToDate(new Date(), true);\n  }\n\n  _showClear(selectedDate) {\n    return !!selectedDate;\n  }\n\n  _onYearTap(e) {\n    if (!this._ignoreTaps && !this._notTapping) {\n      var scrollDelta = e.detail.y - (this.$.yearScroller.getBoundingClientRect().top + this.$.yearScroller.clientHeight / 2);\n      var yearDelta = scrollDelta / this.$.yearScroller.itemHeight;\n      this._scrollToPosition(this.$.monthScroller.position + yearDelta * 12, true);\n    }\n  }\n\n  _scrollToPosition(targetPosition, animate) {\n    if (this._targetPosition !== undefined) {\n      this._targetPosition = targetPosition;\n      return;\n    }\n\n    if (!animate) {\n      this.$.monthScroller.position = targetPosition;\n      this._targetPosition = undefined;\n      this._repositionYearScroller();\n      return;\n    }\n\n    this._targetPosition = targetPosition;\n\n    // http://gizma.com/easing/\n    var easingFunction = (t, b, c, d) => {\n      t /= d / 2;\n      if (t < 1) {\n        return c / 2 * t * t + b;\n      }\n      t--;\n      return -c / 2 * (t * (t - 2) - 1) + b;\n    };\n\n    var duration = animate ? 300 : 0;\n    var start = 0;\n    var initialPosition = this.$.monthScroller.position;\n\n    var smoothScroll = timestamp => {\n      start = start || timestamp;\n      var currentTime = timestamp - start;\n\n      if (currentTime < duration) {\n        var currentPos = easingFunction(currentTime, initialPosition, this._targetPosition - initialPosition, duration);\n        this.$.monthScroller.position = currentPos;\n        window.requestAnimationFrame(smoothScroll);\n      } else {\n        this.dispatchEvent(new CustomEvent('scroll-animation-finished', {\n          bubbles: true,\n          composed: true,\n          detail: {\n            position: this._targetPosition,\n            oldPosition: initialPosition\n          }\n        }));\n\n        this.$.monthScroller.position = this._targetPosition;\n        this._targetPosition = undefined;\n      }\n\n      setTimeout(this._repositionYearScroller.bind(this), 1);\n    };\n\n    // Start the animation.\n    window.requestAnimationFrame(smoothScroll);\n  }\n\n  _limit(value, range) {\n    return Math.min(range.max, Math.max(range.min, value));\n  }\n\n  _handleTrack(e) {\n    // Check if horizontal movement threshold (dx) not exceeded or\n    // scrolling fast vertically (ddy).\n    if (Math.abs(e.detail.dx) < 10 || Math.abs(e.detail.ddy) > 10) {\n      return;\n    }\n\n    // If we're flinging quickly -> start animating already.\n    if (Math.abs(e.detail.ddx) > this._yearScrollerWidth / 3) {\n      this._toggleAnimateClass(true);\n    }\n\n    var newTranslateX = this._translateX + e.detail.ddx;\n    this._translateX = this._limit(newTranslateX, {\n      min: 0,\n      max: this._yearScrollerWidth\n    });\n  }\n\n  _track(e) {\n    if (this._desktopMode) {\n      // No need to track for swipe gestures on desktop.\n      return;\n    }\n\n    switch (e.detail.state) {\n      case 'start':\n        this._toggleAnimateClass(false);\n        break;\n\n      case 'track':\n        this._handleTrack(e);\n        break;\n\n      case 'end':\n        this._toggleAnimateClass(true);\n        if (this._translateX >= this._yearScrollerWidth / 2) {\n          this._closeYearScroller();\n        } else {\n          this._openYearScroller();\n        }\n        break;\n    }\n  }\n\n  _toggleAnimateClass(enable) {\n    if (enable) {\n      this.classList.add('animate');\n    } else {\n      this.classList.remove('animate');\n    }\n  }\n\n  _toggleYearScroller() {\n    this._isYearScrollerVisible() ? this._closeYearScroller() : this._openYearScroller();\n  }\n\n  _openYearScroller() {\n    this._translateX = 0;\n    this.setAttribute('years-visible', '');\n  }\n\n  _closeYearScroller() {\n    this.removeAttribute('years-visible');\n    this._translateX = this._yearScrollerWidth;\n  }\n\n  _isYearScrollerVisible() {\n    return this._translateX < this._yearScrollerWidth / 2;\n  }\n\n  _translateXChanged(x) {\n    if (!this._desktopMode) {\n      this.$.monthScroller.style.transform = 'translateX(' + (x - this._yearScrollerWidth) + 'px)';\n      this.$.yearScroller.style.transform = 'translateX(' + x + 'px)';\n    }\n  }\n\n  _yearAfterXYears(index) {\n    var result = new Date(this._originDate);\n    result.setFullYear(parseInt(index) + this._originDate.getFullYear());\n    return result.getFullYear();\n  }\n\n  _yearAfterXMonths(months) {\n    return this._dateAfterXMonths(months).getFullYear();\n  }\n\n  _dateAfterXMonths(months) {\n    var result = new Date(this._originDate);\n    result.setDate(1);\n    result.setMonth(parseInt(months) + this._originDate.getMonth());\n    return result;\n  }\n\n  _differenceInMonths(date1, date2) {\n    var months = (date1.getFullYear() - date2.getFullYear()) * 12;\n    return months - date2.getMonth() + date1.getMonth();\n  }\n\n  _differenceInYears(date1, date2) {\n    return this._differenceInMonths(date1, date2) / 12;\n  }\n\n  _clear() {\n    this.selectedDate = '';\n  }\n\n  _close() {\n    const overlayContent = this.getRootNode().host;\n    const overlay = overlayContent ? overlayContent.getRootNode().host : null;\n    if (overlay) {\n      overlay.opened = false;\n    }\n\n    this.dispatchEvent(new CustomEvent('close', {bubbles: true, composed: true}));\n  }\n\n  _cancel() {\n    this.focusedDate = this.selectedDate;\n    this._close();\n  }\n\n  _preventDefault(e) {\n    e.preventDefault();\n  }\n\n  /**\n   * Keyboard Navigation\n   */\n  _eventKey(e) {\n    var keys = ['down', 'up', 'right', 'left', 'enter', 'space', 'home', 'end', 'pageup', 'pagedown', 'tab', 'esc'];\n\n    for (var i = 0; i < keys.length; i++) {\n      var k = keys[i];\n      if (IronA11yKeysBehavior.keyboardEventMatchesKeys(e, k)) {\n        return k;\n      }\n    }\n  }\n\n  _onKeydown(e) {\n    var focus = this._currentlyFocusedDate();\n\n    // Cannot use (today/cancel).focused flag because vaadin-text-field removes it\n    // previously in the keydown event.\n    const isToday = e.composedPath().indexOf(this.$.todayButton) >= 0;\n    const isCancel = e.composedPath().indexOf(this.$.cancelButton) >= 0;\n    const isScroller = !isToday && !isCancel;\n\n    var eventKey = this._eventKey(e);\n    if (eventKey === 'tab') {\n      // We handle tabs here and don't want to bubble up.\n      e.stopPropagation();\n\n      const isFullscreen = this.hasAttribute('fullscreen');\n      const isShift = e.shiftKey;\n\n      if (isFullscreen) {\n        e.preventDefault();\n      } else if (isShift && isScroller || !isShift && isCancel) {\n        // Return focus back to the input field\n        e.preventDefault();\n        this.dispatchEvent(new CustomEvent('focus-input', {bubbles: true, composed: true}));\n      } else if (isShift && isToday) {\n        // Browser returns focus back to the scrollable area. We need to set\n        // the focused flag, and move the scroll to focused date.\n        this._focused = true;\n        setTimeout(() => this.revealDate(this.focusedDate), 1);\n      } else {\n        // Browser moves the focus out of the scroller, hence focused flag must\n        // set to false.\n        this._focused = false;\n      }\n    } else if (eventKey) {\n      e.preventDefault();\n      e.stopPropagation();\n      switch (eventKey) {\n        case 'down':\n          this._moveFocusByDays(7);\n          this.focus();\n          break;\n        case 'up':\n          this._moveFocusByDays(-7);\n          this.focus();\n          break;\n        case 'right':\n          if (isScroller) {\n            this._moveFocusByDays(1);\n          }\n          break;\n        case 'left':\n          if (isScroller) {\n            this._moveFocusByDays(-1);\n          }\n          break;\n        case 'enter':\n          if (isScroller || isCancel) {\n            this._close();\n          } else if (isToday) {\n            this._onTodayTap();\n          }\n          break;\n        case 'space':\n          if (isCancel) {\n            this._close();\n          } else if (isToday) {\n            this._onTodayTap();\n          } else {\n            var focusedDate = this.focusedDate;\n            if (DatePickerHelper._dateEquals(focusedDate, this.selectedDate)) {\n              this.selectedDate = '';\n              this.focusedDate = focusedDate;\n            } else {\n              this.selectedDate = focusedDate;\n            }\n          }\n          break;\n        case 'home':\n          this._moveFocusInsideMonth(focus, 'minDate');\n          break;\n        case 'end':\n          this._moveFocusInsideMonth(focus, 'maxDate');\n          break;\n        case 'pagedown':\n          this._moveFocusByMonths(e.shiftKey ? 12 : 1);\n          break;\n        case 'pageup':\n          this._moveFocusByMonths(e.shiftKey ? -12 : -1);\n          break;\n        case 'esc':\n          this._cancel();\n          break;\n      }\n    }\n  }\n\n  _currentlyFocusedDate() {\n    return this.focusedDate || this.selectedDate || this.initialPosition || new Date();\n  }\n\n  _focusDate(dateToFocus) {\n    this.focusedDate = dateToFocus;\n    this._focusedMonthDate = dateToFocus.getDate();\n  }\n\n  _focusClosestDate(focus) {\n    this._focusDate(DatePickerHelper._getClosestDate(focus, [this.minDate, this.maxDate]));\n  }\n\n  _moveFocusByDays(days) {\n    var focus = this._currentlyFocusedDate();\n    var dateToFocus = new Date(0, 0);\n    dateToFocus.setFullYear(focus.getFullYear());\n    dateToFocus.setMonth(focus.getMonth());\n    dateToFocus.setDate(focus.getDate() + days);\n\n    if (this._dateAllowed(dateToFocus, this.minDate, this.maxDate)) {\n      this._focusDate(dateToFocus);\n    } else {\n      if (this._dateAllowed(focus, this.minDate, this.maxDate)) {\n        // Move to min or max date\n        if (days > 0) { // down or right\n          this._focusDate(this.maxDate);\n        } else { // up or left\n          this._focusDate(this.minDate);\n        }\n      } else {\n        // Move to closest allowed date\n        this._focusClosestDate(focus);\n      }\n    }\n  }\n\n  _moveFocusByMonths(months) {\n    var focus = this._currentlyFocusedDate();\n    var dateToFocus = new Date(0, 0);\n    dateToFocus.setFullYear(focus.getFullYear());\n    dateToFocus.setMonth(focus.getMonth() + months);\n\n    var targetMonth = dateToFocus.getMonth();\n\n    dateToFocus.setDate(this._focusedMonthDate || (this._focusedMonthDate = focus.getDate()));\n    if (dateToFocus.getMonth() !== targetMonth) {\n      dateToFocus.setDate(0);\n    }\n\n    if (this._dateAllowed(dateToFocus, this.minDate, this.maxDate)) {\n      this.focusedDate = dateToFocus;\n    } else {\n      if (this._dateAllowed(focus, this.minDate, this.maxDate)) {\n        // Move to min or max date\n        if (months > 0) { // pagedown\n          this._focusDate(this.maxDate);\n        } else { // pageup\n          this._focusDate(this.minDate);\n        }\n      } else {\n        // Move to closest allowed date\n        this._focusClosestDate(focus);\n      }\n    }\n  }\n\n  _moveFocusInsideMonth(focusedDate, property) {\n    var dateToFocus = new Date(0, 0);\n    dateToFocus.setFullYear(focusedDate.getFullYear());\n\n    if (property === 'minDate') {\n      dateToFocus.setMonth(focusedDate.getMonth());\n      dateToFocus.setDate(1);\n    } else {\n      dateToFocus.setMonth(focusedDate.getMonth() + 1);\n      dateToFocus.setDate(0);\n    }\n\n    if (this._dateAllowed(dateToFocus, this.minDate, this.maxDate)) {\n      this._focusDate(dateToFocus);\n    } else {\n      if (this._dateAllowed(focusedDate, this.minDate, this.maxDate)) {\n        // Move to minDate or maxDate\n        this._focusDate(this[property]);\n      } else {\n        // Move to closest allowed date\n        this._focusClosestDate(focusedDate);\n      }\n    }\n  }\n\n  _dateAllowed(date, min, max) {\n    return (!min || date >= min) && (!max || date <= max);\n  }\n\n  _isTodayAllowed(min, max) {\n    var today = new Date();\n    var todayMidnight = new Date(0, 0);\n    todayMidnight.setFullYear(today.getFullYear());\n    todayMidnight.setMonth(today.getMonth());\n    todayMidnight.setDate(today.getDate());\n    return this._dateAllowed(todayMidnight, min, max);\n  }\n\n  _stopPropagation(e) {\n    e.stopPropagation();\n  }\n}\n\ncustomElements.define(DatePickerOverlayContentElement.is, DatePickerOverlayContentElement);\n","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { OverlayElement } from '@vaadin/vaadin-overlay/src/vaadin-overlay.js';\n\nimport { DisableUpgradeMixin } from '@polymer/polymer/lib/mixins/disable-upgrade-mixin.js';\n/**\n * The overlay element.\n *\n * ### Styling\n *\n * See [`<vaadin-overlay>` documentation](https://github.com/vaadin/vaadin-overlay/blob/master/src/vaadin-overlay.html)\n * for `<vaadin-date-picker-overlay>` parts.\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @extends Vaadin.OverlayElement\n * @memberof Vaadin\n * @private\n */\nclass DatePickerOverlayElement extends DisableUpgradeMixin(OverlayElement) {\n  static get is() {\n    return 'vaadin-date-picker-overlay';\n  }\n}\n\ncustomElements.define(DatePickerOverlayElement.is, DatePickerOverlayElement);\n","import '@polymer/polymer/lib/elements/custom-style.js';\nconst $_documentContainer = document.createElement('template');\n\n$_documentContainer.innerHTML = `<dom-module id=\"vaadin-date-picker-overlay-styles\" theme-for=\"vaadin-date-picker-overlay\">\n  <template>\n    <style>\n      :host {\n        align-items: flex-start;\n        justify-content: flex-start;\n      }\n\n      :host([bottom-aligned]) {\n        justify-content: flex-end;\n      }\n\n      :host([right-aligned]) {\n        align-items: flex-end;\n      }\n\n      :host([right-aligned][dir=\"rtl\"]) {\n        align-items: flex-start;\n      }\n\n      [part=\"overlay\"] {\n        display: flex;\n        flex: auto;\n      }\n\n      [part~=\"content\"] {\n        flex: auto;\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport { GestureEventListeners } from '@polymer/polymer/lib/mixins/gesture-event-listeners.js';\nimport '@polymer/iron-media-query/iron-media-query.js';\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { ThemePropertyMixin } from '@vaadin/vaadin-themable-mixin/vaadin-theme-property-mixin.js';\nimport { ControlStateMixin } from '@vaadin/vaadin-control-state-mixin/vaadin-control-state-mixin.js';\nimport './vaadin-date-picker-overlay.js';\nimport './vaadin-date-picker-overlay-content.js';\nimport { DatePickerMixin } from './vaadin-date-picker-mixin.js';\nimport '@vaadin/vaadin-text-field/src/vaadin-text-field.js';\nimport { ElementMixin } from '@vaadin/vaadin-element-mixin/vaadin-element-mixin.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { afterNextRender } from '@polymer/polymer/lib/utils/render-status.js';\nimport { prevent } from '@polymer/polymer/lib/utils/gestures.js';\n/**\n *\n * `<vaadin-date-picker>` is a date selection field which includes a scrollable\n * month calendar view.\n * ```html\n * <vaadin-date-picker label=\"Birthday\"></vaadin-date-picker>\n * ```\n * ```js\n * datePicker.value = '2016-03-02';\n * ```\n * When the selected `value` is changed, a `value-changed` event is triggered.\n *\n *\n * ### Styling\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name | Description | Theme for Element\n * ----------------|----------------|----------------\n * `text-field` | Input element | vaadin-date-picker\n * `clear-button` | Clear button | vaadin-date-picker\n * `toggle-button` | Toggle button | vaadin-date-picker\n * `overlay-content` | The overlay element | vaadin-date-picker\n * `overlay-header` | Fullscreen mode header | vaadin-date-picker-overlay-content\n * `label` | Fullscreen mode value/label | vaadin-date-picker-overlay-content\n * `clear-button` | Fullscreen mode clear button | vaadin-date-picker-overlay-content\n * `toggle-button` | Fullscreen mode toggle button | vaadin-date-picker-overlay-content\n * `years-toggle-button` | Fullscreen mode years scroller toggle | vaadin-date-picker-overlay-content\n * `months` | Months scroller | vaadin-date-picker-overlay-content\n * `years` | Years scroller | vaadin-date-picker-overlay-content\n * `toolbar` | Footer bar with buttons | vaadin-date-picker-overlay-content\n * `today-button` | Today button | vaadin-date-picker-overlay-content\n * `cancel-button` | Cancel button | vaadin-date-picker-overlay-content\n * `month` | Month calendar | vaadin-date-picker-overlay-content\n * `year-number` | Year number | vaadin-date-picker-overlay-content\n * `year-separator` | Year separator | vaadin-date-picker-overlay-content\n * `month-header` | Month title | vaadin-month-calendar\n * `weekdays` | Weekday container | vaadin-month-calendar\n * `weekday` | Weekday element | vaadin-month-calendar\n * `week-numbers` | Week numbers container | vaadin-month-calendar\n * `week-number` | Week number element | vaadin-month-calendar\n * `date` | Date element | vaadin-month-calendar\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * The following state attributes are available for styling:\n *\n * Attribute    | Description | Part name\n * -------------|-------------|------------\n * `invalid` | Set when the element is invalid | :host\n * `opened` | Set when the date selector overlay is opened | :host\n * `readonly` | Set when the element is readonly | :host\n * `disabled` | Set when the element is disabled | :host\n * `today` | Set on the date corresponding to the current day | date\n * `focused` | Set on the focused date | date\n * `disabled` | Set on the date out of the allowed range | date\n * `selected` | Set on the selected date | date\n *\n * If you want to replace the default input field with a custom implementation, you should use the\n * [`<vaadin-date-picker-light>`](#vaadin-date-picker-light) element.\n *\n * In addition to `<vaadin-date-picker>` itself, the following internal\n * components are themable:\n *\n * - `<vaadin-text-field>`\n * - `<vaadin-date-picker-overlay>`\n * - `<vaadin-date-picker-overlay-content>`\n * - `<vaadin-month-calendar>`\n *\n * Note: the `theme` attribute value set on `<vaadin-date-picker>` is\n * propagated to the internal themable components listed above.\n *\n * @memberof Vaadin\n * @mixes Vaadin.ElementMixin\n * @mixes Vaadin.ControlStateMixin\n * @mixes Vaadin.ThemableMixin\n * @mixes Vaadin.ThemePropertyMixin\n * @mixes Vaadin.DatePickerMixin\n * @mixes Polymer.GestureEventListeners\n * @demo demo/index.html\n */\nclass DatePickerElement extends\n  ElementMixin(\n    ControlStateMixin(\n      ThemableMixin(\n        ThemePropertyMixin(\n          DatePickerMixin(\n            GestureEventListeners(PolymerElement)))))) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: inline-block;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      :host([opened]) {\n        pointer-events: auto;\n      }\n\n      [part=\"text-field\"] {\n        width: 100%;\n        min-width: 0;\n      }\n\n      :host([disabled]) [part=\"clear-button\"],\n      :host([readonly]) [part=\"clear-button\"],\n      :host(:not([has-value])) [part=\"clear-button\"] {\n        display: none;\n      }\n    </style>\n\n\n    <vaadin-text-field id=\"input\" role=\"application\" autocomplete=\"off\" on-focus=\"_focus\" value=\"{{_userInputValue}}\" invalid=\"[[invalid]]\" label=\"[[label]]\" name=\"[[name]]\" placeholder=\"[[placeholder]]\" required=\"[[required]]\" disabled=\"[[disabled]]\" readonly=\"[[readonly]]\" error-message=\"[[errorMessage]]\" aria-label\\$=\"[[label]]\" part=\"text-field\" theme\\$=\"[[theme]]\">\n      <slot name=\"prefix\" slot=\"prefix\"></slot>\n      <div part=\"clear-button\" slot=\"suffix\" on-touchend=\"_clearTouchend\" on-click=\"_clear\" role=\"button\" aria-label\\$=\"[[i18n.clear]]\"></div>\n      <div part=\"toggle-button\" slot=\"suffix\" on-tap=\"_toggle\" role=\"button\" aria-label\\$=\"[[i18n.calendar]]\" aria-expanded\\$=\"[[_getAriaExpanded(opened)]]\"></div>\n    </vaadin-text-field>\n\n    <vaadin-date-picker-overlay id=\"overlay\" fullscreen\\$=\"[[_fullscreen]]\" theme\\$=\"[[__getOverlayTheme(theme, _overlayInitialized)]]\" on-vaadin-overlay-open=\"_onOverlayOpened\" on-vaadin-overlay-close=\"_onOverlayClosed\" disable-upgrade=\"\">\n      <template>\n        <vaadin-date-picker-overlay-content id=\"overlay-content\" i18n=\"[[i18n]]\" fullscreen\\$=\"[[_fullscreen]]\" label=\"[[label]]\" selected-date=\"{{_selectedDate}}\" slot=\"dropdown-content\" focused-date=\"{{_focusedDate}}\" show-week-numbers=\"[[showWeekNumbers]]\" min-date=\"[[_minDate]]\" max-date=\"[[_maxDate]]\" role=\"dialog\" on-date-tap=\"_close\" part=\"overlay-content\" theme\\$=\"[[__getOverlayTheme(theme, _overlayInitialized)]]\">\n        </vaadin-date-picker-overlay-content>\n      </template>\n    </vaadin-date-picker-overlay>\n\n    <iron-media-query query=\"[[_fullscreenMediaQuery]]\" query-matches=\"{{_fullscreen}}\">\n    </iron-media-query>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-date-picker';\n  }\n\n  static get version() {\n    return '3.3.4';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * Set to true to disable this element.\n       */\n      disabled: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true\n      },\n\n      /**\n       * The error message to display when the input is invalid.\n       */\n      errorMessage: String,\n\n      /**\n       * A placeholder string in addition to the label. If this is set, the label will always float.\n       */\n      placeholder: String,\n\n      /**\n       * Set to true to make this element read-only.\n       */\n      readonly: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true\n      },\n\n      /**\n       * This property is set to true when the control value invalid.\n       */\n      invalid: {\n        type: Boolean,\n        reflectToAttribute: true,\n        notify: true,\n        value: false\n      },\n\n      _userInputValue: String\n    };\n  }\n\n  static get observers() {\n    return [\n      '_userInputValueChanged(_userInputValue)'\n    ];\n  }\n\n  ready() {\n    super.ready();\n\n    // In order to have synchronized invalid property, we need to use the same validate logic.\n    afterNextRender(this, () => this._inputElement.validate = () => {});\n  }\n\n  _onVaadinOverlayClose(e) {\n    if (this._openedWithFocusRing && this.hasAttribute('focused')) {\n      this.focusElement.setAttribute('focus-ring', '');\n    } else if (!this.hasAttribute('focused')) {\n      this.focusElement.blur();\n    }\n    if (e.detail.sourceEvent && e.detail.sourceEvent.composedPath().indexOf(this) !== -1) {\n      e.preventDefault();\n    }\n  }\n\n  _clear() {\n    this.__dispatchChange = true;\n    this.value = '';\n    this.validate();\n    this.focus();\n    prevent('tap');\n    this.__dispatchChange = false;\n  }\n\n  _clearTouchend(e) {\n    this._clear();\n    e.preventDefault();\n    prevent('tap');\n  }\n\n  _toggle(e) {\n    e.stopPropagation();\n    this[(this._overlayInitialized && this.$.overlay.opened) ? 'close' : 'open']();\n  }\n\n  _input() {\n    return this.$.input;\n  }\n\n  set _inputValue(value) {\n    this._inputElement.value = value;\n  }\n\n  get _inputValue() {\n    return this._inputElement.value;\n  }\n\n  _getAriaExpanded(opened) {\n    return Boolean(opened).toString();\n  }\n\n  /**\n   * Focussable element used by vaadin-control-state-mixin\n   */\n  get focusElement() {\n    return this._input() || this;\n  }\n}\n\ncustomElements.define(DatePickerElement.is, DatePickerElement);\n\nexport { DatePickerElement };\n","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport { timeOut } from '@polymer/polymer/lib/utils/async.js';\nimport { Debouncer } from '@polymer/polymer/lib/utils/debounce.js';\nimport { flush } from '@polymer/polymer/lib/utils/flush.js';\nimport { templatize } from '@polymer/polymer/lib/utils/templatize.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { afterNextRender } from '@polymer/polymer/lib/utils/render-status.js';\n/**\n * @memberof Vaadin\n * @private\n */\nclass InfiniteScrollerElement extends PolymerElement {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: block;\n        overflow: hidden;\n        height: 500px;\n      }\n\n      #scroller {\n        position: relative;\n        height: 100%;\n        overflow: auto;\n        outline: none;\n        margin-right: -40px;\n        -webkit-overflow-scrolling: touch;\n        -ms-overflow-style: none;\n        overflow-x: hidden;\n      }\n\n      #scroller.notouchscroll {\n        -webkit-overflow-scrolling: auto;\n      }\n\n      #scroller::-webkit-scrollbar {\n        display: none;\n      }\n\n      .buffer {\n        position: absolute;\n        width: var(--vaadin-infinite-scroller-buffer-width, 100%);\n        box-sizing: border-box;\n        padding-right: 40px;\n        top: var(--vaadin-infinite-scroller-buffer-offset, 0);\n        animation: fadein 0.2s;\n      }\n\n      @keyframes fadein {\n        from { opacity: 0; }\n        to { opacity: 1; }\n      }\n    </style>\n\n    <div id=\"scroller\" on-scroll=\"_scroll\">\n      <div class=\"buffer\"></div>\n      <div class=\"buffer\"></div>\n      <div id=\"fullHeight\"></div>\n    </div>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-infinite-scroller';\n  }\n\n  static get properties() {\n    return {\n\n      /**\n       * Count of individual items in each buffer.\n       * The scroller has 2 buffers altogether so bufferSize of 20\n       * will result in 40 buffered DOM items in total.\n       * Changing after initialization not supported.\n       */\n      bufferSize: {\n        type: Number,\n        value: 20\n      },\n\n      /**\n       * The amount of initial scroll top. Needed in order for the\n       * user to be able to scroll backwards.\n       */\n      _initialScroll: {\n        value: 500000\n      },\n\n      /**\n       * The index/position mapped at _initialScroll point.\n       */\n      _initialIndex: {\n        value: 0\n      },\n\n      _buffers: Array,\n\n      _preventScrollEvent: Boolean,\n\n      _mayHaveMomentum: Boolean,\n\n      _initialized: Boolean,\n\n      active: {\n        type: Boolean,\n        observer: '_activated'\n      }\n    };\n  }\n\n  ready() {\n    super.ready();\n\n    this._buffers = Array.prototype.slice.call(this.root.querySelectorAll('.buffer'));\n\n    this.$.fullHeight.style.height = this._initialScroll * 2 + 'px';\n\n    var tpl = this.querySelector('template');\n    this._TemplateClass = templatize(tpl, this, {\n      forwardHostProp: function(prop, value) {\n        if (prop !== 'index') {\n          this._buffers.forEach(buffer => {\n            [].forEach.call(buffer.children, insertionPoint => {\n              insertionPoint._itemWrapper.instance[prop] = value;\n            });\n          });\n        }\n      }\n    });\n\n    // Firefox interprets elements with overflow:auto as focusable\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1069739\n    var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n    if (isFirefox) {\n      this.$.scroller.tabIndex = -1;\n    }\n  }\n\n  _activated(active) {\n    if (active && !this._initialized) {\n      this._createPool();\n      this._initialized = true;\n    }\n  }\n\n  _finishInit() {\n    if (!this._initDone) {\n      // Once the first set of items start fading in, stamp the rest\n      this._buffers.forEach(buffer => {\n        [].forEach.call(buffer.children,\n          insertionPoint => this._ensureStampedInstance(insertionPoint._itemWrapper));\n      }, this);\n\n      if (!this._buffers[0].translateY) {\n        this._reset();\n      }\n\n      this._initDone = true;\n    }\n  }\n\n  _translateBuffer(up) {\n    var index = up ? 1 : 0;\n    this._buffers[index].translateY = this._buffers[(index ? 0 : 1)].translateY + this._bufferHeight * (index ? -1 : 1);\n    this._buffers[index].style.transform = 'translate3d(0, ' + this._buffers[index].translateY + 'px, 0)';\n    this._buffers[index].updated = false;\n    this._buffers.reverse();\n  }\n\n  _scroll() {\n    if (this._scrollDisabled) {\n      return;\n    }\n\n    var scrollTop = this.$.scroller.scrollTop;\n    if (scrollTop < this._bufferHeight || scrollTop > this._initialScroll * 2 - this._bufferHeight) {\n      // Scrolled near the end/beginning of the scrollable area -> reset.\n      this._initialIndex = ~~this.position;\n      this._reset();\n    }\n\n    // Check if we scrolled enough to translate the buffer positions.\n    var bufferOffset = this.root.querySelector('.buffer').offsetTop;\n    var upperThresholdReached = scrollTop > this._buffers[1].translateY + this.itemHeight + bufferOffset;\n    var lowerThresholdReached = scrollTop < this._buffers[0].translateY + this.itemHeight + bufferOffset;\n\n    if (upperThresholdReached || lowerThresholdReached) {\n      this._translateBuffer(lowerThresholdReached);\n      this._updateClones();\n    }\n\n    if (!this._preventScrollEvent) {\n      this.dispatchEvent(new CustomEvent('custom-scroll', {bubbles: false, composed: true}));\n      this._mayHaveMomentum = true;\n    }\n    this._preventScrollEvent = false;\n\n    this._debouncerScrollFinish = Debouncer.debounce(this._debouncerScrollFinish,\n      timeOut.after(200), () => {\n        var scrollerRect = this.$.scroller.getBoundingClientRect();\n        if (!this._isVisible(this._buffers[0], scrollerRect) && !this._isVisible(this._buffers[1], scrollerRect)) {\n          this.position = this.position;\n        }\n      });\n  }\n\n  /**\n   * Current scroller position as index. Can be a fractional number.\n   *\n   * @type {Number}\n   */\n  set position(index) {\n    this._preventScrollEvent = true;\n    if (index > this._firstIndex && index < this._firstIndex + this.bufferSize * 2) {\n      this.$.scroller.scrollTop = this.itemHeight * (index - this._firstIndex) + this._buffers[0].translateY;\n    } else {\n      this._initialIndex = ~~index;\n      this._reset();\n      this._scrollDisabled = true;\n      this.$.scroller.scrollTop += index % 1 * this.itemHeight;\n      this._scrollDisabled = false;\n    }\n\n    if (this._mayHaveMomentum) {\n      // Stop the possible iOS Safari momentum with -webkit-overflow-scrolling: auto;\n      this.$.scroller.classList.add('notouchscroll');\n      this._mayHaveMomentum = false;\n\n      setTimeout(() => {\n        // Restore -webkit-overflow-scrolling: touch; after a small delay.\n        this.$.scroller.classList.remove('notouchscroll');\n      }, 10);\n    }\n\n  }\n\n  /**\n   * @private\n   */\n  get position() {\n    return (this.$.scroller.scrollTop - this._buffers[0].translateY) / this.itemHeight + this._firstIndex;\n  }\n\n  get itemHeight() {\n    if (!this._itemHeightVal) {\n      if (!(window.ShadyCSS && window.ShadyCSS.nativeCss)) {\n        this.updateStyles();\n      }\n\n      const itemHeight = window.ShadyCSS\n        ? window.ShadyCSS.getComputedStyleValue(this, '--vaadin-infinite-scroller-item-height')\n        : getComputedStyle(this).getPropertyValue('--vaadin-infinite-scroller-item-height');\n      // Use background-position temp inline style for unit conversion\n      const tmpStyleProp = 'background-position';\n      this.$.fullHeight.style.setProperty(tmpStyleProp, itemHeight);\n      const itemHeightPx = getComputedStyle(this.$.fullHeight).getPropertyValue(tmpStyleProp);\n      this.$.fullHeight.style.removeProperty(tmpStyleProp);\n      this._itemHeightVal = parseFloat(itemHeightPx);\n    }\n\n    return this._itemHeightVal;\n  }\n\n  get _bufferHeight() {\n    return this.itemHeight * this.bufferSize;\n  }\n\n  _reset() {\n    this._scrollDisabled = true;\n    this.$.scroller.scrollTop = this._initialScroll;\n    this._buffers[0].translateY = this._initialScroll - this._bufferHeight;\n    this._buffers[1].translateY = this._initialScroll;\n    this._buffers.forEach(buffer => {\n      buffer.style.transform = 'translate3d(0, ' + buffer.translateY + 'px, 0)';\n    });\n    this._buffers[0].updated = this._buffers[1].updated = false;\n    this._updateClones(true);\n\n    this._debouncerUpdateClones = Debouncer.debounce(\n      this._debouncerUpdateClones,\n      timeOut.after(200), () => {\n        this._buffers[0].updated = this._buffers[1].updated = false;\n        this._updateClones();\n      });\n\n    this._scrollDisabled = false;\n  }\n\n  _createPool() {\n    var container = this.getBoundingClientRect();\n    this._buffers.forEach(buffer => {\n      for (var i = 0; i < this.bufferSize; i++) {\n        const itemWrapper = document.createElement('div');\n        itemWrapper.style.height = this.itemHeight + 'px';\n        itemWrapper.instance = {};\n\n        const contentId = InfiniteScrollerElement._contentIndex = InfiniteScrollerElement._contentIndex + 1 || 0;\n        const slotName = 'vaadin-infinite-scroller-item-content-' + contentId;\n\n        const insertionPoint = document.createElement('slot');\n        insertionPoint.setAttribute('name', slotName);\n        insertionPoint._itemWrapper = itemWrapper;\n        buffer.appendChild(insertionPoint);\n\n        itemWrapper.setAttribute('slot', slotName);\n        this.appendChild(itemWrapper);\n\n        // This is needed by IE\n        flush();\n\n        setTimeout(() => {\n          // Only stamp the visible instances first\n          if (this._isVisible(itemWrapper, container)) {\n            this._ensureStampedInstance(itemWrapper);\n          }\n        }, 1); // Wait for first reset\n      }\n    }, this);\n\n    setTimeout(() => {\n      afterNextRender(this, this._finishInit.bind(this));\n    }, 1);\n  }\n\n  _ensureStampedInstance(itemWrapper) {\n    if (itemWrapper.firstElementChild) {\n      return;\n    }\n\n    var tmpInstance = itemWrapper.instance;\n\n    itemWrapper.instance = new this._TemplateClass({});\n    itemWrapper.appendChild(itemWrapper.instance.root);\n\n    Object.keys(tmpInstance).forEach(prop => {\n      itemWrapper.instance.set(prop, tmpInstance[prop]);\n    });\n  }\n\n  _updateClones(viewPortOnly) {\n    this._firstIndex = ~~((this._buffers[0].translateY - this._initialScroll) / this.itemHeight) + this._initialIndex;\n\n    var scrollerRect = viewPortOnly ? this.$.scroller.getBoundingClientRect() : undefined;\n    this._buffers.forEach((buffer, bufferIndex) => {\n      if (!buffer.updated) {\n        var firstIndex = this._firstIndex + this.bufferSize * bufferIndex;\n\n        [].forEach.call(buffer.children, (insertionPoint, index) => {\n          const itemWrapper = insertionPoint._itemWrapper;\n          if (!viewPortOnly || this._isVisible(itemWrapper, scrollerRect)) {\n            itemWrapper.instance.index = firstIndex + index;\n          }\n        });\n        buffer.updated = true;\n      }\n    }, this);\n  }\n\n  _isVisible(element, container) {\n    var rect = element.getBoundingClientRect();\n    return rect.bottom > container.top && rect.top < container.bottom;\n  }\n}\n\ncustomElements.define(InfiniteScrollerElement.is, InfiniteScrollerElement);\n","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '@polymer/polymer/lib/elements/dom-repeat.js';\nimport { GestureEventListeners } from '@polymer/polymer/lib/mixins/gesture-event-listeners.js';\nimport { DatePickerHelper } from './vaadin-date-picker-helper.js';\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\n/**\n * @memberof Vaadin\n * @private\n */\nclass MonthCalendarElement extends ThemableMixin(GestureEventListeners(PolymerElement)) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: block;\n      }\n\n      [part=\"weekdays\"],\n      #days {\n        display: flex;\n        flex-wrap: wrap;\n        flex-grow: 1;\n      }\n\n      #days-container,\n      #weekdays-container {\n        display: flex;\n      }\n\n      [part=\"week-numbers\"] {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        flex-shrink: 0;\n      }\n\n      [part=\"week-numbers\"][hidden],\n      [part=\"weekday\"][hidden] {\n        display: none;\n      }\n\n      [part=\"weekday\"],\n      [part=\"date\"] {\n        /* Would use calc(100% / 7) but it doesn't work nice on IE */\n        width: 14.285714286%;\n      }\n\n      [part=\"weekday\"]:empty,\n      [part=\"week-numbers\"] {\n        width: 12.5%;\n        flex-shrink: 0;\n      }\n    </style>\n\n    <div part=\"month-header\" role=\"heading\">[[_getTitle(month, i18n.monthNames)]]</div>\n    <div id=\"monthGrid\" on-tap=\"_handleTap\" on-touchend=\"_preventDefault\" on-touchstart=\"_onMonthGridTouchStart\">\n      <div id=\"weekdays-container\">\n        <div hidden=\"[[!_showWeekSeparator(showWeekNumbers, i18n.firstDayOfWeek)]]\" part=\"weekday\"></div>\n        <div part=\"weekdays\">\n          <template is=\"dom-repeat\" items=\"[[_getWeekDayNames(i18n.weekdays, i18n.weekdaysShort, showWeekNumbers, i18n.firstDayOfWeek)]]\">\n            <div part=\"weekday\" role=\"heading\" aria-label\\$=\"[[item.weekDay]]\">[[item.weekDayShort]]</div>\n          </template>\n        </div>\n      </div>\n      <div id=\"days-container\">\n        <div part=\"week-numbers\" hidden=\"[[!_showWeekSeparator(showWeekNumbers, i18n.firstDayOfWeek)]]\">\n          <template is=\"dom-repeat\" items=\"[[_getWeekNumbers(_days)]]\">\n            <div part=\"week-number\" role=\"heading\" aria-label\\$=\"[[i18n.week]] [[item]]\">[[item]]</div>\n          </template>\n        </div>\n        <div id=\"days\">\n          <template is=\"dom-repeat\" items=\"[[_days]]\">\n            <div part=\"date\" today\\$=\"[[_isToday(item)]]\" selected\\$=\"[[_dateEquals(item, selectedDate)]]\" focused\\$=\"[[_dateEquals(item, focusedDate)]]\" date=\"[[item]]\" disabled\\$=\"[[!_dateAllowed(item, minDate, maxDate)]]\" role\\$=\"[[_getRole(item)]]\" aria-label\\$=\"[[_getAriaLabel(item)]]\" aria-disabled\\$=\"[[_getAriaDisabled(item, minDate, maxDate)]]\">[[_getDate(item)]]</div>\n          </template>\n        </div>\n      </div>\n    </div>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-month-calendar';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * A `Date` object defining the month to be displayed. Only year and\n       * month properties are actually used.\n       */\n      month: {\n        type: Date,\n        value: new Date()\n      },\n\n      /**\n       * A `Date` object for the currently selected date.\n       */\n      selectedDate: {\n        type: Date,\n        notify: true\n      },\n\n      /**\n       * A `Date` object for the currently focused date.\n       */\n      focusedDate: Date,\n\n      showWeekNumbers: {\n        type: Boolean,\n        value: false\n      },\n\n      i18n: {\n        type: Object\n      },\n\n      /**\n       * Flag stating whether taps on the component should be ignored.\n       */\n      ignoreTaps: Boolean,\n\n      _notTapping: Boolean,\n\n      /**\n       * The earliest date that can be selected. All earlier dates will be disabled.\n       */\n      minDate: {\n        type: Date,\n        value: null\n      },\n\n      /**\n       * The latest date that can be selected. All later dates will be disabled.\n       */\n      maxDate: {\n        type: Date,\n        value: null\n      },\n\n      _days: {\n        type: Array,\n        computed: '_getDays(month, i18n.firstDayOfWeek, minDate, maxDate)'\n      },\n\n      disabled: {\n        type: Boolean,\n        reflectToAttribute: true,\n        computed: '_isDisabled(month, minDate, maxDate)'\n      }\n    };\n  }\n\n  static get observers() {\n    return [\n      '_showWeekNumbersChanged(showWeekNumbers, i18n.firstDayOfWeek)'\n    ];\n  }\n\n  _dateEquals(date1, date2) {\n    return DatePickerHelper._dateEquals(date1, date2);\n  }\n\n  _dateAllowed(date, min, max) {\n    return DatePickerHelper._dateAllowed(date, min, max);\n  }\n\n  /* Returns true if all the dates in the month are out of the allowed range */\n  _isDisabled(month, minDate, maxDate) {\n    // First day of the month\n    var firstDate = new Date(0, 0);\n    firstDate.setFullYear(month.getFullYear());\n    firstDate.setMonth(month.getMonth());\n    firstDate.setDate(1);\n\n    // Last day of the month\n    var lastDate = new Date(0, 0);\n    lastDate.setFullYear(month.getFullYear());\n    lastDate.setMonth(month.getMonth() + 1);\n    lastDate.setDate(-1);\n\n    if ((minDate && maxDate)\n      && minDate.getMonth() === maxDate.getMonth()\n      && minDate.getMonth() === month.getMonth()\n      && maxDate.getDate() - minDate.getDate() >= 0) {\n      return false;\n    }\n\n    return !this._dateAllowed(firstDate, minDate, maxDate)\n      && !this._dateAllowed(lastDate, minDate, maxDate);\n  }\n\n  _getTitle(month, monthNames) {\n    if (month === undefined || monthNames === undefined) {\n      return;\n    }\n    return this.i18n.formatTitle(monthNames[month.getMonth()], month.getFullYear());\n  }\n\n  _onMonthGridTouchStart() {\n    this._notTapping = false;\n    setTimeout(() => this._notTapping = true, 300);\n  }\n\n  _dateAdd(date, delta) {\n    date.setDate(date.getDate() + delta);\n  }\n\n  _applyFirstDayOfWeek(weekDayNames, firstDayOfWeek) {\n    if (weekDayNames === undefined || firstDayOfWeek === undefined) {\n      return;\n    }\n\n    return weekDayNames.slice(firstDayOfWeek).concat(weekDayNames.slice(0, firstDayOfWeek));\n  }\n\n  _getWeekDayNames(weekDayNames, weekDayNamesShort, showWeekNumbers, firstDayOfWeek) {\n    if (weekDayNames === undefined || weekDayNamesShort === undefined ||\n      showWeekNumbers === undefined || firstDayOfWeek === undefined) {\n      return;\n    }\n    weekDayNames = this._applyFirstDayOfWeek(weekDayNames, firstDayOfWeek);\n    weekDayNamesShort = this._applyFirstDayOfWeek(weekDayNamesShort, firstDayOfWeek);\n    weekDayNames = weekDayNames.map((day, index) => {\n      return {\n        weekDay: day,\n        weekDayShort: weekDayNamesShort[index]\n      };\n    });\n\n    return weekDayNames;\n  }\n\n  _getDate(date) {\n    return date ? date.getDate() : '';\n  }\n\n  _showWeekNumbersChanged(showWeekNumbers, firstDayOfWeek) {\n    if (showWeekNumbers && firstDayOfWeek === 1) {\n      this.setAttribute('week-numbers', '');\n    } else {\n      this.removeAttribute('week-numbers');\n    }\n  }\n\n  _showWeekSeparator(showWeekNumbers, firstDayOfWeek) {\n    // Currently only supported for locales that start the week on Monday.\n    return showWeekNumbers && firstDayOfWeek === 1;\n  }\n\n  _isToday(date) {\n    return this._dateEquals(new Date(), date);\n  }\n\n  _getDays(month, firstDayOfWeek) {\n    if (month === undefined || firstDayOfWeek === undefined) {\n      return;\n    }\n    // First day of the month (at midnight).\n    var date = new Date(0, 0);\n    date.setFullYear(month.getFullYear());\n    date.setMonth(month.getMonth());\n    date.setDate(1);\n\n    // Rewind to first day of the week.\n    while (date.getDay() !== firstDayOfWeek) {\n      this._dateAdd(date, -1);\n    }\n\n    var days = [];\n    var startMonth = date.getMonth();\n    var targetMonth = month.getMonth();\n    while (date.getMonth() === targetMonth || date.getMonth() === startMonth) {\n      days.push(date.getMonth() === targetMonth ? new Date(date.getTime()) : null);\n\n      // Advance to next day.\n      this._dateAdd(date, 1);\n    }\n    return days;\n  }\n\n  _getWeekNumber(date, days) {\n    if (date === undefined || days === undefined) {\n      return;\n    }\n\n    if (!date) {\n      // Get the first non-null date from the days array.\n      date = days.reduce((acc, d) => {\n        return !acc && d ? d : acc;\n      });\n    }\n\n    return DatePickerHelper._getISOWeekNumber(date);\n  }\n\n  _getWeekNumbers(dates) {\n    return dates\n      .map(date => this._getWeekNumber(date, dates))\n      .filter((week, index, arr) => arr.indexOf(week) === index);\n  }\n\n  _handleTap(e) {\n    if (!this.ignoreTaps && !this._notTapping && e.target.date && !e.target.hasAttribute('disabled')) {\n      this.selectedDate = e.target.date;\n      this.dispatchEvent(new CustomEvent('date-tap', {bubbles: true, composed: true}));\n    }\n  }\n\n  _preventDefault(e) {\n    e.preventDefault();\n  }\n\n  _getRole(date) {\n    return date ? 'button' : 'presentation';\n  }\n\n  _getAriaLabel(date) {\n    if (!date) {\n      return '';\n    }\n\n    var ariaLabel = this._getDate(date) + ' ' +\n      this.i18n.monthNames[date.getMonth()] + ' ' +\n      date.getFullYear() + ', ' +\n      this.i18n.weekdays[date.getDay()];\n\n    if (this._isToday(date)) {\n      ariaLabel += ', ' + this.i18n.today;\n    }\n\n    return ariaLabel;\n  }\n\n  _getAriaDisabled(date, min, max) {\n    if (date === undefined || min === undefined || max === undefined) {\n      return;\n    }\n    return this._dateAllowed(date, min, max) ? 'false' : 'true';\n  }\n}\n\ncustomElements.define(MonthCalendarElement.is, MonthCalendarElement);\n","import '@vaadin/vaadin-lumo-styles/color.js';\nimport '@vaadin/vaadin-lumo-styles/sizing.js';\nimport '@vaadin/vaadin-lumo-styles/spacing.js';\nimport '@vaadin/vaadin-lumo-styles/style.js';\nimport '@vaadin/vaadin-lumo-styles/typography.js';\nimport '@vaadin/vaadin-button/theme/lumo/vaadin-button.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\n\nconst $_documentContainer = html`<dom-module id=\"lumo-date-picker-overlay-content\" theme-for=\"vaadin-date-picker-overlay-content\">\n  <template>\n    <style>\n      :host {\n        position: relative;\n        background-color: transparent;\n        /* Background for the year scroller, placed here as we are using a mask image on the actual years part */\n        background-image: linear-gradient(var(--lumo-shade-5pct), var(--lumo-shade-5pct));\n        background-size: 57px 100%;\n        background-position: top right;\n        background-repeat: no-repeat;\n        cursor: default;\n      }\n\n      /* Month scroller */\n\n      [part=\"months\"] {\n        /* Month calendar height:\n              header height + margin-bottom\n            + weekdays height + margin-bottom\n            + date cell heights\n            + small margin between month calendars\n        */\n        --vaadin-infinite-scroller-item-height:\n          calc(\n              var(--lumo-font-size-l) + var(--lumo-space-m)\n            + var(--lumo-font-size-xs) + var(--lumo-space-s)\n            + var(--lumo-size-m) * 6\n            + var(--lumo-space-s)\n          );\n        --vaadin-infinite-scroller-buffer-offset: 20%;\n        -webkit-mask-image: linear-gradient(transparent, #000 10%, #000 85%, transparent);\n        mask-image: linear-gradient(transparent, #000 10%, #000 85%, transparent);\n        position: relative;\n        margin-right: 57px;\n      }\n\n      /* Year scroller */\n\n      [part=\"years\"] {\n        /* TODO get rid of fixed magic number */\n        --vaadin-infinite-scroller-buffer-width: 97px;\n        width: 57px;\n        height: auto;\n        top: 0;\n        bottom: 0;\n        font-size: var(--lumo-font-size-s);\n        box-shadow: inset 2px 0 4px 0 var(--lumo-shade-5pct);\n        -webkit-mask-image: linear-gradient(transparent, #000 35%, #000 65%, transparent);\n        mask-image: linear-gradient(transparent, #000 35%, #000 65%, transparent);\n      }\n\n      [part=\"year-number\"],\n      [part=\"year-separator\"] {\n        opacity: 0.5;\n        transition: 0.2s opacity;\n      }\n\n      [part=\"years\"]:hover [part=\"year-number\"],\n      [part=\"years\"]:hover [part=\"year-separator\"] {\n        opacity: 1;\n      }\n\n      /* TODO unsupported selector */\n      #scrollers {\n        position: static;\n        display: block;\n      }\n\n      /* TODO unsupported selector, should fix this in vaadin-date-picker that it adapts to the\n       * width of the year scroller */\n      #scrollers[desktop] [part=\"months\"] {\n        right: auto;\n      }\n\n      /* Year scroller position indicator */\n      [part=\"years\"]::before {\n        border: none;\n        width: 1em;\n        height: 1em;\n        background-color: var(--lumo-base-color);\n        background-image: linear-gradient(var(--lumo-tint-5pct), var(--lumo-tint-5pct));\n        transform: translate(-75%, -50%) rotate(45deg);\n        border-top-right-radius: calc(var(--lumo-border-radius) / 2);\n        box-shadow: 2px -2px 6px 0 var(--lumo-shade-5pct);\n        z-index: 1;\n      }\n\n      [part=\"year-number\"],\n      [part=\"year-separator\"] {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 50%;\n        transform: translateY(-50%);\n      }\n\n      [part=\"years\"] [part=\"year-separator\"]::after {\n        color: var(--lumo-disabled-text-color);\n        content: \"•\";\n      }\n\n      /* Current year */\n\n      [part=\"years\"] [part=\"year-number\"][current] {\n        color: var(--lumo-primary-text-color);\n      }\n\n      /* Toolbar (footer) */\n\n      [part=\"toolbar\"] {\n        padding: var(--lumo-space-s);\n        box-shadow: 0 -1px 0 0 var(--lumo-contrast-10pct);\n        border-bottom-left-radius: var(--lumo-border-radius);\n        margin-right: 57px;\n      }\n\n      @supports (mask-image: linear-gradient(#000, #000)) or (-webkit-mask-image: linear-gradient(#000, #000)) {\n        [part=\"toolbar\"] {\n          box-shadow: none;\n        }\n      }\n\n      /* Today and Cancel buttons */\n\n      /* TODO: Would be great if I could apply the \"tertiary\" theme from here instead of copying those styles */\n      [part=\"toolbar\"] [part\\$=\"button\"] {\n        background-color: transparent;\n        margin: 0;\n        min-width: 0;\n        padding: 0 0.75em;\n      }\n\n      /* Narrow viewport mode (fullscreen) */\n\n      :host([fullscreen]) [part=\"toolbar\"] {\n        order: -1;\n        background-color: var(--lumo-base-color);\n      }\n\n      :host([fullscreen]) [part=\"overlay-header\"] {\n        order: -2;\n        height: var(--lumo-size-m);\n        padding: var(--lumo-space-s);\n        position: absolute;\n        left: 0;\n        right: 0;\n        justify-content: center;\n      }\n\n      :host([fullscreen]) [part=\"toggle-button\"],\n      :host([fullscreen]) [part=\"clear-button\"],\n      [part=\"overlay-header\"] [part=\"label\"] {\n        display: none;\n      }\n\n      /* Very narrow screen (year scroller initially hidden) */\n\n      [part=\"years-toggle-button\"] {\n        position: relative;\n        right: auto;\n        display: flex;\n        align-items: center;\n        height: var(--lumo-size-s);\n        padding: 0 0.5em;\n        border-radius: var(--lumo-border-radius);\n        z-index: 3;\n        color: var(--lumo-primary-text-color);\n        font-weight: 500;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n      }\n\n      :host([years-visible]) [part=\"years-toggle-button\"] {\n        background-color: var(--lumo-primary-color);\n        color: var(--lumo-primary-contrast-color);\n      }\n\n      [part=\"years-toggle-button\"]::before {\n        content: none;\n      }\n\n      /* TODO magic number (same as used for iron-media-query in vaadin-date-picker-overlay-content) */\n      @media screen and (max-width: 374px) {\n        :host {\n          background-image: none;\n        }\n\n        [part=\"years\"] {\n          background-color: var(--lumo-shade-5pct);\n        }\n\n        [part=\"toolbar\"],\n        [part=\"months\"] {\n          margin-right: 0;\n        }\n\n        /* TODO make date-picker adapt to the width of the years part */\n        [part=\"years\"] {\n          --vaadin-infinite-scroller-buffer-width: 90px;\n          width: 50px;\n        }\n\n        :host([years-visible]) [part=\"months\"] {\n          padding-left: 50px;\n        }\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n","import '@vaadin/vaadin-lumo-styles/sizing.js';\nimport '@vaadin/vaadin-lumo-styles/spacing.js';\nimport '@vaadin/vaadin-lumo-styles/mixins/menu-overlay.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\n\nconst $_documentContainer = html`<dom-module id=\"lumo-date-picker-overlay\" theme-for=\"vaadin-date-picker-overlay\">\n  <template>\n    <style include=\"lumo-menu-overlay\">\n      [part=\"overlay\"] {\n        /*\n        Width:\n            date cell widths\n          + month calendar side padding\n          + year scroller width\n        */\n        width:\n          calc(\n              var(--lumo-size-m) * 7\n            + var(--lumo-space-xs) * 2\n            + 57px\n          );\n        height: 100%;\n        max-height: calc(var(--lumo-size-m) * 14);\n        overflow: hidden;\n        -webkit-tap-highlight-color: transparent;\n      }\n\n      [part=\"content\"] {\n        padding: 0;\n        height: 100%;\n        overflow: hidden;\n        -webkit-mask-image: none;\n        mask-image: none;\n      }\n\n      @media (max-width: 420px), (max-height: 420px) {\n        [part=\"overlay\"] {\n          width: 100vw;\n          height: 70vh;\n          max-height: 70vh;\n        }\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n","import '@vaadin/vaadin-lumo-styles/font-icons.js';\nimport '@vaadin/vaadin-lumo-styles/mixins/field-button.js';\nimport '@vaadin/vaadin-text-field/theme/lumo/vaadin-text-field.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\n\nconst $_documentContainer = html`<dom-module id=\"lumo-date-picker\" theme-for=\"vaadin-date-picker\">\n  <template>\n    <style include=\"lumo-field-button\">\n      :host {\n        outline: none;\n      }\n\n      [part=\"toggle-button\"]::before {\n        content: var(--lumo-icons-calendar);\n      }\n\n      [part=\"clear-button\"]::before {\n        content: var(--lumo-icons-cross);\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n","import './vaadin-date-picker-overlay-styles.js';\nimport './vaadin-date-picker-overlay-content-styles.js';\nimport './vaadin-month-calendar-styles.js';\nimport './vaadin-date-picker-styles.js';\nimport '../../src/vaadin-date-picker.js';\n","import '@vaadin/vaadin-lumo-styles/color.js';\nimport '@vaadin/vaadin-lumo-styles/sizing.js';\nimport '@vaadin/vaadin-lumo-styles/spacing.js';\nimport '@vaadin/vaadin-lumo-styles/style.js';\nimport '@vaadin/vaadin-lumo-styles/typography.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\n\nconst $_documentContainer = html`<dom-module id=\"lumo-month-calendar\" theme-for=\"vaadin-month-calendar\">\n  <template>\n    <style>\n      :host {\n        -moz-user-select: none;\n        -ms-user-select: none;\n        -webkit-user-select: none;\n        -webkit-tap-highlight-color: transparent;\n        user-select: none;\n        font-size: var(--lumo-font-size-m);\n        color: var(--lumo-body-text-color);\n        text-align: center;\n        padding: 0 var(--lumo-space-xs);\n      }\n\n      /* Month header */\n\n      [part=\"month-header\"] {\n        color: var(--lumo-header-text-color);\n        font-size: var(--lumo-font-size-l);\n        line-height: 1;\n        font-weight: 500;\n        margin-bottom: var(--lumo-space-m);\n      }\n\n      /* Week days and numbers */\n\n      [part=\"weekdays\"],\n      [part=\"weekday\"],\n      [part=\"week-numbers\"] {\n        font-size: var(--lumo-font-size-xs);\n        line-height: 1;\n        color: var(--lumo-tertiary-text-color);\n      }\n\n      [part=\"weekdays\"] {\n        margin-bottom: var(--lumo-space-s);\n      }\n\n      /* TODO should have part=\"week-number\" for the cell in weekdays-container */\n      [part=\"weekday\"]:empty,\n      [part=\"week-numbers\"] {\n        width: var(--lumo-size-xs);\n      }\n\n      /* Date and week number cells */\n\n      [part=\"date\"],\n      [part=\"week-number\"] {\n        box-sizing: border-box;\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        height: var(--lumo-size-m);\n        position: relative;\n      }\n\n      [part=\"date\"] {\n        transition: color 0.1s;\n      }\n\n      /* Today date */\n\n      [part=\"date\"][today] {\n        color: var(--lumo-primary-text-color);\n      }\n\n      /* Focused date */\n\n      [part=\"date\"]::before {\n        content: \"\";\n        position: absolute;\n        z-index: -1;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        min-width: 2em;\n        min-height: 2em;\n        width: 80%;\n        height: 80%;\n        max-height: 100%;\n        max-width: 100%;\n        border-radius: var(--lumo-border-radius);\n      }\n\n      [part=\"date\"][focused]::before {\n        box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);\n      }\n\n      :host(:not([focused])) [part=\"date\"][focused]::before {\n        animation: vaadin-date-picker-month-calendar-focus-date 1.4s infinite;\n      }\n\n      @keyframes vaadin-date-picker-month-calendar-focus-date {\n        50% {\n          box-shadow: 0 0 0 2px transparent;\n        }\n      }\n\n      /* TODO should not rely on the role attribute */\n      [part=\"date\"][role=\"button\"]:not([disabled]):not([selected]):hover::before {\n        background-color: var(--lumo-primary-color-10pct);\n      }\n\n      [part=\"date\"][selected] {\n        color: var(--lumo-primary-contrast-color);\n      }\n\n      [part=\"date\"][selected]::before {\n        background-color: var(--lumo-primary-color);\n      }\n\n      [part=\"date\"][disabled] {\n        color: var(--lumo-disabled-text-color);\n      }\n\n      @media (pointer: coarse) {\n        [part=\"date\"]:hover:not([selected])::before,\n        [part=\"date\"][focused]:not([selected])::before {\n          display: none;\n        }\n\n        [part=\"date\"][role=\"button\"]:not([disabled]):active::before {\n          display: block;\n        }\n\n        [part=\"date\"][selected]::before {\n          box-shadow: none;\n        }\n      }\n\n      /* Disabled */\n\n      :host([disabled]) * {\n        color: var(--lumo-disabled-text-color) !important;\n      }\n    </style>\n  </template>\n</dom-module><custom-style>\n  <style>\n    @keyframes vaadin-date-picker-month-calendar-focus-date {\n      50% {\n        box-shadow: 0 0 0 2px transparent;\n      }\n    }\n  </style>\n</custom-style>`;\n\ndocument.head.appendChild($_documentContainer.content);\n","import './theme/lumo/vaadin-date-picker.js';\n","const DEV_MODE_CODE_REGEXP =\n  /\\/\\*\\*\\s+vaadin-dev-mode:start([\\s\\S]*)vaadin-dev-mode:end\\s+\\*\\*\\//i;\n\nfunction isMinified() {\n  function test() {\n    /** vaadin-dev-mode:start\n    return false;\n    vaadin-dev-mode:end **/\n    return true;\n  }\n  return uncommentAndRun(test);\n}\n\nfunction isDevelopmentMode() {\n  try {\n    return isForcedDevelopmentMode() || (isLocalhost() && !isMinified() && !isFlowProductionMode());\n  } catch (e) {\n    // Some error in this code, assume production so no further actions will be taken\n    return false;\n  }\n}\n\nfunction isForcedDevelopmentMode() {\n  return localStorage.getItem(\"vaadin.developmentmode.force\");\n}\n\nfunction isLocalhost() {\n  return ([\"localhost\",\"127.0.0.1\"].indexOf(window.location.hostname) >= 0);\n}\n\nfunction isFlowProductionMode() {\n  if (window.Vaadin && window.Vaadin.Flow && window.Vaadin.Flow.clients) {\n    const productionModeApps = Object.keys(window.Vaadin.Flow.clients)\n    .map(key => window.Vaadin.Flow.clients[key])\n    .filter(client => client.productionMode);\n    if (productionModeApps.length > 0) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction uncommentAndRun(callback, args) {\n  if (typeof callback !== 'function') {\n    return;\n  }\n\n  const match = DEV_MODE_CODE_REGEXP.exec(callback.toString());\n  if (match) {\n    try {\n      // requires CSP: script-src 'unsafe-eval'\n      callback = new Function(match[1]);\n    } catch (e) {\n      // eat the exception\n      console.log('vaadin-development-mode-detector: uncommentAndRun() failed', e)\n    }\n  }\n\n  return callback(args);\n}\n\n// A guard against polymer-modulizer removing the window.Vaadin\n// initialization above.\nwindow['Vaadin'] = window['Vaadin'] || {};\n\n/**\n * Inspects the source code of the given `callback` function for\n * specially-marked _commented_ code. If such commented code is found in the\n * callback source, uncomments and runs that code instead of the callback\n * itself. Otherwise runs the callback as is.\n *\n * The optional arguments are passed into the callback / uncommented code,\n * the result is returned.\n *\n * See the `isMinified()` function source code in this file for an example.\n *\n */\nexport const runIfDevelopmentMode = function(callback, args) {\n  if (window.Vaadin.developmentMode) {\n    return uncommentAndRun(callback, args);\n  }\n};\n\nif (window.Vaadin.developmentMode === undefined) {\n  window.Vaadin.developmentMode = isDevelopmentMode();\n}\n","import { idlePeriod } from '@polymer/polymer/lib/utils/async.js';\nimport { Debouncer } from '@polymer/polymer/lib/utils/debounce.js';\nimport { enqueueDebouncer } from '@polymer/polymer/lib/utils/flush.js';\nimport { usageStatistics } from '@vaadin/vaadin-usage-statistics/vaadin-usage-statistics.js';\nif (!window.Vaadin) {\n  window['Vaadin'] = {};\n}\n\n/**\n * Array of Vaadin custom element classes that have been finalized.\n */\nwindow['Vaadin'].registrations = window.Vaadin.registrations || [];\n\n// Use the hack to prevent polymer-modulizer from converting to exports\nwindow['Vaadin'].developmentModeCallback = window.Vaadin.developmentModeCallback || {};\nwindow['Vaadin'].developmentModeCallback['vaadin-usage-statistics'] = function() {\n  if (usageStatistics) {\n    usageStatistics();\n  }\n};\n\nlet statsJob;\n\n/**\n * @polymerMixin\n */\nexport const ElementMixin = superClass => class VaadinElementMixin extends superClass {\n  /** @protected */\n  static _finalizeClass() {\n    super._finalizeClass();\n\n    // Registers a class prototype for telemetry purposes.\n    if (this.is) {\n      window.Vaadin.registrations.push(this);\n\n      if (window.Vaadin.developmentModeCallback) {\n        statsJob = Debouncer.debounce(statsJob,\n          idlePeriod, () => {\n            window.Vaadin.developmentModeCallback['vaadin-usage-statistics']();\n          }\n        );\n        enqueueDebouncer(statsJob);\n      }\n    }\n  }\n  ready() {\n    super.ready();\n    if (document.doctype === null) {\n      console.warn(\n        'Vaadin components require the \"standards mode\" declaration. Please add <!DOCTYPE html> to the HTML document.'\n      );\n    }\n  }\n};\n","import '../color.js';\nimport '../font-icons.js';\nimport '../sizing.js';\nimport '../style.js';\nconst $_documentContainer = document.createElement('template');\n\n$_documentContainer.innerHTML = `<dom-module id=\"lumo-field-button\">\n  <template>\n    <style>\n      [part\\$=\"button\"] {\n        flex: none;\n        width: 1em;\n        height: 1em;\n        line-height: 1;\n        font-size: var(--lumo-icon-size-m);\n        text-align: center;\n        color: var(--lumo-contrast-60pct);\n        transition: 0.2s color;\n        cursor: var(--lumo-clickable-cursor);\n      }\n\n      :host(:not([readonly])) [part\\$=\"button\"]:hover {\n        color: var(--lumo-contrast-90pct);\n      }\n\n      :host([disabled]) [part\\$=\"button\"],\n      :host([readonly]) [part\\$=\"button\"] {\n        color: var(--lumo-contrast-20pct);\n      }\n\n      [part\\$=\"button\"]::before {\n        font-family: \"lumo-icons\";\n        display: block;\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n","import '../color.js';\nimport '../spacing.js';\nimport '../style.js';\nimport '../typography.js';\nconst $_documentContainer = document.createElement('template');\n\n$_documentContainer.innerHTML = `<dom-module id=\"lumo-required-field\">\n  <template>\n    <style>\n      [part=\"label\"] {\n        align-self: flex-start;\n        color: var(--lumo-secondary-text-color);\n        font-weight: 500;\n        font-size: var(--lumo-font-size-s);\n        margin-left: calc(var(--lumo-border-radius-m) / 4);\n        transition: color 0.2s;\n        line-height: 1;\n        padding-bottom: 0.5em;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        position: relative;\n        max-width: 100%;\n        box-sizing: border-box;\n      }\n\n      :host([has-label])::before {\n        margin-top: calc(var(--lumo-font-size-s) * 1.5);\n      }\n\n      :host([has-label]) {\n        padding-top: var(--lumo-space-m);\n      }\n\n      :host([required]) [part=\"label\"] {\n        padding-right: 1em;\n      }\n\n      [part=\"label\"]::after {\n        content: var(--lumo-required-field-indicator, \"•\");\n        transition: opacity 0.2s;\n        opacity: 0;\n        color: var(--lumo-primary-text-color);\n        position: absolute;\n        right: 0;\n        width: 1em;\n        text-align: center;\n      }\n\n      :host([required]:not([has-value])) [part=\"label\"]::after {\n        opacity: 1;\n      }\n\n      :host([invalid]) [part=\"label\"]::after {\n        color: var(--lumo-error-text-color);\n      }\n\n      [part=\"error-message\"] {\n        margin-left: calc(var(--lumo-border-radius-m) / 4);\n        font-size: var(--lumo-font-size-xs);\n        line-height: var(--lumo-line-height-xs);\n        color: var(--lumo-error-text-color);\n        will-change: max-height;\n        transition: 0.4s max-height;\n        max-height: 5em;\n      }\n\n      /* Margin that doesn’t reserve space when there’s no error message */\n      [part=\"error-message\"]:not(:empty)::before,\n      [part=\"error-message\"]:not(:empty)::after {\n        content: \"\";\n        display: block;\n        height: 0.4em;\n      }\n\n      :host(:not([invalid])) [part=\"error-message\"] {\n        max-height: 0;\n        overflow: hidden;\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\n\nimport { ControlStateMixin } from '@vaadin/vaadin-control-state-mixin/vaadin-control-state-mixin.js';\nimport { timeOut } from '@polymer/polymer/lib/utils/async.js';\nimport { Debouncer } from '@polymer/polymer/lib/utils/debounce.js';\nconst $_documentContainer = document.createElement('template');\n\n$_documentContainer.innerHTML = `<dom-module id=\"vaadin-text-field-shared-styles\">\n  <template>\n    <style>\n      :host {\n        display: inline-flex;\n        outline: none;\n      }\n\n      :host::before {\n        content: \"\\\\2003\";\n        width: 0;\n        display: inline-block;\n        /* Size and position this element on the same vertical position as the input-field element\n           to make vertical align for the host element work as expected */\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      .vaadin-text-field-container,\n      .vaadin-text-area-container {\n        display: flex;\n        flex-direction: column;\n        min-width: 100%;\n        max-width: 100%;\n        width: var(--vaadin-text-field-default-width, 12em);\n      }\n\n      [part=\"label\"]:empty {\n        display: none;\n      }\n\n      [part=\"input-field\"] {\n        display: flex;\n        align-items: center;\n        flex: auto;\n      }\n\n      .vaadin-text-field-container [part=\"input-field\"] {\n        flex-grow: 0;\n      }\n\n      /* Reset the native input styles */\n      [part=\"value\"],\n      [part=\"input-field\"] ::slotted(input),\n      [part=\"input-field\"] ::slotted(textarea) {\n        -webkit-appearance: none;\n        -moz-appearance: none;\n        outline: none;\n        margin: 0;\n        padding: 0;\n        border: 0;\n        border-radius: 0;\n        min-width: 0;\n        font: inherit;\n        font-size: 1em;\n        line-height: normal;\n        color: inherit;\n        background-color: transparent;\n        /* Disable default invalid style in Firefox */\n        box-shadow: none;\n      }\n\n      [part=\"input-field\"] ::slotted(*) {\n        flex: none;\n      }\n\n      [part=\"value\"],\n      [part=\"input-field\"] ::slotted(input),\n      [part=\"input-field\"] ::slotted(textarea),\n      /* Slotted by vaadin-select-text-field */\n      [part=\"input-field\"] ::slotted([part=\"value\"]) {\n        flex: auto;\n        white-space: nowrap;\n        overflow: hidden;\n        width: 100%;\n        height: 100%;\n      }\n\n      [part=\"input-field\"] ::slotted(textarea) {\n        resize: none;\n      }\n\n      [part=\"value\"]::-ms-clear,\n      [part=\"input-field\"] ::slotted(input)::-ms-clear {\n        display: none;\n      }\n\n      [part=\"clear-button\"] {\n        cursor: default;\n      }\n\n      [part=\"clear-button\"]::before {\n        content: \"✕\";\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n\nconst HOST_PROPS = {\n  default: ['list', 'autofocus', 'pattern', 'autocapitalize', 'autocorrect', 'maxlength',\n    'minlength', 'name', 'placeholder', 'autocomplete', 'title'],\n  accessible: ['disabled', 'readonly', 'required', 'invalid']\n};\n\nconst PROP_TYPE = {\n  DEFAULT: 'default',\n  ACCESSIBLE: 'accessible'\n};\n\n\n/**\n * @polymerMixin\n * @mixes Vaadin.ControlStateMixin\n */\nexport const TextFieldMixin = subclass => class VaadinTextFieldMixin extends ControlStateMixin(subclass) {\n  static get properties() {\n    return {\n      /**\n       * Whether the value of the control can be automatically completed by the browser.\n       * List of available options at:\n       * https://developer.mozilla.org/en/docs/Web/HTML/Element/input#attr-autocomplete\n       */\n      autocomplete: {\n        type: String\n      },\n\n      /**\n       * This is a property supported by Safari that is used to control whether\n       * autocorrection should be enabled when the user is entering/editing the text.\n       * Possible values are:\n       * on: Enable autocorrection.\n       * off: Disable autocorrection.\n       */\n      autocorrect: {\n        type: String\n      },\n\n      /**\n       * This is a property supported by Safari and Chrome that is used to control whether\n       * autocapitalization should be enabled when the user is entering/editing the text.\n       * Possible values are:\n       * characters: Characters capitalization.\n       * words: Words capitalization.\n       * sentences: Sentences capitalization.\n       * none: No capitalization.\n       */\n      autocapitalize: {\n        type: String\n      },\n\n      /**\n       * Specify that the value should be automatically selected when the field gains focus.\n       */\n      autoselect: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * Set to true to display the clear icon which clears the input.\n       */\n      clearButtonVisible: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * Error to show when the input value is invalid.\n       */\n      errorMessage: {\n        type: String,\n        value: ''\n      },\n\n      /**\n       * Object with translated strings used for localization. Has\n       * the following structure and default values:\n       *\n       * ```\n       * {\n       *   // Translation of the clear icon button accessible label\n       *   clear: 'Clear'\n       * }\n       * ```\n       */\n      i18n: {\n        type: Object,\n        value: () => {\n          return {\n            clear: 'Clear'\n          };\n        }\n      },\n\n      /**\n       * String used for the label element.\n       */\n      label: {\n        type: String,\n        value: '',\n        observer: '_labelChanged'\n      },\n\n      /**\n       * Maximum number of characters (in Unicode code points) that the user can enter.\n       */\n      maxlength: {\n        type: Number\n      },\n\n      /**\n       * Minimum number of characters (in Unicode code points) that the user can enter.\n       */\n      minlength: {\n        type: Number\n      },\n\n      /**\n       * The name of the control, which is submitted with the form data.\n       */\n      name: {\n        type: String\n      },\n\n      /**\n       * A hint to the user of what can be entered in the control.\n       */\n      placeholder: {\n        type: String\n      },\n\n      /**\n       * This attribute indicates that the user cannot modify the value of the control.\n       */\n      readonly: {\n        type: Boolean,\n        reflectToAttribute: true\n      },\n\n      /**\n       * Specifies that the user must fill in a value.\n       */\n      required: {\n        type: Boolean,\n        reflectToAttribute: true\n      },\n\n\n      /**\n       * The initial value of the control.\n       * It can be used for two-way data binding.\n       */\n      value: {\n        type: String,\n        value: '',\n        observer: '_valueChanged',\n        notify: true\n      },\n\n      /**\n       * This property is set to true when the control value is invalid.\n       */\n      invalid: {\n        type: Boolean,\n        reflectToAttribute: true,\n        notify: true,\n        value: false\n      },\n\n      /**\n       * Specifies that the text field has value.\n       */\n      hasValue: {\n        type: Boolean,\n        reflectToAttribute: true\n      },\n\n      /**\n       * When set to true, user is prevented from typing a value that\n       * conflicts with the given `pattern`.\n       */\n      preventInvalidInput: {\n        type: Boolean\n      },\n\n      _labelId: {\n        type: String\n      },\n\n      _errorId: {\n        type: String\n      }\n    };\n  }\n\n  static get observers() {\n    return ['_stateChanged(disabled, readonly, clearButtonVisible, hasValue)',\n      '_hostPropsChanged(' + HOST_PROPS.default.join(', ') + ')',\n      '_hostAccessiblePropsChanged(' + HOST_PROPS.accessible.join(', ') + ')',\n      '_getActiveErrorId(invalid, errorMessage, _errorId)',\n      '_getActiveLabelId(label, _labelId)'];\n  }\n\n  get focusElement() {\n    if (!this.shadowRoot) {\n      return;\n    }\n    const slotted = this.querySelector(`${this._slottedTagName}[slot=\"${this._slottedTagName}\"]`);\n    if (slotted) {\n      return slotted;\n    }\n    return this.shadowRoot.querySelector('[part=\"value\"]');\n  }\n\n  /**\n   * @private\n   */\n  get inputElement() {\n    return this.focusElement;\n  }\n\n  get _slottedTagName() {\n    return 'input';\n  }\n\n  _onInput(e) {\n    if (this.__preventInput) {\n      e.stopImmediatePropagation();\n      this.__preventInput = false;\n      return;\n    }\n\n    if (this.preventInvalidInput) {\n      const input = this.inputElement;\n      if (input.value.length > 0 && !this.checkValidity()) {\n        input.value = this.value || '';\n        // add input-prevented attribute for 200ms\n        this.setAttribute('input-prevented', '');\n        this._inputDebouncer = Debouncer.debounce(\n          this._inputDebouncer,\n          timeOut.after(200), () => {\n            this.removeAttribute('input-prevented');\n          });\n        return;\n      }\n    }\n\n    if (!e.__fromClearButton) {\n      this.__userInput = true;\n    }\n    this.value = e.target.value;\n  }\n\n  // NOTE(yuriy): Workaround needed for IE11 and Edge for proper displaying\n  // of the clear button instead of setting display property for it depending on state.\n  _stateChanged(disabled, readonly, clearButtonVisible, hasValue) {\n    if (!disabled &&\n        !readonly &&\n        clearButtonVisible &&\n        hasValue\n    ) {\n      this.$.clearButton.removeAttribute('hidden');\n    } else {\n      this.$.clearButton.setAttribute('hidden', true);\n    }\n  }\n\n  _onChange(e) {\n    if (this._valueClearing) {\n      return;\n    }\n\n    // In the Shadow DOM, the `change` event is not leaked into the\n    // ancestor tree, so we must do this manually.\n    const changeEvent = new CustomEvent('change', {\n      detail: {\n        sourceEvent: e\n      },\n      bubbles: e.bubbles,\n      cancelable: e.cancelable,\n    });\n    this.dispatchEvent(changeEvent);\n  }\n\n  _valueChanged(newVal, oldVal) {\n    // setting initial value to empty string, skip validation\n    if (newVal === '' && oldVal === undefined) {\n      return;\n    }\n\n    if (newVal !== '' && newVal != null) {\n      this.hasValue = true;\n    } else {\n      this.hasValue = false;\n    }\n\n    if (this.__userInput) {\n      this.__userInput = false;\n      return;\n    } else if (newVal !== undefined) {\n      this.inputElement.value = newVal;\n    } else {\n      this.value = this.inputElement.value = '';\n    }\n\n    if (this.invalid) {\n      this.validate();\n    }\n  }\n\n  _labelChanged(label) {\n    if (label !== '' && label != null) {\n      this.setAttribute('has-label', '');\n    } else {\n      this.removeAttribute('has-label');\n    }\n  }\n\n  _onSlotChange() {\n    const slotted = this.querySelector(`${this._slottedTagName}[slot=\"${this._slottedTagName}\"]`);\n\n    if (this.value) {\n      this.inputElement.value = this.value;\n      this.validate();\n    }\n\n    if (slotted && !this._slottedInput) {\n      this._validateSlottedValue(slotted);\n      this._addInputListeners(slotted);\n      this._addIEListeners(slotted);\n      this._slottedInput = slotted;\n    } else if (!slotted && this._slottedInput) {\n      this._removeInputListeners(this._slottedInput);\n      this._removeIEListeners(this._slottedInput);\n      this._slottedInput = undefined;\n    }\n\n    Object.keys(PROP_TYPE).map(key => PROP_TYPE[key]).forEach(type =>\n      this._propagateHostAttributes(HOST_PROPS[type].map(attr => this[attr]), type));\n  }\n\n  _hostPropsChanged(...attributesValues) {\n    this._propagateHostAttributes(attributesValues, PROP_TYPE.DEFAULT);\n  }\n\n  _hostAccessiblePropsChanged(...attributesValues) {\n    this._propagateHostAttributes(attributesValues, PROP_TYPE.ACCESSIBLE);\n  }\n\n  _validateSlottedValue(slotted) {\n    if (slotted.value !== this.value) {\n      console.warn('Please define value on the vaadin-text-field component!');\n      slotted.value = '';\n    }\n  }\n\n  _propagateHostAttributes(attributesValues, type) {\n    const input = this.inputElement;\n    const attributeNames = HOST_PROPS[type];\n\n    if (type === 'accessible') {\n      attributeNames.forEach((attr, index) => {\n        this._setOrToggleAttribute(attr, attributesValues[index], input);\n        this._setOrToggleAttribute(`aria-${attr}`, attributesValues[index], input);\n      });\n    } else {\n      attributeNames.forEach((attr, index) => {\n        this._setOrToggleAttribute(attr, attributesValues[index], input);\n      });\n    }\n  }\n\n  _setOrToggleAttribute(name, value, node) {\n    if (!name || !node) {\n      return;\n    }\n\n    if (value) {\n      node.setAttribute(name, (typeof value === 'boolean') ? '' : value);\n    } else {\n      node.removeAttribute(name);\n    }\n  }\n\n  /**\n   * Returns true if the current input value satisfies all constraints (if any)\n   * @returns {boolean}\n   */\n  checkValidity() {\n    if (this.required || this.pattern || this.maxlength || this.minlength) {\n      return this.inputElement.checkValidity();\n    } else {\n      return !this.invalid;\n    }\n  }\n\n  _addInputListeners(node) {\n    node.addEventListener('input', this._boundOnInput);\n    node.addEventListener('change', this._boundOnChange);\n    node.addEventListener('blur', this._boundOnBlur);\n    node.addEventListener('focus', this._boundOnFocus);\n  }\n\n  _removeInputListeners(node) {\n    node.removeEventListener('input', this._boundOnInput);\n    node.removeEventListener('change', this._boundOnChange);\n    node.removeEventListener('blur', this._boundOnBlur);\n    node.removeEventListener('focus', this._boundOnFocus);\n  }\n\n  ready() {\n    super.ready();\n\n    this._boundOnInput = this._onInput.bind(this);\n    this._boundOnChange = this._onChange.bind(this);\n    this._boundOnBlur = this._onBlur.bind(this);\n    this._boundOnFocus = this._onFocus.bind(this);\n\n    const defaultInput = this.shadowRoot.querySelector('[part=\"value\"]');\n    this._slottedInput = this.querySelector(`${this._slottedTagName}[slot=\"${this._slottedTagName}\"]`);\n    this._addInputListeners(defaultInput);\n    this._addIEListeners(defaultInput);\n    if (this._slottedInput) {\n      this._addIEListeners(this._slottedInput);\n      this._addInputListeners(this._slottedInput);\n    }\n\n    this.shadowRoot.querySelector('[name=\"input\"], [name=\"textarea\"]')\n      .addEventListener('slotchange', this._onSlotChange.bind(this));\n\n    if (!(window.ShadyCSS && window.ShadyCSS.nativeCss)) {\n      this.updateStyles();\n    }\n\n    this.$.clearButton.addEventListener('mousedown', () => this._valueClearing = true);\n    this.$.clearButton.addEventListener('mouseleave', () => this._valueClearing = false);\n    this.$.clearButton.addEventListener('click', this._onClearButtonClick.bind(this));\n    this.addEventListener('keydown', this._onKeyDown.bind(this));\n\n    var uniqueId = TextFieldMixin._uniqueId = 1 + TextFieldMixin._uniqueId || 0;\n    this._errorId = `${this.constructor.is}-error-${uniqueId}`;\n    this._labelId = `${this.constructor.is}-label-${uniqueId}`;\n  }\n\n  /**\n   * Returns true if `value` is valid.\n   * `<iron-form>` uses this to check the validity or all its elements.\n   *\n   * @return {boolean} True if the value is valid.\n   */\n  validate() {\n    return !(this.invalid = !this.checkValidity());\n  }\n\n  clear() {\n    this.value = '';\n  }\n\n  _onBlur() {\n    this.validate();\n  }\n\n  _onFocus() {\n    if (this.autoselect) {\n      this.inputElement.select();\n      // iOS 9 workaround: https://stackoverflow.com/a/7436574\n      setTimeout(() => {\n        this.inputElement.setSelectionRange(0, 9999);\n      });\n    }\n  }\n\n  _onClearButtonClick(e) {\n    e.preventDefault();\n    // NOTE(yuriy): This line won't affect focus on the host. Cannot be properly tested.\n    this.inputElement.focus();\n    this.clear();\n    this._valueClearing = false;\n    if (navigator.userAgent.match(/Trident/)) {\n      // Disable IE input\" event prevention here, we want the input event from\n      // below to propagate normally.\n      this.__preventInput = false;\n    }\n    const inputEvent = new Event('input', {bubbles: true, composed: true});\n    inputEvent.__fromClearButton = true;\n    const changeEvent = new Event('change', {bubbles: !this._slottedInput});\n    changeEvent.__fromClearButton = true;\n    this.inputElement.dispatchEvent(inputEvent);\n    this.inputElement.dispatchEvent(changeEvent);\n  }\n\n  _onKeyDown(e) {\n    if (e.keyCode === 27 && this.clearButtonVisible) {\n      this.clear();\n    }\n  }\n\n  _addIEListeners(node) {\n    /* istanbul ignore if */\n    if (navigator.userAgent.match(/Trident/)) {\n      // IE11 dispatches `input` event in following cases:\n      // - focus or blur, when placeholder attribute is set\n      // - placeholder attribute value changed\n      // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/101220/\n      this._shouldPreventInput = () => {\n        this.__preventInput = true;\n        requestAnimationFrame(() => {\n          this.__preventInput = false;\n        });\n      };\n      node.addEventListener('focusin', this._shouldPreventInput);\n      node.addEventListener('focusout', this._shouldPreventInput);\n      this._createPropertyObserver('placeholder', this._shouldPreventInput);\n    }\n  }\n\n  _removeIEListeners(node) {\n    /* istanbul ignore if */\n    if (navigator.userAgent.match(/Trident/)) {\n      node.removeEventListener('focusin', this._shouldPreventInput);\n      node.removeEventListener('focusout', this._shouldPreventInput);\n    }\n  }\n\n  _getActiveErrorId(invalid, errorMessage, errorId) {\n    this._setOrToggleAttribute('aria-describedby',\n      (errorMessage && invalid ? errorId : undefined),\n      this.inputElement);\n  }\n\n  _getActiveLabelId(label, labelId) {\n    this._setOrToggleAttribute('aria-labelledby',\n      (label ? labelId : undefined),\n      this.inputElement);\n  }\n\n  _getErrorMessageAriaHidden(invalid, errorMessage, errorId) {\n    return (!(errorMessage && invalid ? errorId : undefined)).toString();\n  }\n\n  /**\n   * @protected\n   */\n  attributeChangedCallback(prop, oldVal, newVal) {\n    super.attributeChangedCallback(prop, oldVal, newVal);\n    // Needed until Edge has CSS Custom Properties (present in Edge Preview)\n    /* istanbul ignore if */\n    if (!(window.ShadyCSS && window.ShadyCSS.nativeCss) &&\n      /^(focused|focus-ring|invalid|disabled|placeholder|has-value)$/.test(prop)) {\n      this.updateStyles();\n    }\n\n    // Safari has an issue with repainting shadow root element styles when a host attribute changes.\n    // Need this workaround (toggle any inline css property on and off) until the issue gets fixed.\n    const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n    /* istanbul ignore if */\n    if (isSafari && this.root) {\n      const WEBKIT_PROPERTY = '-webkit-backface-visibility';\n      this.root.querySelectorAll('*').forEach(el => {\n        el.style[WEBKIT_PROPERTY] = 'visible';\n        el.style[WEBKIT_PROPERTY] = '';\n      });\n    }\n  }\n\n  /**\n   * Fired when the user commits a value change.\n   *\n   * @event change\n   */\n\n  /**\n   * Fired when the value is changed by the user: on every typing keystroke,\n   * and the value is cleared using the clear button.\n   *\n   * @event input\n   */\n};\n","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport { TextFieldMixin } from './vaadin-text-field-mixin.js';\nimport { ElementMixin } from '@vaadin/vaadin-element-mixin/vaadin-element-mixin.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\n/**\n * `<vaadin-text-field>` is a Web Component for text field control in forms.\n *\n * ```html\n * <vaadin-text-field label=\"First Name\">\n * </vaadin-text-field>\n * ```\n *\n * ### Prefixes and suffixes\n *\n * These are child elements of a `<vaadin-text-field>` that are displayed\n * inline with the input, before or after.\n * In order for an element to be considered as a prefix, it must have the slot\n * attribute set to `prefix` (and similarly for `suffix`).\n *\n * ```html\n * <vaadin-text-field label=\"Email address\">\n *   <div slot=\"prefix\">Sent to:</div>\n *   <div slot=\"suffix\">@vaadin.com</div>\n * </vaadin-text-area>\n * ```\n *\n * ### Styling\n *\n * The following custom properties are available for styling:\n *\n * Custom property | Description | Default\n * ----------------|-------------|-------------\n * `--vaadin-text-field-default-width` | Set the default width of the input field | `12em`\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name | Description\n * ----------------|----------------\n * `label` | The label element\n * `input-field` | The element that wraps prefix, value and suffix\n * `value` | The text value element inside the `input-field` element\n * `error-message` | The error message element\n *\n * The following state attributes are available for styling:\n *\n * Attribute    | Description | Part name\n * -------------|-------------|------------\n * `disabled` | Set to a disabled text field | :host\n * `has-value` | Set when the element has a value | :host\n * `has-label` | Set when the element has a label | :host\n * `invalid` | Set when the element is invalid | :host\n * `input-prevented` | Temporarily set when invalid input is prevented | :host\n * `focused` | Set when the element is focused | :host\n * `focus-ring` | Set when the element is keyboard focused | :host\n * `readonly` | Set to a readonly text field | :host\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @memberof Vaadin\n * @mixes Vaadin.TextFieldMixin\n * @mixes Vaadin.ThemableMixin\n * @demo demo/index.html\n */\nclass TextFieldElement extends ElementMixin(TextFieldMixin(ThemableMixin(PolymerElement))) {\n  static get template() {\n    return html`\n    <style include=\"vaadin-text-field-shared-styles\">\n      /* polymer-cli linter breaks with empty line */\n    </style>\n\n    <div class=\"vaadin-text-field-container\">\n\n      <label part=\"label\" on-click=\"focus\" id=\"[[_labelId]]\">[[label]]</label>\n\n      <div part=\"input-field\">\n\n        <slot name=\"prefix\"></slot>\n\n        <slot name=\"input\">\n          <input part=\"value\">\n        </slot>\n\n        <div part=\"clear-button\" id=\"clearButton\" role=\"button\" aria-label\\$=\"[[i18n.clear]]\"></div>\n        <slot name=\"suffix\"></slot>\n\n      </div>\n\n      <div part=\"error-message\" id=\"[[_errorId]]\" aria-live=\"assertive\" aria-hidden\\$=\"[[_getErrorMessageAriaHidden(invalid, errorMessage, _errorId)]]\">[[errorMessage]]</div>\n\n    </div>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-text-field';\n  }\n\n  static get version() {\n    return '2.4.4';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * Identifies a list of pre-defined options to suggest to the user.\n       * The value must be the id of a <datalist> element in the same document.\n       */\n      list: {\n        type: String\n      },\n\n      /**\n       * A regular expression that the value is checked against.\n       * The pattern must match the entire value, not just some subset.\n       */\n      pattern: {\n        type: String\n      },\n\n      /**\n       * Message to show to the user when validation fails.\n       */\n      title: {\n        type: String\n      }\n    };\n  }\n}\n\ncustomElements.define(TextFieldElement.is, TextFieldElement);\n\nexport { TextFieldElement };\n","import '@vaadin/vaadin-lumo-styles/color.js';\nimport '@vaadin/vaadin-lumo-styles/sizing.js';\nimport '@vaadin/vaadin-lumo-styles/spacing.js';\nimport '@vaadin/vaadin-lumo-styles/style.js';\nimport '@vaadin/vaadin-lumo-styles/typography.js';\nimport '@vaadin/vaadin-lumo-styles/mixins/required-field.js';\nimport '@vaadin/vaadin-lumo-styles/font-icons.js';\nimport '@vaadin/vaadin-lumo-styles/mixins/field-button.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\n\nconst $_documentContainer = html`<dom-module id=\"lumo-text-field\" theme-for=\"vaadin-text-field\">\n  <template>\n    <style include=\"lumo-required-field lumo-field-button\">\n      :host {\n        --lumo-text-field-size: var(--lumo-size-m);\n        color: var(--lumo-body-text-color);\n        font-size: var(--lumo-font-size-m);\n        font-family: var(--lumo-font-family);\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        -webkit-tap-highlight-color: transparent;\n        padding: var(--lumo-space-xs) 0;\n      }\n\n      :host::before {\n        height: var(--lumo-text-field-size);\n        box-sizing: border-box;\n        display: inline-flex;\n        align-items: center;\n      }\n\n      :host([focused]:not([readonly])) [part=\"label\"] {\n        color: var(--lumo-primary-text-color);\n      }\n\n      [part=\"value\"],\n      [part=\"input-field\"] ::slotted(input),\n      [part=\"input-field\"] ::slotted(textarea),\n      /* Slotted by vaadin-select-text-field */\n      [part=\"input-field\"] ::slotted([part=\"value\"]) {\n        cursor: inherit;\n        min-height: var(--lumo-text-field-size);\n        padding: 0 0.25em;\n        --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em);\n        -webkit-mask-image: var(--_lumo-text-field-overflow-mask-image);\n      }\n\n      [part=\"value\"]:focus,\n      [part=\"input-field\"] ::slotted(input):focus,\n      [part=\"input-field\"] ::slotted(textarea):focus {\n        -webkit-mask-image: none;\n        mask-image: none;\n      }\n\n      /*\n        TODO: CSS custom property in \\`mask-image\\` causes crash in Edge\n        see https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/15415089/\n      */\n      @-moz-document url-prefix() {\n        [part=\"value\"],\n        [part=\"input-field\"] ::slotted(input),\n        [part=\"input-field\"] ::slotted(textarea),\n        [part=\"input-field\"] ::slotted([part=\"value\"]) {\n          mask-image: var(--_lumo-text-field-overflow-mask-image);\n        }\n      }\n\n      [part=\"value\"]::-webkit-input-placeholder {\n        color: inherit;\n        transition: opacity 0.175s 0.05s;\n        opacity: 0.5;\n      }\n\n      [part=\"value\"]:-ms-input-placeholder {\n        color: inherit;\n        opacity: 0.5;\n      }\n\n      [part=\"value\"]::-moz-placeholder {\n        color: inherit;\n        transition: opacity 0.175s 0.05s;\n        opacity: 0.5;\n      }\n\n      [part=\"value\"]::placeholder {\n        color: inherit;\n        transition: opacity 0.175s 0.1s;\n        opacity: 0.5;\n      }\n\n      [part=\"input-field\"] {\n        border-radius: var(--lumo-border-radius);\n        background-color: var(--lumo-contrast-10pct);\n        padding: 0 calc(0.375em + var(--lumo-border-radius) / 4 - 1px);\n        font-weight: 500;\n        line-height: 1;\n        position: relative;\n        cursor: text;\n        box-sizing: border-box;\n      }\n\n      /* Used for hover and activation effects */\n      [part=\"input-field\"]::after {\n        content: \"\";\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        border-radius: inherit;\n        pointer-events: none;\n        background-color: var(--lumo-contrast-50pct);\n        opacity: 0;\n        transition: transform 0.15s, opacity 0.2s;\n        transform-origin: 100% 0;\n      }\n\n      /* Hover */\n\n      :host(:hover:not([readonly]):not([focused])) [part=\"label\"] {\n        color: var(--lumo-body-text-color);\n      }\n\n      :host(:hover:not([readonly]):not([focused])) [part=\"input-field\"]::after {\n        opacity: 0.1;\n      }\n\n      /* Touch device adjustment */\n      @media (pointer: coarse) {\n        :host(:hover:not([readonly]):not([focused])) [part=\"label\"] {\n          color: var(--lumo-secondary-text-color);\n        }\n\n        :host(:hover:not([readonly]):not([focused])) [part=\"input-field\"]::after {\n          opacity: 0;\n        }\n\n        :host(:active:not([readonly]):not([focused])) [part=\"input-field\"]::after {\n          opacity: 0.2;\n        }\n      }\n\n      /* Trigger when not focusing using the keyboard */\n      :host([focused]:not([focus-ring]):not([readonly])) [part=\"input-field\"]::after {\n        transform: scaleX(0);\n        transition-duration: 0.15s, 1s;\n      }\n\n      /* Focus-ring */\n\n      :host([focus-ring]) [part=\"input-field\"] {\n        box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);\n      }\n\n      /* Read-only and disabled */\n      :host([readonly]) [part=\"value\"]::-webkit-input-placeholder,\n      :host([disabled]) [part=\"value\"]::-webkit-input-placeholder {\n        opacity: 0;\n      }\n\n      :host([readonly]) [part=\"value\"]:-ms-input-placeholder,\n      :host([disabled]) [part=\"value\"]:-ms-input-placeholder {\n        opacity: 0;\n      }\n\n      :host([readonly]) [part=\"value\"]::-moz-placeholder,\n      :host([disabled]) [part=\"value\"]::-moz-placeholder {\n        opacity: 0;\n      }\n\n      :host([readonly]) [part=\"value\"]::placeholder,\n      :host([disabled]) [part=\"value\"]::placeholder {\n        opacity: 0;\n      }\n\n      /* Read-only */\n\n      :host([readonly]) [part=\"input-field\"] {\n        color: var(--lumo-secondary-text-color);\n        background-color: transparent;\n        cursor: default;\n      }\n\n      :host([readonly]) [part=\"input-field\"]::after {\n        background-color: transparent;\n        opacity: 1;\n        border: 1px dashed var(--lumo-contrast-30pct);\n      }\n\n      /* Disabled style */\n\n      :host([disabled]) {\n        pointer-events: none;\n      }\n\n      :host([disabled]) [part=\"input-field\"] {\n        background-color: var(--lumo-contrast-5pct);\n      }\n\n      :host([disabled]) [part=\"label\"],\n      :host([disabled]) [part=\"value\"],\n      :host([disabled]) [part=\"input-field\"] ::slotted(*) {\n        color: var(--lumo-disabled-text-color);\n        -webkit-text-fill-color: var(--lumo-disabled-text-color);\n      }\n\n      /* Invalid style */\n\n      :host([invalid]) [part=\"input-field\"] {\n        background-color: var(--lumo-error-color-10pct);\n      }\n\n      :host([invalid]) [part=\"input-field\"]::after {\n        background-color: var(--lumo-error-color-50pct);\n      }\n\n      :host([invalid][focus-ring]) [part=\"input-field\"] {\n        box-shadow: 0 0 0 2px var(--lumo-error-color-50pct);\n      }\n\n      :host([input-prevented]) [part=\"input-field\"] {\n        color: var(--lumo-error-text-color);\n      }\n\n      /* Small theme */\n\n      :host([theme~=\"small\"]) {\n        font-size: var(--lumo-font-size-s);\n        --lumo-text-field-size: var(--lumo-size-s);\n      }\n\n      :host([theme~=\"small\"][has-label]) [part=\"label\"] {\n        font-size: var(--lumo-font-size-xs);\n      }\n\n      :host([theme~=\"small\"][has-label]) [part=\"error-message\"] {\n        font-size: var(--lumo-font-size-xxs);\n      }\n\n      /* Text align */\n\n      :host([theme~=\"align-center\"]) [part=\"value\"] {\n        text-align: center;\n        --_lumo-text-field-overflow-mask-image: none;\n      }\n\n      :host([theme~=\"align-right\"]) [part=\"value\"] {\n        text-align: right;\n        --_lumo-text-field-overflow-mask-image: none;\n      }\n\n      @-moz-document url-prefix() {\n        /* Firefox is smart enough to align overflowing text to right */\n        :host([theme~=\"align-right\"]) [part=\"value\"] {\n          --_lumo-text-field-overflow-mask-image: linear-gradient(to right, transparent 0.25em, #000 1.5em);\n        }\n      }\n\n      /* Slotted content */\n\n      [part=\"input-field\"] ::slotted(:not([part]):not(iron-icon):not(input):not(textarea)) {\n        color: var(--lumo-secondary-text-color);\n        font-weight: 400;\n      }\n\n      /* Slotted icons */\n\n      [part=\"input-field\"] ::slotted(iron-icon) {\n        color: var(--lumo-contrast-60pct);\n        width: var(--lumo-icon-size-m);\n        height: var(--lumo-icon-size-m);\n      }\n\n      /* Vaadin icons are based on a 16x16 grid (unlike Lumo and Material icons with 24x24), so they look too big by default */\n      [part=\"input-field\"] ::slotted(iron-icon[icon^=\"vaadin:\"]) {\n        padding: 0.25em;\n        box-sizing: border-box !important;\n      }\n\n      [part=\"clear-button\"]::before {\n        content: var(--lumo-icons-cross);\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n","import './vaadin-text-field-styles.js';\nimport '../../src/vaadin-text-field.js';\n","/* This file is autogenerated from src/vaadin-usage-statistics.tpl.html */\n/*\n\nThis script gathers usage statistics from the application running in development mode.\n\nStatistics gathering is automatically disabled and excluded from production builds.\n\nFor details and to opt-out, see https://github.com/vaadin/vaadin-usage-statistics.\n\n*/\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\nimport { runIfDevelopmentMode } from '@vaadin/vaadin-development-mode-detector/vaadin-development-mode-detector.js';\n\nfunction maybeGatherAndSendStats() {\n  /** vaadin-dev-mode:start\n  (function () {\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar getPolymerVersion = function getPolymerVersion() {\n  return window.Polymer && window.Polymer.version;\n};\n\nvar StatisticsGatherer = function () {\n  function StatisticsGatherer(logger) {\n    classCallCheck(this, StatisticsGatherer);\n\n    this.now = new Date().getTime();\n    this.logger = logger;\n  }\n\n  createClass(StatisticsGatherer, [{\n    key: 'frameworkVersionDetectors',\n    value: function frameworkVersionDetectors() {\n      return {\n        'Flow': function Flow() {\n          if (window.Vaadin && window.Vaadin.Flow && window.Vaadin.Flow.clients) {\n            var flowVersions = Object.keys(window.Vaadin.Flow.clients).map(function (key) {\n              return window.Vaadin.Flow.clients[key];\n            }).filter(function (client) {\n              return client.getVersionInfo;\n            }).map(function (client) {\n              return client.getVersionInfo().flow;\n            });\n            if (flowVersions.length > 0) {\n              return flowVersions[0];\n            }\n          }\n        },\n        'Vaadin Framework': function VaadinFramework() {\n          if (window.vaadin && window.vaadin.clients) {\n            var frameworkVersions = Object.values(window.vaadin.clients).filter(function (client) {\n              return client.getVersionInfo;\n            }).map(function (client) {\n              return client.getVersionInfo().vaadinVersion;\n            });\n            if (frameworkVersions.length > 0) {\n              return frameworkVersions[0];\n            }\n          }\n        },\n        'AngularJs': function AngularJs() {\n          if (window.angular && window.angular.version && window.angular.version) {\n            return window.angular.version.full;\n          }\n        },\n        'Angular': function Angular() {\n          if (window.ng) {\n            var tags = document.querySelectorAll(\"[ng-version]\");\n            if (tags.length > 0) {\n              return tags[0].getAttribute(\"ng-version\");\n            }\n            return \"Unknown\";\n          }\n        },\n        'Backbone.js': function BackboneJs() {\n          if (window.Backbone) {\n            return window.Backbone.VERSION;\n          }\n        },\n        'React': function React() {\n          var reactSelector = '[data-reactroot], [data-reactid]';\n          if (!!document.querySelector(reactSelector)) {\n            // React does not publish the version by default\n            return \"unknown\";\n          }\n        },\n        'Ember': function Ember() {\n          if (window.Em && window.Em.VERSION) {\n            return window.Em.VERSION;\n          } else if (window.Ember && window.Ember.VERSION) {\n            return window.Ember.VERSION;\n          }\n        },\n        'jQuery': function (_jQuery) {\n          function jQuery() {\n            return _jQuery.apply(this, arguments);\n          }\n\n          jQuery.toString = function () {\n            return _jQuery.toString();\n          };\n\n          return jQuery;\n        }(function () {\n          if (typeof jQuery === 'function' && jQuery.prototype.jquery !== undefined) {\n            return jQuery.prototype.jquery;\n          }\n        }),\n        'Polymer': function Polymer() {\n          var version = getPolymerVersion();\n          if (version) {\n            return version;\n          }\n        },\n        'LitElement': function LitElement() {\n          var version = window.litElementVersions && window.litElementVersions[0];\n          if (version) {\n            return version;\n          }\n        },\n        'LitHtml': function LitHtml() {\n          var version = window.litHtmlVersions && window.litHtmlVersions[0];\n          if (version) {\n            return version;\n          }\n        },\n        'Vue.js': function VueJs() {\n          if (window.Vue) {\n            return window.Vue.version;\n          }\n        }\n      };\n    }\n  }, {\n    key: 'getUsedVaadinElements',\n    value: function getUsedVaadinElements(elements) {\n      var version = getPolymerVersion();\n      var elementClasses = void 0;\n      if (version && version.indexOf('2') === 0) {\n        // Polymer 2: components classes are stored in window.Vaadin\n        elementClasses = Object.keys(window.Vaadin).map(function (c) {\n          return window.Vaadin[c];\n        }).filter(function (c) {\n          return c.is;\n        });\n      } else {\n        // Polymer 3: components classes are stored in window.Vaadin.registrations\n        elementClasses = window.Vaadin.registrations || [];\n      }\n      elementClasses.forEach(function (klass) {\n        var version = klass.version ? klass.version : \"0.0.0\";\n        elements[klass.is] = { version: version };\n      });\n    }\n  }, {\n    key: 'getUsedVaadinThemes',\n    value: function getUsedVaadinThemes(themes) {\n      ['Lumo', 'Material'].forEach(function (themeName) {\n        var theme;\n        var version = getPolymerVersion();\n        if (version && version.indexOf('2') === 0) {\n          // Polymer 2: themes are stored in window.Vaadin\n          theme = window.Vaadin[themeName];\n        } else {\n          // Polymer 3: themes are stored in custom element registry\n          theme = customElements.get('vaadin-' + themeName.toLowerCase() + '-styles');\n        }\n        if (theme && theme.version) {\n          themes[themeName] = { version: theme.version };\n        }\n      });\n    }\n  }, {\n    key: 'getFrameworks',\n    value: function getFrameworks(frameworks) {\n      var detectors = this.frameworkVersionDetectors();\n      Object.keys(detectors).forEach(function (framework) {\n        var detector = detectors[framework];\n        try {\n          var version = detector();\n          if (version) {\n            frameworks[framework] = { \"version\": version };\n          }\n        } catch (e) {}\n      });\n    }\n  }, {\n    key: 'gather',\n    value: function gather(storage) {\n      var storedStats = storage.read();\n      var gatheredStats = {};\n      var types = [\"elements\", \"frameworks\", \"themes\"];\n\n      types.forEach(function (type) {\n        gatheredStats[type] = {};\n        if (!storedStats[type]) {\n          storedStats[type] = {};\n        }\n      });\n\n      var previousStats = JSON.stringify(storedStats);\n\n      this.getUsedVaadinElements(gatheredStats.elements);\n      this.getFrameworks(gatheredStats.frameworks);\n      this.getUsedVaadinThemes(gatheredStats.themes);\n\n      var now = this.now;\n      types.forEach(function (type) {\n        var keys = Object.keys(gatheredStats[type]);\n        keys.forEach(function (key) {\n          if (!storedStats[type][key] || _typeof(storedStats[type][key]) != _typeof({})) {\n            storedStats[type][key] = { \"firstUsed\": now };\n          }\n          // Discards any previously logged version numebr\n          storedStats[type][key].version = gatheredStats[type][key].version;\n          storedStats[type][key].lastUsed = now;\n        });\n      });\n\n      var newStats = JSON.stringify(storedStats);\n      storage.write(newStats);\n      if (newStats != previousStats && Object.keys(storedStats).length > 0) {\n        this.logger.debug(\"New stats: \" + newStats);\n      }\n    }\n  }]);\n  return StatisticsGatherer;\n}();\n\nvar StatisticsStorage = function () {\n  function StatisticsStorage(key) {\n    classCallCheck(this, StatisticsStorage);\n\n    this.key = key;\n  }\n\n  createClass(StatisticsStorage, [{\n    key: 'read',\n    value: function read() {\n      var localStorageStatsString = localStorage.getItem(this.key);\n      try {\n        return JSON.parse(localStorageStatsString ? localStorageStatsString : '{}');\n      } catch (e) {\n        return {};\n      }\n    }\n  }, {\n    key: 'write',\n    value: function write(data) {\n      localStorage.setItem(this.key, data);\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      localStorage.removeItem(this.key);\n    }\n  }, {\n    key: 'isEmpty',\n    value: function isEmpty() {\n      var storedStats = this.read();\n      var empty = true;\n      Object.keys(storedStats).forEach(function (key) {\n        if (Object.keys(storedStats[key]).length > 0) {\n          empty = false;\n        }\n      });\n\n      return empty;\n    }\n  }]);\n  return StatisticsStorage;\n}();\n\nvar StatisticsSender = function () {\n  function StatisticsSender(url, logger) {\n    classCallCheck(this, StatisticsSender);\n\n    this.url = url;\n    this.logger = logger;\n  }\n\n  createClass(StatisticsSender, [{\n    key: 'send',\n    value: function send(data, errorHandler) {\n      var logger = this.logger;\n\n      if (navigator.onLine === false) {\n        logger.debug(\"Offline, can't send\");\n        errorHandler();\n        return;\n      }\n      logger.debug(\"Sending data to \" + this.url);\n\n      var req = new XMLHttpRequest();\n      req.withCredentials = true;\n      req.addEventListener(\"load\", function () {\n        // Stats sent, nothing more to do\n        logger.debug(\"Response: \" + req.responseText);\n      });\n      req.addEventListener(\"error\", function () {\n        logger.debug(\"Send failed\");\n        errorHandler();\n      });\n      req.addEventListener(\"abort\", function () {\n        logger.debug(\"Send aborted\");\n        errorHandler();\n      });\n      req.open(\"POST\", this.url);\n      req.setRequestHeader(\"Content-Type\", \"application/json\");\n      req.send(data);\n    }\n  }]);\n  return StatisticsSender;\n}();\n\nvar StatisticsLogger = function () {\n  function StatisticsLogger(id) {\n    classCallCheck(this, StatisticsLogger);\n\n    this.id = id;\n  }\n\n  createClass(StatisticsLogger, [{\n    key: '_isDebug',\n    value: function _isDebug() {\n      return localStorage.getItem(\"vaadin.\" + this.id + \".debug\");\n    }\n  }, {\n    key: 'debug',\n    value: function debug(msg) {\n      if (this._isDebug()) {\n        console.info(this.id + \": \" + msg);\n      }\n    }\n  }]);\n  return StatisticsLogger;\n}();\n\nvar UsageStatistics = function () {\n  function UsageStatistics() {\n    classCallCheck(this, UsageStatistics);\n\n    this.now = new Date();\n    this.timeNow = this.now.getTime();\n    this.gatherDelay = 10; // Delay between loading this file and gathering stats\n    this.initialDelay = 24 * 60 * 60;\n\n    this.logger = new StatisticsLogger(\"statistics\");\n    this.storage = new StatisticsStorage(\"vaadin.statistics.basket\");\n    this.gatherer = new StatisticsGatherer(this.logger);\n    this.sender = new StatisticsSender(\"https://tools.vaadin.com/usage-stats/submit\", this.logger);\n  }\n\n  createClass(UsageStatistics, [{\n    key: 'maybeGatherAndSend',\n    value: function maybeGatherAndSend() {\n      var _this = this;\n\n      if (localStorage.getItem(UsageStatistics.optOutKey)) {\n        return;\n      }\n      this.gatherer.gather(this.storage);\n      setTimeout(function () {\n        _this.maybeSend();\n      }, this.gatherDelay * 1000);\n    }\n  }, {\n    key: 'lottery',\n    value: function lottery() {\n      return Math.random() <= 0.05;\n    }\n  }, {\n    key: 'currentMonth',\n    value: function currentMonth() {\n      return this.now.getYear() * 12 + this.now.getMonth();\n    }\n  }, {\n    key: 'maybeSend',\n    value: function maybeSend() {\n      var firstUse = Number(localStorage.getItem(UsageStatistics.firstUseKey));\n      var monthProcessed = Number(localStorage.getItem(UsageStatistics.monthProcessedKey));\n\n      if (!firstUse) {\n        // Use a grace period to avoid interfering with tests, incognito mode etc\n        firstUse = this.timeNow;\n        localStorage.setItem(UsageStatistics.firstUseKey, firstUse);\n      }\n\n      if (this.timeNow < firstUse + this.initialDelay * 1000) {\n        this.logger.debug(\"No statistics will be sent until the initial delay of \" + this.initialDelay + \"s has passed\");\n        return;\n      }\n      if (this.currentMonth() <= monthProcessed) {\n        this.logger.debug(\"This month has already been processed\");\n        return;\n      }\n      localStorage.setItem(UsageStatistics.monthProcessedKey, this.currentMonth());\n      // Use random sampling\n      if (this.lottery()) {\n        this.logger.debug(\"Congratulations, we have a winner!\");\n      } else {\n        this.logger.debug(\"Sorry, no stats from you this time\");\n        return;\n      }\n\n      this.send();\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      // Ensure we have the latest data\n      this.gatherer.gather(this.storage);\n\n      // Read, send and clean up\n      var data = this.storage.read();\n      data[\"firstUse\"] = Number(localStorage.getItem(UsageStatistics.firstUseKey));\n      data[\"usageStatisticsVersion\"] = UsageStatistics.version;\n      var info = 'This request contains usage statistics gathered from the application running in development mode. \\n\\nStatistics gathering is automatically disabled and excluded from production builds.\\n\\nFor details and to opt-out, see https://github.com/vaadin/vaadin-usage-statistics.\\n\\n\\n\\n';\n      var self = this;\n      this.sender.send(info + JSON.stringify(data), function () {\n        // Revert the 'month processed' flag\n        localStorage.setItem(UsageStatistics.monthProcessedKey, self.currentMonth() - 1);\n      });\n    }\n  }], [{\n    key: 'version',\n    get: function get$1() {\n      return '2.0.1';\n    }\n  }, {\n    key: 'firstUseKey',\n    get: function get$1() {\n      return 'vaadin.statistics.firstuse';\n    }\n  }, {\n    key: 'monthProcessedKey',\n    get: function get$1() {\n      return 'vaadin.statistics.monthProcessed';\n    }\n  }, {\n    key: 'optOutKey',\n    get: function get$1() {\n      return 'vaadin.statistics.optout';\n    }\n  }]);\n  return UsageStatistics;\n}();\n\ntry {\n  window.Vaadin = window.Vaadin || {};\n  window.Vaadin.usageStatsChecker = window.Vaadin.usageStatsChecker || new UsageStatistics();\n  window.Vaadin.usageStatsChecker.maybeGatherAndSend();\n} catch (e) {\n  // Intentionally ignored as this is not a problem in the app being developed\n}\n\n}());\n\n  vaadin-dev-mode:end **/\n}\n\nexport const usageStatistics = function() {\n  if (typeof runIfDevelopmentMode === 'function') {\n    return runIfDevelopmentMode(maybeGatherAndSendStats);\n  }\n};\n"],"sourceRoot":""}