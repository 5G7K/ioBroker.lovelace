{"version":3,"sources":["webpack:///./src/common/entity/binary_sensor_icon.ts","webpack:///./src/common/entity/compute_domain.ts","webpack:///./src/common/entity/compute_object_id.ts","webpack:///./src/common/entity/compute_state_name.ts","webpack:///./src/common/entity/cover_icon.ts","webpack:///./src/common/entity/domain_icon.ts","webpack:///./src/common/entity/input_dateteime_icon.ts","webpack:///./src/common/entity/sensor_icon.ts","webpack:///./src/common/entity/state_icon.ts","webpack:///./src/components/ha-combo-box.js","webpack:///./src/components/ha-icon.ts","webpack:///./src/components/ha-service-picker.js","webpack:///./src/data/entity.ts","webpack:///./src/mixins/events-mixin.js","webpack:///./src/mixins/localize-mixin.js","webpack:///./src/panels/dev-service/ha-panel-dev-service.js","webpack:///./src/util/app-localstorage-document.js"],"names":["binarySensorIcon","state","activated","attributes","device_class","computeDomain","entityId","substr","indexOf","computeObjectId","stateObj","friendly_name","undefined","entity_id","replace","coverIcon","open","domainIcon","fixedIcons","alert","automation","calendar","camera","climate","configurator","conversation","device_tracker","fan","group","history_graph","homeassistant","homekit","image_processing","input_boolean","input_datetime","input_number","input_select","input_text","light","mailbox","notify","person","plant","proximity","remote","scene","script","sensor","simple_alarm","sun","switch","timer","updater","vacuum","water_heater","weblink","domain","console","warn","DEFAULT_DOMAIN_ICON","inputDateTimeIcon","has_date","has_time","fixedDeviceClassIcons","humidity","illuminance","temperature","pressure","power","signal_strength","sensorIcon","dclass","battery","Number","isNaN","batteryRound","Math","round","unit","unit_of_measurement","UNIT_C","UNIT_F","domainIcons","binary_sensor","cover","stateIcon","icon","HaComboBox","EventsMixin","PolymerElement","template","html","properties","allowCustomValue","Boolean","items","type","Object","observer","_items","itemLabelPath","String","itemValuePath","autofocus","label","opened","value","_openedChanged","newVal","_itemsChanged","_computeToggleIcon","_computeItemLabel","item","_fireChanged","ev","stopPropagation","fire","customElements","define","ironIconClass","get","loaded","HaIcon","listen","node","eventName","methodName","_iconsetName","HaServicePicker","LocalizeMixin","hass","_services","Array","_hassChanged","oldHass","services","result","keys","sort","forEach","i","length","push","UNAVAILABLE","ENTITY_COMPONENT_DOMAINS","dedupingMixin","superClass","detail","options","fireEvent","localize","Function","computed","__computeLocalize","ERROR_SENTINEL","HaPanelDevService","domainService","_domain","_service","serviceData","parsedJSON","validJSON","_attributes","_description","_domainServiceChanged","_computeAttributesArray","service","serviceDomains","fields","map","field","assign","key","_computeDescription","description","_computeServicedataKey","_computeDomain","split","_computeService","_computeParsedServiceData","JSON","parse","err","_computeValidJSON","_computeHasEntity","some","attr","_computeEntityValue","_computeEntityDomainFilter","includes","_callService","callService","_entityPicked","stringify","target","Polymer","is","behaviors","AppStorageBehavior","sessionOnly","storage","observers","attached","window","top","detached","unlisten","isNew","saveValue","__setStorageValue","data","e","Promise","reject","resolve","reset","zeroValue","destroy","removeItem","getStoredValue","path","__parseValueFromStorage","setStoredValue","__computeStorage","sessionStorage","localStorage","__storageSourceChanged","_initializeStoredValue","__onStorage","event","storageArea","syncToMemory","set","__onAppLocalStorageChanged","getItem","error","setItem"],"mappings":"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","file":"panel-dev-service.chunk.js","sourcesContent":["import { HassEntity } from \"home-assistant-js-websocket\";\n\n/** Return an icon representing a binary sensor state. */\n\nexport default function binarySensorIcon(state: HassEntity) {\n  const activated = state.state && state.state === \"off\";\n  switch (state.attributes.device_class) {\n    case \"battery\":\n      return activated ? \"hass:battery\" : \"hass:battery-outline\";\n    case \"cold\":\n      return activated ? \"hass:thermometer\" : \"hass:snowflake\";\n    case \"connectivity\":\n      return activated ? \"hass:server-network-off\" : \"hass:server-network\";\n    case \"door\":\n      return activated ? \"hass:door-closed\" : \"hass:door-open\";\n    case \"garage_door\":\n      return activated ? \"hass:garage\" : \"hass:garage-open\";\n    case \"gas\":\n    case \"power\":\n    case \"problem\":\n    case \"safety\":\n    case \"smoke\":\n      return activated ? \"hass:shield-check\" : \"hass:alert\";\n    case \"heat\":\n      return activated ? \"hass:thermometer\" : \"hass:fire\";\n    case \"light\":\n      return activated ? \"hass:brightness-5\" : \"hass:brightness-7\";\n    case \"lock\":\n      return activated ? \"hass:lock\" : \"hass:lock-open\";\n    case \"moisture\":\n      return activated ? \"hass:water-off\" : \"hass:water\";\n    case \"motion\":\n      return activated ? \"hass:walk\" : \"hass:run\";\n    case \"occupancy\":\n      return activated ? \"hass:home-outline\" : \"hass:home\";\n    case \"opening\":\n      return activated ? \"hass:square\" : \"hass:square-outline\";\n    case \"plug\":\n      return activated ? \"hass:power-plug-off\" : \"hass:power-plug\";\n    case \"presence\":\n      return activated ? \"hass:home-outline\" : \"hass:home\";\n    case \"sound\":\n      return activated ? \"hass:music-note-off\" : \"hass:music-note\";\n    case \"vibration\":\n      return activated ? \"hass:crop-portrait\" : \"hass:vibrate\";\n    case \"window\":\n      return activated ? \"hass:window-closed\" : \"hass:window-open\";\n    default:\n      return activated ? \"hass:radiobox-blank\" : \"hass:checkbox-marked-circle\";\n  }\n}\n","export default function computeDomain(entityId: string): string {\n  return entityId.substr(0, entityId.indexOf(\".\"));\n}\n","/** Compute the object ID of a state. */\nexport default function computeObjectId(entityId: string): string {\n  return entityId.substr(entityId.indexOf(\".\") + 1);\n}\n","import { HassEntity } from \"home-assistant-js-websocket\";\nimport computeObjectId from \"./compute_object_id\";\n\nexport default (stateObj: HassEntity): string =>\n  stateObj.attributes.friendly_name === undefined\n    ? computeObjectId(stateObj.entity_id).replace(/_/g, \" \")\n    : stateObj.attributes.friendly_name || \"\";\n","/** Return an icon representing a cover state. */\nimport { HassEntity } from \"home-assistant-js-websocket\";\nimport domainIcon from \"./domain_icon\";\n\nexport default function coverIcon(state: HassEntity): string {\n  const open = state.state !== \"closed\";\n  switch (state.attributes.device_class) {\n    case \"garage\":\n      return open ? \"hass:garage-open\" : \"hass:garage\";\n    default:\n      return domainIcon(\"cover\", state.state);\n  }\n}\n","/**\n * Return the icon to be used for a domain.\n *\n * Optionally pass in a state to influence the domain icon.\n */\nimport { DEFAULT_DOMAIN_ICON } from \"../const\";\n\nconst fixedIcons = {\n  alert: \"hass:alert\",\n  automation: \"hass:playlist-play\",\n  calendar: \"hass:calendar\",\n  camera: \"hass:video\",\n  climate: \"hass:thermostat\",\n  configurator: \"hass:settings\",\n  conversation: \"hass:text-to-speech\",\n  device_tracker: \"hass:account\",\n  fan: \"hass:fan\",\n  group: \"hass:google-circles-communities\",\n  history_graph: \"hass:chart-line\",\n  homeassistant: \"hass:home-assistant\",\n  homekit: \"hass:home-automation\",\n  image_processing: \"hass:image-filter-frames\",\n  input_boolean: \"hass:drawing\",\n  input_datetime: \"hass:calendar-clock\",\n  input_number: \"hass:ray-vertex\",\n  input_select: \"hass:format-list-bulleted\",\n  input_text: \"hass:textbox\",\n  light: \"hass:lightbulb\",\n  mailbox: \"hass:mailbox\",\n  notify: \"hass:comment-alert\",\n  person: \"hass:account\",\n  plant: \"hass:flower\",\n  proximity: \"hass:apple-safari\",\n  remote: \"hass:remote\",\n  scene: \"hass:google-pages\",\n  script: \"hass:file-document\",\n  sensor: \"hass:eye\",\n  simple_alarm: \"hass:bell\",\n  sun: \"hass:white-balance-sunny\",\n  switch: \"hass:flash\",\n  timer: \"hass:timer\",\n  updater: \"hass:cloud-upload\",\n  vacuum: \"hass:robot-vacuum\",\n  water_heater: \"hass:thermometer\",\n  weblink: \"hass:open-in-new\",\n};\n\nexport default function domainIcon(domain: string, state?: string): string {\n  if (domain in fixedIcons) {\n    return fixedIcons[domain];\n  }\n\n  switch (domain) {\n    case \"alarm_control_panel\":\n      switch (state) {\n        case \"armed_home\":\n          return \"hass:bell-plus\";\n        case \"armed_night\":\n          return \"hass:bell-sleep\";\n        case \"disarmed\":\n          return \"hass:bell-outline\";\n        case \"triggered\":\n          return \"hass:bell-ring\";\n        default:\n          return \"hass:bell\";\n      }\n\n    case \"binary_sensor\":\n      return state && state === \"off\"\n        ? \"hass:radiobox-blank\"\n        : \"hass:checkbox-marked-circle\";\n\n    case \"cover\":\n      return state === \"closed\" ? \"hass:window-closed\" : \"hass:window-open\";\n\n    case \"lock\":\n      return state && state === \"unlocked\" ? \"hass:lock-open\" : \"hass:lock\";\n\n    case \"media_player\":\n      return state && state !== \"off\" && state !== \"idle\"\n        ? \"hass:cast-connected\"\n        : \"hass:cast\";\n\n    case \"zwave\":\n      switch (state) {\n        case \"dead\":\n          return \"hass:emoticon-dead\";\n        case \"sleeping\":\n          return \"hass:sleep\";\n        case \"initializing\":\n          return \"hass:timer-sand\";\n        default:\n          return \"hass:z-wave\";\n      }\n\n    default:\n      // tslint:disable-next-line\n      console.warn(\n        \"Unable to find icon for domain \" + domain + \" (\" + state + \")\"\n      );\n      return DEFAULT_DOMAIN_ICON;\n  }\n}\n","/** Return an icon representing an input datetime state. */\nimport domainIcon from \"./domain_icon\";\nimport { HassEntity } from \"home-assistant-js-websocket\";\n\nexport default function inputDateTimeIcon(state: HassEntity): string {\n  if (!state.attributes.has_date) {\n    return \"hass:clock\";\n  }\n  if (!state.attributes.has_time) {\n    return \"hass:calendar\";\n  }\n  return domainIcon(\"input_datetime\");\n}\n","/** Return an icon representing a sensor state. */\nimport { HassEntity } from \"home-assistant-js-websocket\";\nimport { UNIT_C, UNIT_F } from \"../const\";\nimport domainIcon from \"./domain_icon\";\n\nconst fixedDeviceClassIcons = {\n  humidity: \"hass:water-percent\",\n  illuminance: \"hass:brightness-5\",\n  temperature: \"hass:thermometer\",\n  pressure: \"hass:gauge\",\n  power: \"hass:flash\",\n  signal_strength: \"hass:wifi\",\n};\n\nexport default function sensorIcon(state: HassEntity) {\n  const dclass = state.attributes.device_class;\n\n  if (dclass && dclass in fixedDeviceClassIcons) {\n    return fixedDeviceClassIcons[dclass];\n  }\n  if (dclass === \"battery\") {\n    const battery = Number(state.state);\n    if (isNaN(battery)) {\n      return \"hass:battery-unknown\";\n    }\n    const batteryRound = Math.round(battery / 10) * 10;\n    if (batteryRound >= 100) {\n      return \"hass:battery\";\n    }\n    if (batteryRound <= 0) {\n      return \"hass:battery-alert\";\n    }\n    // Will return one of the following icons: (listed so extractor picks up)\n    // hass:battery-10\n    // hass:battery-20\n    // hass:battery-30\n    // hass:battery-40\n    // hass:battery-50\n    // hass:battery-60\n    // hass:battery-70\n    // hass:battery-80\n    // hass:battery-90\n    // We obscure 'hass' in iconname so this name does not get picked up\n    return `${\"hass\"}:battery-${batteryRound}`;\n  }\n\n  const unit = state.attributes.unit_of_measurement;\n  if (unit === UNIT_C || unit === UNIT_F) {\n    return \"hass:thermometer\";\n  }\n  return domainIcon(\"sensor\");\n}\n","/** Return an icon representing a state. */\nimport { HassEntity } from \"home-assistant-js-websocket\";\nimport { DEFAULT_DOMAIN_ICON } from \"../const\";\n\nimport computeDomain from \"./compute_domain\";\nimport domainIcon from \"./domain_icon\";\n\nimport binarySensorIcon from \"./binary_sensor_icon\";\nimport coverIcon from \"./cover_icon\";\nimport sensorIcon from \"./sensor_icon\";\nimport inputDateTimeIcon from \"./input_dateteime_icon\";\n\nconst domainIcons = {\n  binary_sensor: binarySensorIcon,\n  cover: coverIcon,\n  sensor: sensorIcon,\n  input_datetime: inputDateTimeIcon,\n};\n\nexport default function stateIcon(state: HassEntity) {\n  if (!state) {\n    return DEFAULT_DOMAIN_ICON;\n  }\n  if (state.attributes.icon) {\n    return state.attributes.icon;\n  }\n\n  const domain = computeDomain(state.entity_id);\n\n  if (domain in domainIcons) {\n    return domainIcons[domain](state);\n  }\n  return domainIcon(domain, state.state);\n}\n","import \"@polymer/paper-icon-button/paper-icon-button\";\nimport \"@polymer/paper-input/paper-input\";\nimport \"@polymer/paper-item/paper-item\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\nimport \"@vaadin/vaadin-combo-box/vaadin-combo-box-light\";\n\nimport { EventsMixin } from \"../mixins/events-mixin\";\n\nclass HaComboBox extends EventsMixin(PolymerElement) {\n  static get template() {\n    return html`\n      <style>\n        paper-input > paper-icon-button {\n          width: 24px;\n          height: 24px;\n          padding: 2px;\n          color: var(--secondary-text-color);\n        }\n        [hidden] {\n          display: none;\n        }\n      </style>\n      <vaadin-combo-box-light\n        items=\"[[_items]]\"\n        item-value-path=\"[[itemValuePath]]\"\n        item-label-path=\"[[itemLabelPath]]\"\n        value=\"{{value}}\"\n        opened=\"{{opened}}\"\n        allow-custom-value=\"[[allowCustomValue]]\"\n        on-change=\"_fireChanged\"\n      >\n        <paper-input\n          autofocus=\"[[autofocus]]\"\n          label=\"[[label]]\"\n          class=\"input\"\n          value=\"[[value]]\"\n        >\n          <paper-icon-button\n            slot=\"suffix\"\n            class=\"clear-button\"\n            icon=\"hass:close\"\n            hidden$=\"[[!value]]\"\n            >Clear</paper-icon-button\n          >\n          <paper-icon-button\n            slot=\"suffix\"\n            class=\"toggle-button\"\n            icon=\"[[_computeToggleIcon(opened)]]\"\n            hidden$=\"[[!items.length]]\"\n            >Toggle</paper-icon-button\n          >\n        </paper-input>\n        <template>\n          <style>\n            paper-item {\n              margin: -5px -10px;\n              padding: 0;\n            }\n          </style>\n          <paper-item>[[_computeItemLabel(item, itemLabelPath)]]</paper-item>\n        </template>\n      </vaadin-combo-box-light>\n    `;\n  }\n\n  static get properties() {\n    return {\n      allowCustomValue: Boolean,\n      items: {\n        type: Object,\n        observer: \"_itemsChanged\",\n      },\n      _items: Object,\n      itemLabelPath: String,\n      itemValuePath: String,\n      autofocus: Boolean,\n      label: String,\n      opened: {\n        type: Boolean,\n        value: false,\n        observer: \"_openedChanged\",\n      },\n      value: {\n        type: String,\n        notify: true,\n      },\n    };\n  }\n\n  _openedChanged(newVal) {\n    if (!newVal) {\n      this._items = this.items;\n    }\n  }\n\n  _itemsChanged(newVal) {\n    if (!this.opened) {\n      this._items = newVal;\n    }\n  }\n\n  _computeToggleIcon(opened) {\n    return opened ? \"hass:menu-up\" : \"hass:menu-down\";\n  }\n\n  _computeItemLabel(item, itemLabelPath) {\n    return itemLabelPath ? item[itemLabelPath] : item;\n  }\n\n  _fireChanged(ev) {\n    ev.stopPropagation();\n    this.fire(\"change\");\n  }\n}\n\ncustomElements.define(\"ha-combo-box\", HaComboBox);\n","import { Constructor } from \"lit-element\";\nimport \"@polymer/iron-icon/iron-icon\";\n// Not duplicate, this is for typing.\n// tslint:disable-next-line\nimport { IronIconElement } from \"@polymer/iron-icon/iron-icon\";\n\nconst ironIconClass = customElements.get(\"iron-icon\") as Constructor<\n  IronIconElement\n>;\n\nlet loaded = false;\n\nexport class HaIcon extends ironIconClass {\n  private _iconsetName?: string;\n\n  public listen(\n    node: EventTarget | null,\n    eventName: string,\n    methodName: string\n  ): void {\n    super.listen(node, eventName, methodName);\n\n    if (!loaded && this._iconsetName === \"mdi\") {\n      loaded = true;\n      import(/* webpackChunkName: \"mdi-icons\" */ \"../resources/mdi-icons\");\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-icon\": HaIcon;\n  }\n}\n\ncustomElements.define(\"ha-icon\", HaIcon);\n","import { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport \"./ha-combo-box\";\n\nimport LocalizeMixin from \"../mixins/localize-mixin\";\n\n/*\n * @appliesMixin LocalizeMixin\n */\nclass HaServicePicker extends LocalizeMixin(PolymerElement) {\n  static get template() {\n    return html`\n      <ha-combo-box\n        label=\"[[localize('ui.components.service-picker.service')]]\"\n        items=\"[[_services]]\"\n        value=\"{{value}}\"\n        allow-custom-value=\"\"\n      ></ha-combo-box>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n        observer: \"_hassChanged\",\n      },\n      _services: Array,\n      value: {\n        type: String,\n        notify: true,\n      },\n    };\n  }\n\n  _hassChanged(hass, oldHass) {\n    if (!hass) {\n      this._services = [];\n      return;\n    }\n    if (oldHass && hass.services === oldHass.services) {\n      return;\n    }\n    const result = [];\n\n    Object.keys(hass.services)\n      .sort()\n      .forEach((domain) => {\n        const services = Object.keys(hass.services[domain]).sort();\n\n        for (let i = 0; i < services.length; i++) {\n          result.push(`${domain}.${services[i]}`);\n        }\n      });\n\n    this._services = result;\n  }\n}\n\ncustomElements.define(\"ha-service-picker\", HaServicePicker);\n","export const UNAVAILABLE = \"unavailable\";\n\nexport const ENTITY_COMPONENT_DOMAINS = [\n  \"air_quality\",\n  \"alarm_control_panel\",\n  \"automation\",\n  \"binary_sensor\",\n  \"calendar\",\n  \"counter\",\n  \"cover\",\n  \"dominos\",\n  \"fan\",\n  \"geo_location\",\n  \"group\",\n  \"history_graph\",\n  \"image_processing\",\n  \"input_boolean\",\n  \"input_datetime\",\n  \"input_number\",\n  \"input_select\",\n  \"input_text\",\n  \"light\",\n  \"lock\",\n  \"mailbox\",\n  \"media_player\",\n  \"person\",\n  \"plant\",\n  \"remember_the_milk\",\n  \"remote\",\n  \"scene\",\n  \"script\",\n  \"sensor\",\n  \"switch\",\n  \"timer\",\n  \"utility_meter\",\n  \"vacuum\",\n  \"weather\",\n  \"wink\",\n  \"zha\",\n  \"zwave\",\n];\n","import { dedupingMixin } from \"@polymer/polymer/lib/utils/mixin\";\n\nimport { fireEvent } from \"../common/dom/fire_event\";\n\n// Polymer legacy event helpers used courtesy of the Polymer project.\n//\n// Copyright (c) 2017 The Polymer Authors. All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//    * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n//    * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n//    * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n/* @polymerMixin */\nexport const EventsMixin = dedupingMixin(\n  (superClass) =>\n    class extends superClass {\n      /**\n   * Dispatches a custom event with an optional detail value.\n   *\n   * @param {string} type Name of event type.\n   * @param {*=} detail Detail value containing event-specific\n   *   payload.\n   * @param {{ bubbles: (boolean|undefined),\n               cancelable: (boolean|undefined),\n                composed: (boolean|undefined) }=}\n    *  options Object specifying options.  These may include:\n    *  `bubbles` (boolean, defaults to `true`),\n    *  `cancelable` (boolean, defaults to false), and\n    *  `node` on which to fire the event (HTMLElement, defaults to `this`).\n    * @return {Event} The new event that was fired.\n    */\n      fire(type, detail, options) {\n        options = options || {};\n        return fireEvent(options.node || this, type, detail, options);\n      }\n    }\n);\n","import { dedupingMixin } from \"@polymer/polymer/lib/utils/mixin\";\n/**\n * Polymer Mixin to enable a localize function powered by language/resources from hass object.\n *\n * @polymerMixin\n */\nexport default dedupingMixin(\n  (superClass) =>\n    class extends superClass {\n      static get properties() {\n        return {\n          hass: Object,\n\n          /**\n           * Translates a string to the current `language`. Any parameters to the\n           * string should be passed in order, as follows:\n           * `localize(stringKey, param1Name, param1Value, param2Name, param2Value)`\n           */\n          localize: {\n            type: Function,\n            computed: \"__computeLocalize(hass.localize)\",\n          },\n        };\n      }\n\n      __computeLocalize(localize) {\n        return localize;\n      }\n    }\n);\n","import \"@polymer/app-layout/app-header-layout/app-header-layout\";\nimport \"@polymer/app-layout/app-header/app-header\";\nimport \"@polymer/app-layout/app-toolbar/app-toolbar\";\nimport \"@material/mwc-button\";\nimport \"@polymer/paper-input/paper-textarea\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport { ENTITY_COMPONENT_DOMAINS } from \"../../data/entity\";\nimport \"../../components/entity/ha-entity-picker\";\nimport \"../../components/ha-menu-button\";\nimport \"../../components/ha-service-picker\";\nimport \"../../resources/ha-style\";\nimport \"../../util/app-localstorage-document\";\n\nconst ERROR_SENTINEL = {};\nclass HaPanelDevService extends PolymerElement {\n  static get template() {\n    return html`\n      <style include=\"ha-style\">\n        :host {\n          -ms-user-select: initial;\n          -webkit-user-select: initial;\n          -moz-user-select: initial;\n        }\n\n        .content {\n          padding: 16px;\n          direction: ltr;\n        }\n\n        .ha-form {\n          margin-right: 16px;\n          max-width: 400px;\n        }\n\n        .description {\n          margin-top: 24px;\n          white-space: pre-wrap;\n        }\n\n        .header {\n          @apply --paper-font-title;\n        }\n\n        .attributes th {\n          text-align: left;\n        }\n\n        .attributes tr {\n          vertical-align: top;\n        }\n\n        .attributes tr:nth-child(odd) {\n          background-color: var(--table-row-background-color, #eee);\n        }\n\n        .attributes tr:nth-child(even) {\n          background-color: var(--table-row-alternative-background-color, #eee);\n        }\n\n        .attributes td:nth-child(3) {\n          white-space: pre-wrap;\n          word-break: break-word;\n        }\n\n        pre {\n          margin: 0;\n        }\n\n        h1 {\n          white-space: normal;\n        }\n\n        td {\n          padding: 4px;\n        }\n\n        .error {\n          color: var(--google-red-500);\n        }\n      </style>\n\n      <app-header-layout has-scrolling-region>\n        <app-header slot=\"header\" fixed>\n          <app-toolbar>\n            <ha-menu-button></ha-menu-button>\n            <div main-title>Services</div>\n          </app-toolbar>\n        </app-header>\n\n        <app-localstorage-document\n          key=\"panel-dev-service-state-domain-service\"\n          data=\"{{domainService}}\"\n        >\n        </app-localstorage-document>\n        <app-localstorage-document\n          key=\"[[_computeServicedataKey(domainService)]]\"\n          data=\"{{serviceData}}\"\n        >\n        </app-localstorage-document>\n\n        <div class=\"content\">\n          <p>\n            The service dev tool allows you to call any available service in\n            Home Assistant.\n          </p>\n\n          <div class=\"ha-form\">\n            <ha-service-picker\n              hass=\"[[hass]]\"\n              value=\"{{domainService}}\"\n            ></ha-service-picker>\n            <template is=\"dom-if\" if=\"[[_computeHasEntity(_attributes)]]\">\n              <ha-entity-picker\n                hass=\"[[hass]]\"\n                value=\"[[_computeEntityValue(parsedJSON)]]\"\n                on-change=\"_entityPicked\"\n                disabled=\"[[!validJSON]]\"\n                domain-filter=\"[[_computeEntityDomainFilter(_domain)]]\"\n                allow-custom-entity\n              ></ha-entity-picker>\n            </template>\n            <paper-textarea\n              always-float-label\n              label=\"Service Data (JSON, optional)\"\n              value=\"{{serviceData}}\"\n              autocapitalize=\"none\"\n              autocomplete=\"off\"\n              spellcheck=\"false\"\n            ></paper-textarea>\n            <mwc-button on-click=\"_callService\" raised disabled=\"[[!validJSON]]\"\n              >Call Service</mwc-button\n            >\n            <template is=\"dom-if\" if=\"[[!validJSON]]\">\n              <span class=\"error\">Invalid JSON</span>\n            </template>\n          </div>\n\n          <template is=\"dom-if\" if=\"[[!domainService]]\">\n            <h1>Select a service to see the description</h1>\n          </template>\n\n          <template is=\"dom-if\" if=\"[[domainService]]\">\n            <template is=\"dom-if\" if=\"[[!_description]]\">\n              <h1>No description is available</h1>\n            </template>\n            <template is=\"dom-if\" if=\"[[_description]]\">\n              <h3>[[_description]]</h3>\n\n              <table class=\"attributes\">\n                <tr>\n                  <th>Parameter</th>\n                  <th>Description</th>\n                  <th>Example</th>\n                </tr>\n                <template is=\"dom-if\" if=\"[[!_attributes.length]]\">\n                  <tr>\n                    <td colspan=\"3\">This service takes no parameters.</td>\n                  </tr>\n                </template>\n                <template\n                  is=\"dom-repeat\"\n                  items=\"[[_attributes]]\"\n                  as=\"attribute\"\n                >\n                  <tr>\n                    <td><pre>[[attribute.key]]</pre></td>\n                    <td>[[attribute.description]]</td>\n                    <td>[[attribute.example]]</td>\n                  </tr>\n                </template>\n              </table>\n            </template>\n          </template>\n        </div>\n      </app-header-layout>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n      },\n\n      domainService: {\n        type: String,\n        observer: \"_domainServiceChanged\",\n      },\n\n      _domain: {\n        type: String,\n        computed: \"_computeDomain(domainService)\",\n      },\n\n      _service: {\n        type: String,\n        computed: \"_computeService(domainService)\",\n      },\n\n      serviceData: {\n        type: String,\n        value: \"\",\n      },\n\n      parsedJSON: {\n        type: Object,\n        computed: \"_computeParsedServiceData(serviceData)\",\n      },\n\n      validJSON: {\n        type: Boolean,\n        computed: \"_computeValidJSON(parsedJSON)\",\n      },\n\n      _attributes: {\n        type: Array,\n        computed: \"_computeAttributesArray(hass, _domain, _service)\",\n      },\n\n      _description: {\n        type: String,\n        computed: \"_computeDescription(hass, _domain, _service)\",\n      },\n    };\n  }\n\n  _domainServiceChanged() {\n    this.serviceData = \"\";\n  }\n\n  _computeAttributesArray(hass, domain, service) {\n    const serviceDomains = hass.services;\n    if (!(domain in serviceDomains)) return [];\n    if (!(service in serviceDomains[domain])) return [];\n\n    const fields = serviceDomains[domain][service].fields;\n    return Object.keys(fields).map(function(field) {\n      return Object.assign({ key: field }, fields[field]);\n    });\n  }\n\n  _computeDescription(hass, domain, service) {\n    const serviceDomains = hass.services;\n    if (!(domain in serviceDomains)) return undefined;\n    if (!(service in serviceDomains[domain])) return undefined;\n    return serviceDomains[domain][service].description;\n  }\n\n  _computeServicedataKey(domainService) {\n    return `panel-dev-service-state-servicedata.${domainService}`;\n  }\n\n  _computeDomain(domainService) {\n    return domainService.split(\".\", 1)[0];\n  }\n\n  _computeService(domainService) {\n    return domainService.split(\".\", 2)[1] || null;\n  }\n\n  _computeParsedServiceData(serviceData) {\n    try {\n      return serviceData ? JSON.parse(serviceData) : {};\n    } catch (err) {\n      return ERROR_SENTINEL;\n    }\n  }\n\n  _computeValidJSON(parsedJSON) {\n    return parsedJSON !== ERROR_SENTINEL;\n  }\n\n  _computeHasEntity(attributes) {\n    return attributes.some((attr) => attr.key === \"entity_id\");\n  }\n\n  _computeEntityValue(parsedJSON) {\n    return parsedJSON === ERROR_SENTINEL ? \"\" : parsedJSON.entity_id;\n  }\n\n  _computeEntityDomainFilter(domain) {\n    return ENTITY_COMPONENT_DOMAINS.includes(domain) ? domain : null;\n  }\n\n  _callService() {\n    if (this.parsedJSON === ERROR_SENTINEL) {\n      // eslint-disable-next-line\n      alert(`Error parsing JSON: ${this.serviceData}`);\n    }\n\n    this.hass.callService(this._domain, this._service, this.parsedJSON);\n  }\n\n  _entityPicked(ev) {\n    this.serviceData = JSON.stringify(\n      Object.assign({}, this.parsedJSON, {\n        entity_id: ev.target.value,\n      }),\n      null,\n      2\n    );\n  }\n}\n\ncustomElements.define(\"ha-panel-dev-service\", HaPanelDevService);\n","/* Forked because it contained an import.meta which webpack doesn't support. */\n/* eslint-disable */\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport { AppStorageBehavior } from \"@polymer/app-storage/app-storage-behavior\";\nimport { Polymer } from \"@polymer/polymer/lib/legacy/polymer-fn\";\nimport \"@polymer/polymer/polymer-legacy\";\n\n/**\n * app-localstorage-document synchronizes storage between an in-memory\n * value and a location in the browser's localStorage system.\n *\n * localStorage is a simple and widely supported storage API that provides both\n * permanent and session-based storage options. Using app-localstorage-document\n * you can easily integrate localStorage into your app via normal Polymer\n * databinding.\n *\n * app-localstorage-document is the reference implementation of an element\n * that uses `AppStorageBehavior`. Reading its code is a good way to get\n * started writing your own storage element.\n *\n * Example use:\n *\n *     <paper-input value=\"{{search}}\"></paper-input>\n *     <app-localstorage-document key=\"search\" data=\"{{search}}\">\n *     </app-localstorage-document>\n *\n * app-localstorage-document automatically synchronizes changes to the\n * same key across multiple tabs.\n *\n * Only supports storing JSON-serializable values.\n */\nPolymer({\n  is: \"app-localstorage-document\",\n  behaviors: [AppStorageBehavior],\n\n  properties: {\n    /**\n     * Defines the logical location to store the data.\n     *\n     * @type{String}\n     */\n    key: { type: String, notify: true },\n\n    /**\n     * If true, the data will automatically be cleared from storage when\n     * the page session ends (i.e. when the user has navigated away from\n     * the page).\n     */\n    sessionOnly: { type: Boolean, value: false },\n\n    /**\n     * Either `window.localStorage` or `window.sessionStorage`, depending on\n     * `this.sessionOnly`.\n     */\n    storage: { type: Object, computed: \"__computeStorage(sessionOnly)\" },\n  },\n\n  observers: [\"__storageSourceChanged(storage, key)\"],\n\n  attached: function() {\n    this.listen(window, \"storage\", \"__onStorage\");\n    this.listen(\n      window.top,\n      \"app-local-storage-changed\",\n      \"__onAppLocalStorageChanged\"\n    );\n  },\n\n  detached: function() {\n    this.unlisten(window, \"storage\", \"__onStorage\");\n    this.unlisten(\n      window.top,\n      \"app-local-storage-changed\",\n      \"__onAppLocalStorageChanged\"\n    );\n  },\n\n  get isNew() {\n    return !this.key;\n  },\n\n  /**\n   * Stores a value at the given key, and if successful, updates this.key.\n   *\n   * @param {*} key The new key to use.\n   * @return {Promise}\n   */\n  saveValue: function(key) {\n    try {\n      this.__setStorageValue(/*{@type if (key ty){String}}*/ key, this.data);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n\n    this.key = /** @type {String} */ (key);\n\n    return Promise.resolve();\n  },\n\n  reset: function() {\n    this.key = null;\n    this.data = this.zeroValue;\n  },\n\n  destroy: function() {\n    try {\n      this.storage.removeItem(this.key);\n      this.reset();\n    } catch (e) {\n      return Promise.reject(e);\n    }\n\n    return Promise.resolve();\n  },\n\n  getStoredValue: function(path) {\n    var value;\n\n    if (this.key != null) {\n      try {\n        value = this.__parseValueFromStorage();\n\n        if (value != null) {\n          value = this.get(path, { data: value });\n        } else {\n          value = undefined;\n        }\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    }\n\n    return Promise.resolve(value);\n  },\n\n  setStoredValue: function(path, value) {\n    if (this.key != null) {\n      try {\n        this.__setStorageValue(this.key, this.data);\n      } catch (e) {\n        return Promise.reject(e);\n      }\n\n      this.fire(\"app-local-storage-changed\", this, { node: window.top });\n    }\n\n    return Promise.resolve(value);\n  },\n\n  __computeStorage: function(sessionOnly) {\n    return sessionOnly ? window.sessionStorage : window.localStorage;\n  },\n\n  __storageSourceChanged: function(storage, key) {\n    this._initializeStoredValue();\n  },\n\n  __onStorage: function(event) {\n    if (event.key !== this.key || event.storageArea !== this.storage) {\n      return;\n    }\n\n    this.syncToMemory(function() {\n      this.set(\"data\", this.__parseValueFromStorage());\n    });\n  },\n\n  __onAppLocalStorageChanged: function(event) {\n    if (\n      event.detail === this ||\n      event.detail.key !== this.key ||\n      event.detail.storage !== this.storage\n    ) {\n      return;\n    }\n    this.syncToMemory(function() {\n      this.set(\"data\", event.detail.data);\n    });\n  },\n\n  __parseValueFromStorage: function() {\n    try {\n      return JSON.parse(this.storage.getItem(this.key));\n    } catch (e) {\n      console.error(\"Failed to parse value from storage for\", this.key);\n    }\n  },\n\n  __setStorageValue: function(key, value) {\n    if (typeof value === \"undefined\") value = null;\n    this.storage.setItem(key, JSON.stringify(value));\n  },\n});\n"],"sourceRoot":""}