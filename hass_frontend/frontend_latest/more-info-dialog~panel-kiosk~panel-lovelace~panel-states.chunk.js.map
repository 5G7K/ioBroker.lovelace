{"version":3,"sources":["webpack:///./src/common/config/is_component_loaded.ts","webpack:///./src/common/datetime/duration_to_seconds.ts","webpack:///./src/common/datetime/relative_time.ts","webpack:///./src/common/datetime/seconds_to_duration.ts","webpack:///./src/common/dom/stop_propagation.ts","webpack:///./src/common/entity/supports-feature.ts","webpack:///./src/common/entity/timer_time_remaining.ts","webpack:///./src/common/util/time-cache-function-promise.ts","webpack:///./src/components/ha-climate-state.js","webpack:///./src/components/ha-cover-controls.js","webpack:///./src/components/ha-cover-tilt-controls.js","webpack:///./src/components/ha-markdown.js","webpack:///./src/components/ha-relative-time.js","webpack:///./src/components/ha-slider.js","webpack:///./src/data/auth.ts","webpack:///./src/data/camera.ts","webpack:///./src/data/input-select.ts","webpack:///./src/util/cover-model.js","webpack:///./src/util/hass-media-player-model.js"],"names":["isComponentLoaded","hass","component","config","components","indexOf","durationToSeconds","duration","parts","split","map","Number","tests","langKey","relativeTime","dateObj","localize","options","compareTime","Date","delta","getTime","tense","Math","abs","timeDesc","i","length","floor","undefined","includeTense","leftPad","num","secondsToDuration","d","h","m","s","stopPropagation","ev","supportsFeature","stateObj","feature","attributes","supported_features","timerTimeRemaining","timeRemaining","remaining","state","now","madeActive","last_changed","max","timeCachePromiseFunc","cacheKey","cacheTime","func","entityId","args","cache","lastResult","result","then","setTimeout","HaClimateState","LocalizeMixin","PolymerElement","template","html","properties","Object","currentStatus","type","String","computed","computeCurrentStatus","current_temperature","unit_system","temperature","current_humidity","computeTarget","target_temp_low","target_temp_high","target_humidity_low","target_humidity_high","humidity","_hasKnownState","_localizeState","customElements","define","HaCoverControls","entityObj","computeEntityObj","CoverEntity","computeOpenDisabled","assumedState","assumed_state","isFullyOpen","isOpening","computeClosedDisabled","isFullyClosed","isClosing","onOpenTap","openCover","onCloseTap","closeCover","onStopTap","stopCover","HaCoverTiltControls","isFullyOpenTilt","isFullyClosedTilt","onOpenTiltTap","openCoverTilt","onCloseTiltTap","closeCoverTilt","onStopTiltTap","stopCoverTilt","loaded","svgWhiteList","HaMarkdown","EventsMixin","content","observer","allowSvg","Boolean","value","connectedCallback","_scriptLoaded","_renderScheduled","_resize","fire","marked","filterXSS","_render","Promise","resolve","innerHTML","gfm","tables","breaks","onIgnoreTag","tag","walker","document","createTreeWalker","nextNode","node","currentNode","tagName","host","location","target","addEventListener","innerText","HaRelativeTime","datetime","datetimeObj","parsedDateTime","constructor","updateRelative","bind","updateInterval","setInterval","disconnectedCallback","clearInterval","datetimeChanged","newVal","datetimeObjChanged","root","dom","PaperSliderClass","get","subTemplate","HaSlider","cloneNode","superStyle","querySelector","appendChild","createTextNode","_calcStep","step","parseFloat","numSteps","round","min","stepStr","toString","stepPointAt","precision","hassUrl","protocol","getSignedPath","path","callWS","fetchAuthProviders","fetch","credentials","CAMERA_SUPPORT_ON_OFF","CAMERA_SUPPORT_STREAM","computeMJPEGStreamUrl","entity","entity_id","access_token","fetchThumbnailUrlWithCache","fetchThumbnailUrl","fetchThumbnail","console","warn","fetchStreamUrl","format","data","fetchCameraPrefs","updateCameraPrefs","prefs","setInputSelectOption","option","callService","_attr","_feat","current_position","current_tilt_position","supportsOpen","supportsClose","supportsSetPosition","supportsStop","supportsOpenTilt","supportsCloseTilt","supportsStopTilt","supportsSetTiltPosition","isTiltOnly","supportsCover","supportsTilt","setCoverPosition","position","setCoverTiltPosition","tiltPosition","tilt_position","service","MediaPlayerEntity","isOff","isIdle","isMuted","is_volume_muted","isPaused","isPlaying","isMusic","media_content_type","isTVShow","hasMediaControl","volumeSliderValue","volume_level","showProgress","currentProgress","progress","media_position","media_position_updated_at","supportsPause","supportsVolumeSet","supportsVolumeMute","supportsPreviousTrack","supportsNextTrack","supportsTurnOn","supportsTurnOff","supportsPlayMedia","supportsVolumeButtons","supportsSelectSource","supportsSelectSoundMode","supportsPlay","primaryTitle","media_title","secondaryTitle","media_artist","text","media_series_title","media_season","media_episode","app_name","source","sourceList","source_list","soundMode","sound_mode","soundModeList","sound_mode_list","mediaPlayPause","nextTrack","playbackControl","previousTrack","setVolume","volume","togglePower","turnOn","turnOff","volumeDown","volumeMute","mute","Error","volumeUp","selectSource","selectSoundMode"],"mappings":"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","file":"more-info-dialog~panel-kiosk~panel-lovelace~panel-states.chunk.js","sourcesContent":["import { HomeAssistant } from \"../../types\";\n\n/** Return if a component is loaded. */\nexport default function isComponentLoaded(\n  hass: HomeAssistant,\n  component: string\n): boolean {\n  return hass && hass.config.components.indexOf(component) !== -1;\n}\n","export default function durationToSeconds(duration: string): number {\n  const parts = duration.split(\":\").map(Number);\n  return parts[0] * 3600 + parts[1] * 60 + parts[2];\n}\n","import { LocalizeFunc } from \"../translations/localize\";\n\n/**\n * Calculate a string representing a date object as relative time from now.\n *\n * Example output: 5 minutes ago, in 3 days.\n */\nconst tests = [60, 60, 24, 7];\nconst langKey = [\"second\", \"minute\", \"hour\", \"day\"];\n\nexport default function relativeTime(\n  dateObj: Date,\n  localize: LocalizeFunc,\n  options: {\n    compareTime?: Date;\n    includeTense?: boolean;\n  } = {}\n): string {\n  const compareTime = options.compareTime || new Date();\n  let delta = (compareTime.getTime() - dateObj.getTime()) / 1000;\n  const tense = delta >= 0 ? \"past\" : \"future\";\n  delta = Math.abs(delta);\n\n  let timeDesc;\n\n  for (let i = 0; i < tests.length; i++) {\n    if (delta < tests[i]) {\n      delta = Math.floor(delta);\n      timeDesc = localize(\n        `ui.components.relative_time.duration.${langKey[i]}`,\n        \"count\",\n        delta\n      );\n      break;\n    }\n\n    delta /= tests[i];\n  }\n\n  if (timeDesc === undefined) {\n    delta = Math.floor(delta);\n    timeDesc = localize(\n      \"ui.components.relative_time.duration.week\",\n      \"count\",\n      delta\n    );\n  }\n\n  return options.includeTense === false\n    ? timeDesc\n    : localize(`ui.components.relative_time.${tense}`, \"time\", timeDesc);\n}\n","const leftPad = (num: number) => (num < 10 ? `0${num}` : num);\n\nexport default function secondsToDuration(d: number) {\n  const h = Math.floor(d / 3600);\n  const m = Math.floor((d % 3600) / 60);\n  const s = Math.floor((d % 3600) % 60);\n\n  if (h > 0) {\n    return `${h}:${leftPad(m)}:${leftPad(s)}`;\n  }\n  if (m > 0) {\n    return `${m}:${leftPad(s)}`;\n  }\n  if (s > 0) {\n    return \"\" + s;\n  }\n  return null;\n}\n","export const stopPropagation = (ev) => ev.stopPropagation();\n","import { HassEntity } from \"home-assistant-js-websocket\";\n\nexport const supportsFeature = (\n  stateObj: HassEntity,\n  feature: number\n): boolean => {\n  // tslint:disable-next-line:no-bitwise\n  return (stateObj.attributes.supported_features! & feature) !== 0;\n};\n","import { HassEntity } from \"home-assistant-js-websocket\";\nimport durationToSeconds from \"../datetime/duration_to_seconds\";\n\nexport default function timerTimeRemaining(stateObj: HassEntity) {\n  let timeRemaining = durationToSeconds(stateObj.attributes.remaining);\n\n  if (stateObj.state === \"active\") {\n    const now = new Date().getTime();\n    const madeActive = new Date(stateObj.last_changed).getTime();\n    timeRemaining = Math.max(timeRemaining - (now - madeActive) / 1000, 0);\n  }\n\n  return timeRemaining;\n}\n","import { HomeAssistant } from \"../../types\";\n\ninterface ResultCache<T> {\n  [entityId: string]: Promise<T> | undefined;\n}\n\nexport const timeCachePromiseFunc = async <T>(\n  cacheKey: string,\n  cacheTime: number,\n  func: (\n    hass: HomeAssistant,\n    entityId: string,\n    ...args: unknown[]\n  ) => Promise<T>,\n  hass: HomeAssistant,\n  entityId: string,\n  ...args: unknown[]\n): Promise<T> => {\n  let cache: ResultCache<T> | undefined = (hass as any)[cacheKey];\n\n  if (!cache) {\n    cache = hass[cacheKey] = {};\n  }\n\n  const lastResult = cache[entityId];\n\n  if (lastResult) {\n    return lastResult;\n  }\n\n  const result = func(hass, entityId, ...args);\n  cache[entityId] = result;\n\n  result.then(\n    // When successful, set timer to clear cache\n    () =>\n      setTimeout(() => {\n        cache![entityId] = undefined;\n      }, cacheTime),\n    // On failure, clear cache right away\n    () => {\n      cache![entityId] = undefined;\n    }\n  );\n\n  return result;\n};\n","import { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport LocalizeMixin from \"../mixins/localize-mixin\";\n\n/*\n * @appliesMixin LocalizeMixin\n */\nclass HaClimateState extends LocalizeMixin(PolymerElement) {\n  static get template() {\n    return html`\n      <style>\n        :host {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          white-space: nowrap;\n        }\n\n        .target {\n          color: var(--primary-text-color);\n        }\n\n        .current {\n          color: var(--secondary-text-color);\n        }\n\n        .state-label {\n          font-weight: bold;\n          text-transform: capitalize;\n        }\n\n        .unit {\n          display: inline-block;\n          direction: ltr;\n        }\n      </style>\n\n      <div class=\"target\">\n        <template is=\"dom-if\" if=\"[[_hasKnownState(stateObj.state)]]\">\n          <span class=\"state-label\"> [[_localizeState(stateObj.state)]] </span>\n        </template>\n        <div class=\"unit\">[[computeTarget(hass, stateObj)]]</div>\n      </div>\n\n      <template is=\"dom-if\" if=\"[[currentStatus]]\">\n        <div class=\"current\">\n          [[localize('ui.card.climate.currently')]]:\n          <div class=\"unit\">[[currentStatus]]</div>\n        </div>\n      </template>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      stateObj: Object,\n      currentStatus: {\n        type: String,\n        computed: \"computeCurrentStatus(hass, stateObj)\",\n      },\n    };\n  }\n\n  computeCurrentStatus(hass, stateObj) {\n    if (!hass || !stateObj) return null;\n    if (stateObj.attributes.current_temperature != null) {\n      return `${stateObj.attributes.current_temperature} ${\n        hass.config.unit_system.temperature\n      }`;\n    }\n    if (stateObj.attributes.current_humidity != null) {\n      return `${stateObj.attributes.current_humidity} %`;\n    }\n    return null;\n  }\n\n  computeTarget(hass, stateObj) {\n    if (!hass || !stateObj) return null;\n    // We're using \"!= null\" on purpose so that we match both null and undefined.\n    if (\n      stateObj.attributes.target_temp_low != null &&\n      stateObj.attributes.target_temp_high != null\n    ) {\n      return `${stateObj.attributes.target_temp_low} - ${\n        stateObj.attributes.target_temp_high\n      } ${hass.config.unit_system.temperature}`;\n    }\n    if (stateObj.attributes.temperature != null) {\n      return `${stateObj.attributes.temperature} ${\n        hass.config.unit_system.temperature\n      }`;\n    }\n    if (\n      stateObj.attributes.target_humidity_low != null &&\n      stateObj.attributes.target_humidity_high != null\n    ) {\n      return `${stateObj.attributes.target_humidity_low} - ${\n        stateObj.attributes.target_humidity_high\n      } %`;\n    }\n    if (stateObj.attributes.humidity != null) {\n      return `${stateObj.attributes.humidity} %`;\n    }\n\n    return \"\";\n  }\n\n  _hasKnownState(state) {\n    return state !== \"unknown\";\n  }\n\n  _localizeState(state) {\n    return this.localize(`state.climate.${state}`) || state;\n  }\n}\ncustomElements.define(\"ha-climate-state\", HaClimateState);\n","import \"@polymer/paper-icon-button/paper-icon-button\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport CoverEntity from \"../util/cover-model\";\n\nclass HaCoverControls extends PolymerElement {\n  static get template() {\n    return html`\n      <style>\n        .state {\n          white-space: nowrap;\n        }\n        [invisible] {\n          visibility: hidden !important;\n        }\n      </style>\n\n      <div class=\"state\">\n        <paper-icon-button\n          icon=\"hass:arrow-up\"\n          on-click=\"onOpenTap\"\n          invisible$=\"[[!entityObj.supportsOpen]]\"\n          disabled=\"[[computeOpenDisabled(stateObj, entityObj)]]\"\n        ></paper-icon-button>\n        <paper-icon-button\n          icon=\"hass:stop\"\n          on-click=\"onStopTap\"\n          invisible$=\"[[!entityObj.supportsStop]]\"\n        ></paper-icon-button>\n        <paper-icon-button\n          icon=\"hass:arrow-down\"\n          on-click=\"onCloseTap\"\n          invisible$=\"[[!entityObj.supportsClose]]\"\n          disabled=\"[[computeClosedDisabled(stateObj, entityObj)]]\"\n        ></paper-icon-button>\n      </div>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n      },\n      stateObj: {\n        type: Object,\n      },\n      entityObj: {\n        type: Object,\n        computed: \"computeEntityObj(hass, stateObj)\",\n      },\n    };\n  }\n\n  computeEntityObj(hass, stateObj) {\n    return new CoverEntity(hass, stateObj);\n  }\n\n  computeOpenDisabled(stateObj, entityObj) {\n    var assumedState = stateObj.attributes.assumed_state === true;\n    return (entityObj.isFullyOpen || entityObj.isOpening) && !assumedState;\n  }\n\n  computeClosedDisabled(stateObj, entityObj) {\n    var assumedState = stateObj.attributes.assumed_state === true;\n    return (entityObj.isFullyClosed || entityObj.isClosing) && !assumedState;\n  }\n\n  onOpenTap(ev) {\n    ev.stopPropagation();\n    this.entityObj.openCover();\n  }\n\n  onCloseTap(ev) {\n    ev.stopPropagation();\n    this.entityObj.closeCover();\n  }\n\n  onStopTap(ev) {\n    ev.stopPropagation();\n    this.entityObj.stopCover();\n  }\n}\n\ncustomElements.define(\"ha-cover-controls\", HaCoverControls);\n","import \"@polymer/iron-flex-layout/iron-flex-layout-classes\";\nimport \"@polymer/paper-icon-button/paper-icon-button\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport CoverEntity from \"../util/cover-model\";\n\nclass HaCoverTiltControls extends PolymerElement {\n  static get template() {\n    return html`\n      <style include=\"iron-flex\"></style>\n      <style>\n        :host {\n          white-space: nowrap;\n        }\n        [invisible] {\n          visibility: hidden !important;\n        }\n      </style>\n      <paper-icon-button\n        icon=\"hass:arrow-top-right\"\n        on-click=\"onOpenTiltTap\"\n        title=\"Open tilt\"\n        invisible$=\"[[!entityObj.supportsOpenTilt]]\"\n        disabled=\"[[computeOpenDisabled(stateObj, entityObj)]]\"\n      ></paper-icon-button>\n      <paper-icon-button\n        icon=\"hass:stop\"\n        on-click=\"onStopTiltTap\"\n        invisible$=\"[[!entityObj.supportsStopTilt]]\"\n        title=\"Stop tilt\"\n      ></paper-icon-button>\n      <paper-icon-button\n        icon=\"hass:arrow-bottom-left\"\n        on-click=\"onCloseTiltTap\"\n        title=\"Close tilt\"\n        invisible$=\"[[!entityObj.supportsCloseTilt]]\"\n        disabled=\"[[computeClosedDisabled(stateObj, entityObj)]]\"\n      ></paper-icon-button>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n      },\n      stateObj: {\n        type: Object,\n      },\n      entityObj: {\n        type: Object,\n        computed: \"computeEntityObj(hass, stateObj)\",\n      },\n    };\n  }\n\n  computeEntityObj(hass, stateObj) {\n    return new CoverEntity(hass, stateObj);\n  }\n\n  computeOpenDisabled(stateObj, entityObj) {\n    var assumedState = stateObj.attributes.assumed_state === true;\n    return entityObj.isFullyOpenTilt && !assumedState;\n  }\n\n  computeClosedDisabled(stateObj, entityObj) {\n    var assumedState = stateObj.attributes.assumed_state === true;\n    return entityObj.isFullyClosedTilt && !assumedState;\n  }\n\n  onOpenTiltTap(ev) {\n    ev.stopPropagation();\n    this.entityObj.openCoverTilt();\n  }\n\n  onCloseTiltTap(ev) {\n    ev.stopPropagation();\n    this.entityObj.closeCoverTilt();\n  }\n\n  onStopTiltTap(ev) {\n    ev.stopPropagation();\n    this.entityObj.stopCoverTilt();\n  }\n}\n\ncustomElements.define(\"ha-cover-tilt-controls\", HaCoverTiltControls);\n","import { PolymerElement } from \"@polymer/polymer/polymer-element\";\nimport { EventsMixin } from \"../mixins/events-mixin\";\n\nlet loaded = null;\n\n/**\n * White list allowed svg tag.\n * Only put in the tag used in QR code, can be extend in future.\n */\nconst svgWhiteList = [\"svg\", \"path\"];\n\n/*\n * @appliesMixin EventsMixin\n */\nclass HaMarkdown extends EventsMixin(PolymerElement) {\n  static get properties() {\n    return {\n      content: {\n        type: String,\n        observer: \"_render\",\n      },\n      allowSvg: {\n        type: Boolean,\n        value: false,\n      },\n    };\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // 0 = not loaded, 1 = success, 2 = error\n    this._scriptLoaded = 0;\n    this._renderScheduled = false;\n    this._resize = () => this.fire(\"iron-resize\");\n\n    if (!loaded) {\n      loaded = import(/* webpackChunkName: \"load_markdown\" */ \"../resources/load_markdown\");\n    }\n    loaded\n      .then(\n        ({ marked, filterXSS }) => {\n          this.marked = marked;\n          this.filterXSS = filterXSS;\n          this._scriptLoaded = 1;\n        },\n        () => {\n          this._scriptLoaded = 2;\n        }\n      )\n      .then(() => this._render());\n  }\n\n  _render() {\n    if (this._scriptLoaded === 0 || this._renderScheduled) return;\n\n    this._renderScheduled = true;\n\n    // debounce it to next microtask.\n    Promise.resolve().then(() => {\n      this._renderScheduled = false;\n\n      if (this._scriptLoaded === 1) {\n        this.innerHTML = this.filterXSS(\n          this.marked(this.content, {\n            gfm: true,\n            tables: true,\n            breaks: true,\n          }),\n          {\n            onIgnoreTag: this.allowSvg\n              ? (tag, html) => (svgWhiteList.indexOf(tag) >= 0 ? html : null)\n              : null,\n          }\n        );\n        this._resize();\n\n        const walker = document.createTreeWalker(\n          this,\n          1 /* SHOW_ELEMENT */,\n          null,\n          false\n        );\n\n        while (walker.nextNode()) {\n          const node = walker.currentNode;\n\n          // Open external links in a new window\n          if (node.tagName === \"A\" && node.host !== document.location.host) {\n            node.target = \"_blank\";\n\n            // Fire a resize event when images loaded to notify content resized\n          } else if (node.tagName === \"IMG\") {\n            node.addEventListener(\"load\", this._resize);\n          }\n        }\n      } else if (this._scriptLoaded === 2) {\n        this.innerText = this.content;\n      }\n    });\n  }\n}\n\ncustomElements.define(\"ha-markdown\", HaMarkdown);\n","import { dom } from \"@polymer/polymer/lib/legacy/polymer.dom\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport relativeTime from \"../common/datetime/relative_time\";\n\nimport LocalizeMixin from \"../mixins/localize-mixin\";\n\n/*\n * @appliesMixin LocalizeMixin\n */\nclass HaRelativeTime extends LocalizeMixin(PolymerElement) {\n  static get properties() {\n    return {\n      hass: Object,\n      datetime: {\n        type: String,\n        observer: \"datetimeChanged\",\n      },\n\n      datetimeObj: {\n        type: Object,\n        observer: \"datetimeObjChanged\",\n      },\n\n      parsedDateTime: Object,\n    };\n  }\n\n  constructor() {\n    super();\n    this.updateRelative = this.updateRelative.bind(this);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // update every 60 seconds\n    this.updateInterval = setInterval(this.updateRelative, 60000);\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    clearInterval(this.updateInterval);\n  }\n\n  datetimeChanged(newVal) {\n    this.parsedDateTime = newVal ? new Date(newVal) : null;\n\n    this.updateRelative();\n  }\n\n  datetimeObjChanged(newVal) {\n    this.parsedDateTime = newVal;\n\n    this.updateRelative();\n  }\n\n  updateRelative() {\n    const root = dom(this);\n    if (!this.parsedDateTime) {\n      root.innerHTML = this.localize(\"ui.components.relative_time.never\");\n    } else {\n      root.innerHTML = relativeTime(this.parsedDateTime, this.localize);\n    }\n  }\n}\n\ncustomElements.define(\"ha-relative-time\", HaRelativeTime);\n","import \"@polymer/paper-slider\";\n\nconst PaperSliderClass = customElements.get(\"paper-slider\");\nlet subTemplate;\n\nclass HaSlider extends PaperSliderClass {\n  static get template() {\n    if (!subTemplate) {\n      subTemplate = PaperSliderClass.template.cloneNode(true);\n\n      const superStyle = subTemplate.content.querySelector(\"style\");\n\n      // append style to add mirroring of pin in RTL\n      superStyle.appendChild(\n        document.createTextNode(`\n          :host([dir=\"rtl\"]) #sliderContainer.pin.expand > .slider-knob > .slider-knob-inner::after {\n            -webkit-transform: scale(1) translate(0, -17px) scaleX(-1) !important;\n            transform: scale(1) translate(0, -17px) scaleX(-1) !important;\n            }\n        `)\n      );\n    }\n    return subTemplate;\n  }\n\n  _calcStep(value) {\n    if (!this.step) {\n      return parseFloat(value);\n    }\n\n    const numSteps = Math.round((value - this.min) / this.step);\n    const stepStr = this.step.toString();\n    const stepPointAt = stepStr.indexOf(\".\");\n    if (stepPointAt !== -1) {\n      /**\n       * For small values of this.step, if we calculate the step using\n       * For non-integer values of this.step, if we calculate the step using\n       * `Math.round(value / step) * step` we may hit a precision point issue\n       * eg. 0.1 * 0.2 =  0.020000000000000004\n       * http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\n       *\n       * as a work around we can round with the decimal precision of `step`\n       */\n      const precision = 10 ** (stepStr.length - stepPointAt - 1);\n      return (\n        Math.round((numSteps * this.step + this.min) * precision) / precision\n      );\n    }\n\n    return numSteps * this.step + this.min;\n  }\n}\ncustomElements.define(\"ha-slider\", HaSlider);\n","import { HomeAssistant } from \"../types\";\n\nexport interface AuthProvider {\n  name: string;\n  id: string;\n  type: string;\n}\n\nexport interface Credential {\n  type: string;\n}\n\nexport interface SignedPath {\n  path: string;\n}\n\nexport const hassUrl = `${location.protocol}//${location.host}`;\n\nexport const getSignedPath = (\n  hass: HomeAssistant,\n  path: string\n): Promise<SignedPath> => hass.callWS({ type: \"auth/sign_path\", path });\n\nexport const fetchAuthProviders = () =>\n  fetch(\"/auth/providers\", {\n    credentials: \"same-origin\",\n  });\n","import { HomeAssistant, CameraEntity } from \"../types\";\nimport { timeCachePromiseFunc } from \"../common/util/time-cache-function-promise\";\nimport { getSignedPath } from \"./auth\";\n\nexport const CAMERA_SUPPORT_ON_OFF = 1;\nexport const CAMERA_SUPPORT_STREAM = 2;\n\nexport interface CameraPreferences {\n  preload_stream: boolean;\n}\n\nexport interface CameraThumbnail {\n  content_type: string;\n  content: string;\n}\n\nexport interface Stream {\n  url: string;\n}\n\nexport const computeMJPEGStreamUrl = (entity: CameraEntity) =>\n  `/api/camera_proxy_stream/${entity.entity_id}?token=${\n    entity.attributes.access_token\n  }`;\n\nexport const fetchThumbnailUrlWithCache = (\n  hass: HomeAssistant,\n  entityId: string\n) =>\n  timeCachePromiseFunc(\n    \"_cameraTmbUrl\",\n    9000,\n    fetchThumbnailUrl,\n    hass,\n    entityId\n  );\n\nexport const fetchThumbnailUrl = (hass: HomeAssistant, entityId: string) =>\n  getSignedPath(hass, `/api/camera_proxy/${entityId}`).then(({ path }) => path);\n\nexport const fetchThumbnail = (hass: HomeAssistant, entityId: string) => {\n  // tslint:disable-next-line: no-console\n  console.warn(\"This method has been deprecated.\");\n  return hass.callWS<CameraThumbnail>({\n    type: \"camera_thumbnail\",\n    entity_id: entityId,\n  });\n};\n\nexport const fetchStreamUrl = (\n  hass: HomeAssistant,\n  entityId: string,\n  format?: \"hls\"\n) => {\n  const data = {\n    type: \"camera/stream\",\n    entity_id: entityId,\n  };\n  if (format) {\n    // @ts-ignore\n    data.format = format;\n  }\n  return hass.callWS<Stream>(data);\n};\n\nexport const fetchCameraPrefs = (hass: HomeAssistant, entityId: string) =>\n  hass.callWS<CameraPreferences>({\n    type: \"camera/get_prefs\",\n    entity_id: entityId,\n  });\n\nexport const updateCameraPrefs = (\n  hass: HomeAssistant,\n  entityId: string,\n  prefs: {\n    preload_stream?: boolean;\n  }\n) =>\n  hass.callWS<CameraPreferences>({\n    type: \"camera/update_prefs\",\n    entity_id: entityId,\n    ...prefs,\n  });\n","import { HomeAssistant } from \"../types\";\n\nexport const setInputSelectOption = (\n  hass: HomeAssistant,\n  entity: string,\n  option: string\n) =>\n  hass.callService(\"input_select\", \"select_option\", {\n    option,\n    entity_id: entity,\n  });\n","import { supportsFeature } from \"../common/entity/supports-feature\";\n\n/* eslint-enable no-bitwise */\nexport default class CoverEntity {\n  constructor(hass, stateObj) {\n    this.hass = hass;\n    this.stateObj = stateObj;\n    this._attr = stateObj.attributes;\n    this._feat = this._attr.supported_features;\n  }\n\n  get isFullyOpen() {\n    if (this._attr.current_position !== undefined) {\n      return this._attr.current_position === 100;\n    }\n    return this.stateObj.state === \"open\";\n  }\n\n  get isFullyClosed() {\n    if (this._attr.current_position !== undefined) {\n      return this._attr.current_position === 0;\n    }\n    return this.stateObj.state === \"closed\";\n  }\n\n  get isFullyOpenTilt() {\n    return this._attr.current_tilt_position === 100;\n  }\n\n  get isFullyClosedTilt() {\n    return this._attr.current_tilt_position === 0;\n  }\n\n  get isOpening() {\n    return this.stateObj.state === \"opening\";\n  }\n\n  get isClosing() {\n    return this.stateObj.state === \"closing\";\n  }\n\n  get supportsOpen() {\n    return supportsFeature(this.stateObj, 1);\n  }\n\n  get supportsClose() {\n    return supportsFeature(this.stateObj, 2);\n  }\n\n  get supportsSetPosition() {\n    return supportsFeature(this.stateObj, 4);\n  }\n\n  get supportsStop() {\n    return supportsFeature(this.stateObj, 8);\n  }\n\n  get supportsOpenTilt() {\n    return supportsFeature(this.stateObj, 16);\n  }\n\n  get supportsCloseTilt() {\n    return supportsFeature(this.stateObj, 32);\n  }\n\n  get supportsStopTilt() {\n    return supportsFeature(this.stateObj, 64);\n  }\n\n  get supportsSetTiltPosition() {\n    return supportsFeature(this.stateObj, 128);\n  }\n\n  get isTiltOnly() {\n    const supportsCover =\n      this.supportsOpen || this.supportsClose || this.supportsStop;\n    const supportsTilt =\n      this.supportsOpenTilt || this.supportsCloseTilt || this.supportsStopTilt;\n    return supportsTilt && !supportsCover;\n  }\n\n  openCover() {\n    this.callService(\"open_cover\");\n  }\n\n  closeCover() {\n    this.callService(\"close_cover\");\n  }\n\n  stopCover() {\n    this.callService(\"stop_cover\");\n  }\n\n  openCoverTilt() {\n    this.callService(\"open_cover_tilt\");\n  }\n\n  closeCoverTilt() {\n    this.callService(\"close_cover_tilt\");\n  }\n\n  stopCoverTilt() {\n    this.callService(\"stop_cover_tilt\");\n  }\n\n  setCoverPosition(position) {\n    this.callService(\"set_cover_position\", { position });\n  }\n\n  setCoverTiltPosition(tiltPosition) {\n    this.callService(\"set_cover_tilt_position\", {\n      tilt_position: tiltPosition,\n    });\n  }\n\n  // helper method\n\n  callService(service, data = {}) {\n    data.entity_id = this.stateObj.entity_id;\n    this.hass.callService(\"cover\", service, data);\n  }\n}\n\nexport const supportsOpen = (stateObj) => supportsFeature(stateObj, 1);\n\nexport const supportsClose = (stateObj) => supportsFeature(stateObj, 2);\n\nexport const supportsSetPosition = (stateObj) => supportsFeature(stateObj, 4);\n\nexport const supportsStop = (stateObj) => supportsFeature(stateObj, 8);\n\nexport const supportsOpenTilt = (stateObj) => supportsFeature(stateObj, 16);\n\nexport const supportsCloseTilt = (stateObj) => supportsFeature(stateObj, 32);\n\nexport const supportsStopTilt = (stateObj) => supportsFeature(stateObj, 64);\n\nexport const supportsSetTiltPosition = (stateObj) =>\n  supportsFeature(stateObj, 128);\n\nexport function isTiltOnly(stateObj) {\n  const supportsCover =\n    supportsOpen(stateObj) || supportsClose(stateObj) || supportsStop(stateObj);\n  const supportsTilt =\n    supportsOpenTilt(stateObj) ||\n    supportsCloseTilt(stateObj) ||\n    supportsStopTilt(stateObj);\n  return supportsTilt && !supportsCover;\n}\n","import { supportsFeature } from \"../common/entity/supports-feature\";\n\nexport default class MediaPlayerEntity {\n  constructor(hass, stateObj) {\n    this.hass = hass;\n    this.stateObj = stateObj;\n    this._attr = stateObj.attributes;\n    this._feat = this._attr.supported_features;\n  }\n\n  get isOff() {\n    return this.stateObj.state === \"off\";\n  }\n\n  get isIdle() {\n    return this.stateObj.state === \"idle\";\n  }\n\n  get isMuted() {\n    return this._attr.is_volume_muted;\n  }\n\n  get isPaused() {\n    return this.stateObj.state === \"paused\";\n  }\n\n  get isPlaying() {\n    return this.stateObj.state === \"playing\";\n  }\n\n  get isMusic() {\n    return this._attr.media_content_type === \"music\";\n  }\n\n  get isTVShow() {\n    return this._attr.media_content_type === \"tvshow\";\n  }\n\n  get hasMediaControl() {\n    return (\n      [\"playing\", \"paused\", \"unknown\", \"on\"].indexOf(this.stateObj.state) !== -1\n    );\n  }\n\n  get volumeSliderValue() {\n    return this._attr.volume_level * 100;\n  }\n\n  get showProgress() {\n    return (\n      (this.isPlaying || this.isPaused) &&\n      \"media_duration\" in this.stateObj.attributes &&\n      \"media_position\" in this.stateObj.attributes &&\n      \"media_position_updated_at\" in this.stateObj.attributes\n    );\n  }\n\n  get currentProgress() {\n    var progress = this._attr.media_position;\n    if (this.isPlaying) {\n      progress +=\n        (Date.now() -\n          new Date(this._attr.media_position_updated_at).getTime()) /\n        1000.0;\n    }\n    return progress;\n  }\n\n  get supportsPause() {\n    return supportsFeature(this.stateObj, 1);\n  }\n\n  get supportsVolumeSet() {\n    return supportsFeature(this.stateObj, 4);\n  }\n\n  get supportsVolumeMute() {\n    return supportsFeature(this.stateObj, 8);\n  }\n\n  get supportsPreviousTrack() {\n    return supportsFeature(this.stateObj, 16);\n  }\n\n  get supportsNextTrack() {\n    return supportsFeature(this.stateObj, 32);\n  }\n\n  get supportsTurnOn() {\n    return supportsFeature(this.stateObj, 128);\n  }\n\n  get supportsTurnOff() {\n    return supportsFeature(this.stateObj, 256);\n  }\n\n  get supportsPlayMedia() {\n    return supportsFeature(this.stateObj, 512);\n  }\n\n  get supportsVolumeButtons() {\n    return supportsFeature(this.stateObj, 1024);\n  }\n\n  get supportsSelectSource() {\n    return supportsFeature(this.stateObj, 2048);\n  }\n\n  get supportsSelectSoundMode() {\n    return supportsFeature(this.stateObj, 65536);\n  }\n\n  get supportsPlay() {\n    return supportsFeature(this.stateObj, 16384);\n  }\n\n  get primaryTitle() {\n    return this._attr.media_title;\n  }\n\n  get secondaryTitle() {\n    if (this.isMusic) {\n      return this._attr.media_artist;\n    }\n    if (this.isTVShow) {\n      var text = this._attr.media_series_title;\n\n      if (this._attr.media_season) {\n        text += \" S\" + this._attr.media_season;\n\n        if (this._attr.media_episode) {\n          text += \"E\" + this._attr.media_episode;\n        }\n      }\n\n      return text;\n    }\n    if (this._attr.app_name) {\n      return this._attr.app_name;\n    }\n    return \"\";\n  }\n\n  get source() {\n    return this._attr.source;\n  }\n\n  get sourceList() {\n    return this._attr.source_list;\n  }\n\n  get soundMode() {\n    return this._attr.sound_mode;\n  }\n\n  get soundModeList() {\n    return this._attr.sound_mode_list;\n  }\n\n  mediaPlayPause() {\n    this.callService(\"media_play_pause\");\n  }\n\n  nextTrack() {\n    this.callService(\"media_next_track\");\n  }\n\n  playbackControl() {\n    this.callService(\"media_play_pause\");\n  }\n\n  previousTrack() {\n    this.callService(\"media_previous_track\");\n  }\n\n  setVolume(volume) {\n    this.callService(\"volume_set\", { volume_level: volume });\n  }\n\n  togglePower() {\n    if (this.isOff) {\n      this.turnOn();\n    } else {\n      this.turnOff();\n    }\n  }\n\n  turnOff() {\n    this.callService(\"turn_off\");\n  }\n\n  turnOn() {\n    this.callService(\"turn_on\");\n  }\n\n  volumeDown() {\n    this.callService(\"volume_down\");\n  }\n\n  volumeMute(mute) {\n    if (!this.supportsVolumeMute) {\n      throw new Error(\"Muting volume not supported\");\n    }\n    this.callService(\"volume_mute\", { is_volume_muted: mute });\n  }\n\n  volumeUp() {\n    this.callService(\"volume_up\");\n  }\n\n  selectSource(source) {\n    this.callService(\"select_source\", { source });\n  }\n\n  selectSoundMode(soundMode) {\n    this.callService(\"select_sound_mode\", { sound_mode: soundMode });\n  }\n\n  // helper method\n\n  callService(service, data = {}) {\n    data.entity_id = this.stateObj.entity_id;\n    this.hass.callService(\"media_player\", service, data);\n  }\n}\n"],"sourceRoot":""}